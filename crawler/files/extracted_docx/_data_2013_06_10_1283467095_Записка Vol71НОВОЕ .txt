Правительство Российской Федерации



Федеральное государственное автономное образовательное учреждение 

высшего профессионального образования



«Национальный исследовательский университет 
«Высшая школа экономики»





Московский институт электроники и математики Национального 

исследовательского университета "Высшая школа экономики"



Факультет электроники и телекоммуникаций

Кафедра радиоэлектроники и телекоммуникаций







ВЫПУСКНАЯ КВАЛИФИКАЦИОННАЯ РАБОТА

(дипломный проект)



На тему        Флэш-накопитель с информационным дисплеем                                (Flash-drive with information display)            

                                                                                                                                   





Студент группы № Р-91

Гречко Алесей Андреевич

                       (Ф.И.О.)



Руководитель ВКР

Профессор, доц. Жаднов В.В.

    (должность, звание, Ф.И.О.)





Консультант по ВКР

Ст. Преподаватель, Богачёв К.А.

    (должность, звание, Ф.И.О.)















Москва, 2013



Аннотация



Целью данного дипломного проекта было создание флэш-накопителя с информационным дисплеем, отображающим информацию о свободной памяти и остаточном ресурсе. В проделанной работе рассмотрены вопросы разработки и анализа принципиальной схемы, выбор и обоснование элементной базы, выбор материала для изготовления печатного узла и способ изготовления платы. Были проведены следующие расчёты: расчёт параметров печатных проводников. расчёт электрических параметров. Также было проведено моделирование на тепловые и механические воздействия в подсистеме АСОНИКА-ТМ.

	















































Перечень сокращений



NOR-Not OR (с англ. НЕТ-ИЛИ)

NAND- NOT AND (с англ. НЕТ-И)

DRAM - Dynamic random access memory (с англ. Динамическая память с произвольным доступом)

CHE — channel hot electrons ( с англ. Инжекция горячих электронов)

USB- Universal Serial Bus  (с англ. Универсальная последовательная шина)

SPI- Serial Peripheral Interface(с анг. Последовательный периферийный интерфейс)

vLDO- very Low DropOut (с англ. Очень малое падение напряжения) 

AC- alternating current (с англ. переменный ток)

DC-  direct current (англ. постоянный ток)

АЛУ - арифметико-логического  устройство 

ОЗУ- оперативное запоминающее устройство

USB SIE- Serial Interface Engine(с англ. Серийный цифровой интерфейс)

SMD- surface mounted device ( c англ. прибор монтируемый на поверхность)

ЭМС- Электромагнитная совместимость

РЭА-  радиоэлектронная аппаратура 






Оглавление
































1. СПЕЦИАЛЬНАЯ ЧАСТЬ




ВВЕДЕНИЕ



На сегодняшний день флэш-накопитель является самым популярным средством переноса информации. Кроме того, флэш-накопитель используется не только в качестве самостоятельного устройства, но и как составная часть  mp3 плееров, сотовых телефонов, микроконтроллеров и ещё целого ряда устройств.

В данной работе рассматривается проектирование флэш-накопителя с информационным дисплеем. Данное  устройство не имеет аналогов на рынке и  является собственной разработкой. Основной акцент поставлен на оригинальность и полезный функционал устройства. На дисплее отображается информация об остаточном ресурсе накопителя и количестве свободной памяти. Главный принцип при построении устройства заключается в простоте и функциональности, поэтому разрабатывался не сам флэш-накопитель, а только устройство вывода на экран информации о количестве свободной памяти и остаточном ресурсе. Это намного облегчит и удешевит разработку. 




1.1. Основные особенности флэш-накопителя



Японец Фудзе Масуока в 1984 году, будучи сотрудником компании Toshiba, сделал гениальное открытие , что впоследствии перевернуло весь мир электронных устройств. В настоящее время  открытию флэш- паяти уделяется ничуть не меньшее внимание, чем двадцать лет назад. 

 Существует большое количество различных версий о происхождении слова «флэш», однако, на мой взгляд, оно происходит от английского flash, то есть быстрый, мгновенный.

Первыми потенциал в разработке японца, увидела американская компания Intel, и примерно через год выпустила чип для коммерческого использования построенные на NOR архитектуре. Уже через год, компания Toshiba анонсировала новый вид архитектуры NAND,  которая не имела принципиальных отличий от NOR. Спустя 29 лет после изобретения флэш-памяти ни один мобильный телефон, ни один мп3 плеер не обходился без этого изобретения. Если взглянуть более детально, то память  микроконтроллера также использует флэш архитектуру. То есть можно сделать вывод, что абсолютно любая электроника, включая ту, где на первый взгляд  кажется не используется память, например, компьютерная клавиатура, тем не менее использует флэш-память так как ни один микроконтроллер не сможет без неё обойтись. 

Главное преимущество носителя информации на транзисторах заключается в отсутствии движущихся частей, что значительно снижает массогабаритные показатели устройств. Так же это в значительной степени снизило потребляемую энергию. По разным оценкам информация на флэш-накопителе может храниться около 10 лет.

 В  современном мире флэш-накопители вытесняют своих конкурентов: CD диски и жёсткие диски, так как менее подвержены механическим воздействиям, меньше по размерам, выше скорость чтения и записи.

С каждым годом инженерам удаётся всё дальше продвинуться в степени интеграции и уменьшения размеров кристалла, что позволяет при том же размере устройства увеличить объём памяти. Ещё одно направление работы, это увеличение количества байтов хранящихся в одном кристалле.  



Организация флэш-памяти

Ячейки памяти бывают на одном или нескольких транзисторах.

В классическом варианте каждая отдельная ячейка хранит не больше одного бита информации, при этом состоит из  полевого транзистора, который обладает плавающим затвором. Наличие или отсутствие заряда на транзисторе означает или кодирует бит информации(см. рис. 1).







Рисунок 1.  Ячейка флэш-памяти



Во время записи существует  два способа, что бы поместить заряд на затвор

Первый способ: подвижные носители заряда в твердотельном проводнике, становятся "горячими" при протекании электрического тока под действием сильного поля - данный метод называется метод инжекции "горячих электронов".

Второй способ: методом туннелирования электронов-преодоление микрочастицей потенциального барьера в случае, когда её полная энергия (остающаяся при туннелировании неизменной) меньше высоты барьера. Туннельный эффект — явление исключительно квантовой природы, невозможное в классической механике.

Стирание содержимого ячейки (снятие заряда с «плавающего» затвора —  плавающий затвор представляет собой область поликремния, окруженную со всех сторон диэлектриком, то есть он электрически не связан с другими электродами и его потенциал «плавает».) Производится всегда единственным способом — методом тунеллирования.

Как правило, наличие заряда на транзисторе понимается как логический  ноль «0», а его отсутствие — как логическая единица «1». 

 Общий принцип работы ячейки флэш-памяти.

Рассмотрим простейшую ячейку флэш-памяти на одном n-p-n транзисторе. Такого типа ячейка чаще всего использовались во flash- памяти с "НЕТ-ИЛИ" архитектурой.

Работа транзистора зависит от количества электронов на «плавающем» затворе. «Плавающий» затвор имеет ту же роль, что и конденсатор в DRAM, то есть  хранит значение записанное в ячейке.

Помещение заряда на «плавающий» затвор в такой ячейке осуществляется методом инжекции «горячих» электронов (CHE — channel hot electrons), а снятие заряда производится методом квантомеханического туннелирования Фаулера-Нордхейма (Fowler-Nordheim).

Эффект туннелирования —использует волновые свойства электрона. Эффект состоит в прохождении электроном потенциального барьера малой «толщины». Для наглядности можно представить  себе структуру, состоящую из двух проводящих областей, разделенных тонким слоем диэлектрика. Пройти этот слой за счёт только своей энергии электрон не может, на это её не хватит. Но возможно создать определённые внешние условия (соответствующее напряжение и т.п.) электрон проходит слой диэлектрика (туннелирует сквозь него), создавая электрический ток (см. рис. 2).







Рисунок 2. Считывание данных, в отсутствие заряда

на «плавающем» затворе



Как только происходит считывание данных, при отсутствие заряда на «плавающем» затворе, под воздействием положительного поля на управляющем затворе образуется n- канал в подложке между стоком и истоком, и возникает электрический ток (рисунок 2).

При считывании данных, в отсутствие заряда на «плавающем» затворе, под воздействием положительного поля на управляющем затворе образуется n-канал в подложке между истоком и стоком, и возникает ток (рисунок 2).

Наличие заряда на «плавающем» затворе меняет вольтамперные характеристики транзистора таким образом, что при обычном для чтения напряжении канал не появляется, и тока между истоком и стоком не возникает (см. рис. 3).







Рисунок 3. Считывание данных при наличии

заряда на «плавающем» затворе



При записи данных в ячейку на сток и управляющий затвор подаётся высокое напряжение (причём на управляющий затвор напряжение подаётся приблизительно в два раза выше). «Горячие» электроны из канала инжектируются на плавающий затвор и изменяют вольтамперные характеристики транзистора (см. рис. 4).







Рисунок 4. Запись данных в ячейку флэш-памяти



При стирании данных в ячейке высокое напряжение подаётся на исток. На управляющий затвор (опционально) подаётся высокое отрицательное напряжение. Электроны туннелируют на исток (см. рис. 5).










Рисунок 5. Стирание данных из ячейки флэш-памяти



Многоуровневые ячейки

Не так давно, многие производители начали выпускать микросхемы, где одна ячейка хранит несколько бит информации. Технология хранения двух и более бит в одной ячейке получила название MLC (multilevel cell —многоуровневая ячейка – см. рис. 6).



























Рисунок 6.  Схемы одноуровневой и многоуровневой ячеек



В технологии MLC используется аналоговая природа ячейки памяти. Как известно, обычная однобитная ячейка памяти может принимать одно из двух состояний — «0» или «1». Во флэш-памяти эти два состояния различаются по величине заряда, помещённого на  «плавающий» затвор транзистора. В отличие от «обычной» флэш-памяти, MLC способна различать более двух величин зарядов, помещённых на «плавающий» затвор, и, соответственно, может принимать большее число состояний. При этом каждому состоянию в соответствие ставится определенная комбинация значений бит.

Во время записи на «плавающий» затвор помещается количество заряда, соответствующее необходимому состоянию. От величины заряда на «плавающем» затворе зависит пороговое напряжение транзистора. Пороговое напряжение транзистора можно измерить при чтении и определить по нему записанное состояние, а значит и записанную последовательность бит.



Основные преимущества MLC микросхем:

-При равном размере микросхем и одинаковом техпроцессе «обычной» и MLC-памяти, последняя способна хранить больше информации. На основе MLC возможно создать микросхему большую по объёму памяти, чем при одноуровневой ячейки 



Основные недостатки MLC:

-Снижение надёжности, по сравнению с однобитными ячейками, и, соответственно, необходимость внедрения сложного механизма исправления ошибок.

-Быстродействие микросхем на основе MLC  ниже, чем у микросхем на основе однобитных ячеек.

-Хотя размер MLC-ячейки такой же, как и у однобитной, дополнительно  требуется место на специфические схемы чтения/записи многоуровневых ячеек.



Доступ к флэш-памяти

Существует три основных типа доступа:

-обычный (Conventional): произвольный асинхронный доступ к ячейкам памяти;

-пакетный (Burst): синхронный, данные читаются параллельно, блоками по 16 или 32 слова. Считанные данные передаются последовательно, передача синхронизируется. Преимущество перед обычным типом доступа - экономия времени при быстром последовательном чтении данных. Недостаток — медленный произвольный доступ;

-страничный (Page): асинхронный, блоками по 4 или 8 слов. Преимущества: очень быстрый произвольный доступ в пределах текущей страницы. Недостаток: относительно медленное переключение между страницами.



Архитектура флэш-памяти

Есть два основных типа архитектур NOR и NAND.

 Они очень похожи друг на друга, отличие заключается в том, что NOR расшифровывается "Или-не", а NAND "и-не".

NOR (NOT OR, ИЛИ-НЕ) 

Обладает параллельным интерфейсом и произвольным режимом чтения и записи.

Преимущества: высокая скорость чтения и записи при доступе к произвольному биту информации.

Недостатки: невозможно технологически уменьшить размер транзистора.

Плохо масштабируется, так как имеет большой размер ячейки.

Единственный тип памяти, работающий на двух разных напряжениях. Идеально подходит для хранения кода программ (PC BIOS, сотовые телефоны), идеальная замена обычному EPROM (см.рис. 7). 





Рисунок 7 – Тип архитектуры NOR



Основные производители: AMD, Intel, Sharp, Micron, Ti, Toshiba, Fujitsu, SGS-Thomson, STMicroelectronics, SST, Samsung, Winbond, Macronix.

Программирование: методом инжекции "горячих" электронов.

Стирание: туннеллированием FN.

Доступ произвольный, но небольшими блоками (наподобие кластеров жёсткого диска). Последовательный интерфейс. Память подходит для задач, требующих произвольного доступа (см. рис. 8).






Рисунок 8. Тип архитектуры NAND 



Преимущества: небольшой размер блока, быстрая запись и стирание.

Недостатки: невозможность побайтной записи, относительно медленный произвольный доступ. 

Наиболее подходящий тип памяти для приложений, ориентированных на блочный обмен: MP3 плееров, цифровых камер и в качестве заменителя жёстких дисков.

Основные производители: Toshiba, AMD/Fujitsu, Samsung, National

Программирование: туннелированием FN.

Стирание: туннеллированием FN.

Доступ к ячейкам памяти последовательный, архитектурно напоминает NOR и NAND, комбинирует их лучшие свойства. Небольшой размер блока, возможно быстрое мультиблочное стирание. Подходит для потребностей массового рынка (см. рис. 9). 



Рисунок 9. Тип архитектуры "AND DiNOR" 



Тип памяти, комбинирующий свойства NOR и NAND. Доступ к ячейкам произвольный. Использует особый метод стирания данных, предохраняющий ячейки от пережигания (что способствует большей долговечности памяти). Размер блока в DiNOR всего лишь 256 байт (см. рис. 10).



Рисунок 10. Тип архитектуры DiNOR

Основные производители: Mitsubishi Electric, Hitachi, Motorola.

Программирование: туннелированием FN.

Стирание: туннеллированием FN. [9]



1.2. Анализ принципиальной схемы



Принципиальная схема устройства отображения информации флэш-накопителя приведена на рис.11.





Рисунок 11. Принципиальная схема 



Схема содержит два контроллера DD2 и DD3 , мультиплексор DD1, стабилизатор питания DA1, контроллер заряда аккумулятора DA2 и ЖК-дисплей  DD4.

Микросхема DD1 является быстродействующим мультиплексором, которая переключает сигнал подаваемый на вход D1, D2 на выходы C1а, C2а или на C1б, C2б. Переключение происходит в зависимости от того, какой логический сигнал пришёл на вход ИН1, ИН2. Когда на него подаётся логический «о», то сигнал пойдёт на C1b, C2b, таким образ в данном режиме устройство работает напрямую с ПК. Если на вход IN1, IN2 подать логическую «1», то сигнал пойдёт на выходы C1a, C2a, которые подключены к контроллеру DD2, в этом случае устройство работает в режиме отображения информации на ЖК-дисплее. Питание +3.3В подаётся  на вход VDD, параллельно шине питания установлен фильтрующий конденсатор номиналом 0.1мкФ.

Микросхема DD2 является USB- контроллером. Сигнал подаётся по USB шине на вход DD1, обрабатывается и передаётся контроллеру DD3 по SPI-интерфейсу. Тактовую частоту работы контроллера задаёт кварцевый резонатор ZQ1. На всех шинах заземления установлены фильтрующие конденсаторы в соответствии с требованиями производителя. Сигнал с DD1 поступает через резисторы R3 и R4 номиналом по 33 Ом. На контакт Vcc подаётся  +3.3В, шина питания спроектирована в соответствии с технической документацией на данный компонент. 

Микроконтроллер DD3 является центральным процессором всего устройства, обрабатывает сигнал полученный с DD2 по SPI-интерфейсу. Тактовую частоту работы задаёт кварцевый резонатор  ZQ2. Так же данная микросхема выводит информацию на ЖК-дисплей DD4. Питание подаётся на AVCC и Vcc входы, шина питания спроектирована в соответствии с требованиями производителя.

 ЖК-дисплей DD4, принимает сигнал от DD3, отображает информацию в соответствии таблицей кодов символом. Питание +3.3В подаётся на вход Vdd, контрастность регулируется при помощи подачи +3.3В на вход Vo, через подстрочный резистор. На перспективу программно заложена возможность использования подсветки через входы А/Vee и К ЖК-дисплея.

 Так как микросхема DD2 требует питания 3.3В, что удовлетворяет требованиям по питанию других компонентов, стабилизируем питание микросхемой DA1, на выходе которой имеем +3.3В.  Конденсаторы С1,С3,С7 установлены в соответствии с указаниями производителя.

 Аккумулятор заряжается с помощью микросхемы DA2. Когда на разъём USB подаётся +5В, микросхема заряжает аккумулятор, кроме того имеется возможность зарядки от внешнего DC- источника питания. Через выход CHG компонент передаёт контроллеру DD3 информацию о состоянии заряда.



1.3. Анализ принципов работы устройства



Принцип работы устройства будем рассматривать на основе принципиальной схемы(см. рис. 11)

К разъёму х1, подключается флэш-накопитель. Далее, если устройство подключено к компьютеру, то USB ключ, выполненный на интегральной микросхеме ADG772 (DD1) направляет потоки информации в компьютер минуя микроконтроллер ATmega328(DD2).

При отключении от компьютера, USB ключ передаёт информацию о своём состоянии микроконтроллеру DD2  посредством SPI-интерфейса. SPI - популярный интерфейс для последовательного обмена данными между микросхемами. Шина SPI организованна по принципу "ведущий-ведомый". В данном случае в качестве ведущего является микроконтроллер, а ведомого-  USB ключ, который передаёт информацию о своём состоянии, микроконтроллер её обрабатывает и даёт указание ключу направлять сигнал на компьютер подключенный через разъём Х3  или на микросхему MAX3421(DD2). 

 MAX3421- является USB-контроллером с SPI интерфейсом. USB- интерфейс передачи данных, так же как и SPI является полярным интерфейсом для последовательной передачи данных. Расшифровывается  USB как Universal Serial Bus(универсальная последовательная шина).  Это обозначает, что  USB устройство "сообщает" своему ведущему устройтству код класса, для загрузки драйверов. Таким образом, по USB протоколу могут работать множество различных устройств от звуковой карты до флэш-накопителя. Но если подключить  накопитель напрямую к микроконтроллеру, то в последний придётся загружать специальные библиотеки, что является очень энергоёмкой задачей и не логично, так как существует микроконтроллер MAX3421, который преобразовывает сигнал USB в SPI интерфейс, и передаёт данные со скоростью до 480МБит/с, что в полном объёме удовлетворяет спецификации на USB2.0.  Таким образом, с помощью этой микросхемы и с минимальными потерями мы связываем микроконтроллер с USB устройством. Контроллер DD2 подключен к ключу  DD1 через резисторы номиналом 33Ом, так как этого требует производитель.    Когда устройство подключено к компьютеру, микросхема MAX1555(DA2) начинает заряжать аккумулятор и передаёт сигнал микроконтроллеру DD3. Если устройство не подключено к компьютеру, то микроконтроллер DD3 даёт сигнал USB ключу DD1 о направлении сигнала на контроллер DD2, который преобразовывает USB сигнал в сигнал "понятный" микроконтроллеру DD3.

 ATmega328 является высокопроизводительным 8 битный AVR микроконтроллером с 32 КБ внутрисистемной программируемой Flash памятью. Микроконтроллер программируется с помощью параллельного или последовательного программатора. В обвязке микроконтроллера DD2 и DD3 стоит кварцевый резонатор для задания тактовой частоты 12МГц. Контроллер будет запрограммирован работать по определенному алгоритму, таким образом, чтобы обрабатывать сигнал идущий с DD2 и получать информацию о количестве свободной памяти на флэш-накопителе. Для того, чтобы посчитать остаточный ресурс устройства, микроконтроллер ведёт подсчёт и записывает в память количество включений накопителя, потом вычитает данное число из указанного производителем гарантированного ресурса. 

 Таким образом, мы получаем информацию о свободном месте и остаточном ресурсе флэш-накопителя. В автономном режиме работы схема питается от аккумулятора 3,6В, через линейный регулятор напряжения LP2989AIM-3.3, который стабилизирует напряжение 3,3В. Данный компонент относится к классу линейных регуляторов напряжения, так называемый  very Low DropOut(vLDO), что переводится как "с очень малым падением напряжения". Производитель указывает установить на входе и выходе устройства конденсаторы номиналом 2.2 мкФ и 4.7 мкФ соответственно.

 За отображение данных отвечает дисплей WH1602, подобные дисплеи используются с 90-х годов и являются самыми распространенными и по сей день. Индикатор работает на основе контроллера HD44780, который стал стандартом контроллеров монохромных жидкокристаллических знакосинтезирующих дисплеев с параллельным 4- или 8-битным интерфейсом. Сигнал на дисплей идёт с микроконтроллера ATmega328, управление контрастом идёт через подстрочный резистор R8.

Структурная схема устройства приведена на рис. 12.








Рисунок 12. Структурная схема





1.4. Выбор элементной базы



LP2989AIM-3.3-Линейный регулятор напряжения.

Данный компонент является регулятором с очень малым падением напряжения или very Low DropOut(vLDO),в нашем конкретном случае стабилизирует напряжение с аккумулятора, функциональная схема представлена на рис. 13.








Рисунок 13. Функциональная схема LP2989AIM-3.3



Основные характеристики приведены в таблице 1.



Таблица 1. Основные характеристики.





Выбор обоснован популярностью данного компонента. Высокой надежностью и доступностью.



MAX1555EZK- контроллер заряда для Li+ аккумуляторов

Данный компонент является интегральной схемой контроля заряда аккумулятора с линейным типом регулятора. Обладает рядом отличительных особенностей:

-Возможность питания от USB шины( 5В, до 500мА) или АС- адаптера

-Автоматическое подключение к АС- адаптеру

 Функциональная схема приведена на рис. 14.





Рисунок 14. Функциональная схема MAX1551



Назначение выводов:

DC- подключение внешнего источника питания

USB- подключение питания от USB

BAT- подключение Li+ аккумулятора

CHG- подключение к микроконтроллеру для подачи сигнала о состоянии зарядки

Выбор данного компонента обусловлен необходимостью контроля заряда аккумулятора. Компонент зарекомендовал себя с положительной стороны. Является популярным и доступным.

Основные характеристики приведены в таблице 2.



Таблица 2. Основные характеристики



ATMEGA328P- является высокопроизводительный 8 битный AVR микроконтроллер с 32 КБ

Микроконтроллер ATmega328p, является центральным процессором всего проекта, содержит 32кб встроенной flash памяти и 2кб встроенной оперативной памяти, а производительность находятся на уровне до 20 миллионов операций в секунду.

В целях  достижения максимальной производительности у AVR-микроконтроллеров  используется  Гарвардская  архитектура  с  раздельной  памятью и шинами программ данных. Команды в памяти программ выполняются с одноуровневой конвейеризацией.

В процессе выполнения одной инструкции последующая предварительно считывается из памяти программ. Данная концепция  позволяет выполнять одну инструкцию за один машинный цикл.

Память программ представляет собой внутрисистемно программируемую флэш-память. Регистровый файл с быстрым доступом содержит 32 8-разрядных рабочих регистров общего назначения с однотактовым циклом доступа. Благодаря этому достигнута однотактность работы арифметико-логического  устройства (АЛУ). При обычной работе АЛУ из регистрового файла загружается два операнда, затем выполняется операция, а после результат отправляется обратно в регистровый файл и все это происходит за один машинный цикл.  

6 регистров из 32 могут использоваться как три 16-разрядных регистра косвенного адреса для  эффективной адресации в пределах памяти данных. Один из этих указателей адреса может также использоваться как указатель адреса для доступа к таблице преобразования во флэш-памяти программ. Данные 16-разрядные регистры называются X-регистр, Y-регистр и Z-регистр.

АЛУ поддерживает арифметические и логические операции между регистрами, а также между константой и регистром. Кроме того, АЛУ поддерживает действия с одним регистром. После выполнения арифметической операции регистр статуса обновляется для отображения результата выполнения операции.

Для ветвления программы поддерживаются инструкции условных и безусловных переходов и вызовов  процедур,  позволяющих  непосредственно  адресоваться в пределах адресного пространства. Большинство инструкций представляют собой одно 16-разр. слово. Каждый адрес памяти программ содержит 16- или 32-разр. инструкцию. Флэш-память программ разделена на две секции: секция программы начальной загрузки и секция прикладной программы. Обе секции имеют раздельные биты защиты от записи и чтения/записи. Инструкция SPM (запись в секцию прикладной программы) должна использоваться только внутри секции программы начальной загрузки.

При генерации прерывания и вызове подпрограмм адрес возврата из программного счетчика записывается в стек. Стек эффективно распределен в статическом ОЗУ памяти данных и, следовательно, размер стека ограничен общим размером статического ОЗУ и используемым его объемом. В любой программе сразу после сброса должна быть выполнена инициализация указателя стека (SP) (т.е. перед выполнением процедур обработки прерываний  или вызовом подпрограмм). Указатель стека SP доступен на чтение и запись в пространстве ввода-вывода. 

Доступ к статическому ОЗУ данных может быть легко осуществлен через 5 различных режимов адресации архитектуры AVR. 

Гибкий модуль прерываний содержит свои управляющие регистры в пространстве ввода вывода и имеет дополнительный бит общего разрешения работы системы прерываний в регистре статуса. У всех прерываний имеется свой вектор прерывания в соответствии с таблицей векторов прерываний. Прерывания имеют приоритет в соответствии с позицией их вектора. Прерывания с меньшим адресом прерывания имеют более высокий приоритет. 

Пространство памяти ввода-вывода содержит 64 адреса с непосредственной адресацией или может адресоваться как память данных, следующая за регистрами по адресам $20 - $5F. Кроме того,  ATmega328p  имеет  пространство  расширенного  ввода-вывода  по  адресам  $60 - $FF в статическом ОЗУ, для доступа к которому могут использоваться только процедуры ST/STS/STD и LD/LDS/LDD.[10]

Основные характеристики представлены в таблице 3.



Таблица 3. Основные характеристики



Микроконтроллер программируется с помощью специальных средств, например, параллельного программатора. Данный микроконтроллер  идеально справится с поставленными задачами. Конечно, на рынке представлено довольно большое количество аналогов, но поскольку другие производители используют иной алгоритм программирования, предпочтительнее использовать "знакомый" контроллер. 

ADG772Reel7 - USB мультиплексор.

Данная микросхема является ключом. Позволяет передавать информацию со сверхвысокой скоростью и переключать на разные выводы. Поддерживает  стандарт USB 2.0.Функциональная схема приведена на рис. 15.Основные характеристики приведены в таблице 4.

                                                                                                                   Таблица 4. Основные характеристики







Рисунок 15. Функциональная схема ADG772



Контакты IN1 и IN2 управляют переключением режима работы. Логика переключения представлена на рис 16.










Рисунок 16.Логика переключения контактов



Главная особенность данной микросхемы, возможность передавать информацию с максимально возможной скорость 480МБит/с. Что соответствует спецификации на USB 2.0.

Данному компоненту нет аналогов на рынке. По техническим характеристикам является лидирующим, но поскольку компонент новый, пока доступен только под заказ. 



Max3421EETJ- USB- контроллер

МАХ3421- главный контроллер USB, включающий в себя аналоговые цепи и цифровую логику. В режиме периферийного контроллера поддерживает полноскоростной режим в соответствии со спецификацией к  USB 2.0. Имеет алгоритм программного включения и отключения от USB. Микросхема задействует  библиотеку регистров, к которой обращается SPI-интерфейс. Таким образом любой контроллер SPI в режиме "ведущего", может использовать функционал USB шины.

Интегрированные преобразователи логических уровней позволяют интерфейсу SPI работать в системах с напряжением от 1.4В до 3.6В.

USB операции выполняются внутри MAX3421E и завершаются по выполнении прерываниями, поэтому ведущее устройство SPI не нуждается в использовании таймеров для обеспечения временных требований протокола интерфейса USB.

Отличительные особенности:

-Независимое от типа микропроцессора USB решение;

-Программное обеспечение, совместимое с MAX3420E;

-Соответствует требованиям спецификации USB 2.0 (полная скорость обмена (12Mbps) и пониженная (1.5Mbps) в режиме главного контроллера, полная скорость в режиме периферийного устройства (1.5Mbps));

-Интегрированный приемопередатчик USB;

-Аппаратно-программное управление встроенными подтягивающими резисторами;

-Программируемый 3- или 4-проводной SPI интерфейс 26МГц;

-Трансляторы уровней и дополнительный вход VL (преобразователь уровня) позволяют использовать устройство в системах с различными логическими уровнями напряжения;

-Внутренний компаратор позволяет обнаруживать (VBUS) отсутствие питания и осуществлять переход на работу от встроенного дополнительного источника напряжения;

-Защита от воздействия статического электричества выводов D+, D-, VBCOMP;

-Выход прерывания позволяет работать с интерфейсом SPI в режиме опроса и прерываний;

-Сигнал прерывания для универсальных входов с возможностью программирования полярности;

-Программируемый USB SIE(Serial Interface Engine);

-Автоматическая обработка потока данных и двойная буферизация;

-Обработка сигналов нижнего уровня интерфейса USB;

-Наличие таймеров для критичных по времени операций USB позволяет ведущему устройству SPI не отслеживать события в USB.

Структурная схема элемента представлена на рис. 17. 








Рисунок 17. Структурная схема MAX3421E



Данный компонент был выбран, так как не имеет аналогов на рынке.

WH1602B- ЖК индикатор

WH1602 является ЖК индикатором с латинскими и кириллистическим шрифтом. Построен на основе контроллера HD44780 фирмы Hitachi.

Основные характеристики приведены в таблице 5. 



Таблица 5. Основные характеристики



Назначение выводов приведены в таблице 6.



Таблица 6. Назначение выводов





Таблица кодов символов контроллеров приведена на рис. 18.







Рисунок 18. Таблица кодов символов контроллера.



Данный дисплей был выбран как самый распространенный, имеющий в основе контроллер HD44780. Тем не менее, дисплей удовлетворяет всем нашим потребностям. Его легко купить и в сети Интернет находится много информации по согласованию c микроконтроллером ATmega328p.



Выбор резисторов

Для выбора типов резисторов необходимо учитывать режимы работы, мощность, рассеиваемую на резисторе, температурный режим и массогабаритные характеристики. При выборе резистора, необходимо учитывать, что мощность, рассеиваемая в резисторе, влияет на его надёжность. Выбирать номинальную мощность нужно в 1,5-2 раза больше фактической.

	Рассчитать мощность можно по формуле :



Рассчитаем номинальную мощность для резисторов R1,R9 так как в данной схеме они являются самыми мощными:

 

Таким образом, номинал 0,125 Вт будет оптимален данной схемы.

При выборе конденсаторов нужно учитывать напряжение в цепи и,что немаловажно, показатели окружающей среды. Проанализировав условия эксплуатации, наиболее подходящими являются керамические конденсаторы, так как они обладают хорошей термостабильностью и малым разбросом номинальной емкости. 

Поскольку также стоит учитывать массогабаритные показатели, выберем в SMD (ЧИП) исполнении.

Транзисторы, применяемые в схеме с рассеиваемой мощностью не более 0,1Вт.

Все выбранные компоненты отображены в таблице 1 и таблице 2



Таблица 7. Выбранные  компоненты




























2. КОНСТРУКТОРСКО-ТЕХНОЛОГИЧЕСКАЯ ЧАСТЬ




2.1 Анализ требований к конструкции устройства



Исходя из того, что устройство является составной частью флэш накопителя, можно сформулировать ряд требований:

- Тип производства – опытное;

- Флэш накопитель должен быть реализован на печатной плате;

- Флэш-накопитель является портативным, среднетемпературным прибором, работающем в режиме естественной конвекции;

- По типу защиты от поражения электрическим током должен соответствовать прибором 3-го класса обычного исполнения. Рабочее напряжение 5В;

- Печатный узел должен удовлетворять массе и габаритным размерам указанным в разделе «разработка требований к конструкции устройства»;

- Устройство должен удовлетворять электрическим, тепловым и надежностным характеристикам, указанным в разделе «разработка требований к конструкции устройства».



2.2. Обеспечение конструкторских мероприятий по обеспечению электромагнитной совместимости



Поскольку флэш накопитель является устройством работающим в окружение других РЭС, тем более в непосредственной близости от Wi-Fi сетей, компьютеров и других источников электромагнитного излучения, для него особенно актуальна проблема электромагнитной совместимости(ЭМС). Понятие «восприимчивость к помехам» определяет способность ТС, обрабатывающего информацию, при воздействии электромагнитных помех искажать содержание или безвозвратно утрачивать информацию, останавливать или нарушать процесс управления ее обработкой, изменять состав и последовательность функций средства и т.п., а также физического разрушения микроэлементов. Это обязывает при работе устройств решать задачи обеспечения ЭМС.

В данном конкретном случае решение проблемы ЭМС, является разработка конструкторских требований, чтобы флэш-накопитель был не восприимчив к окружающему ЭМИ и сам не являлся источником ЭМИ.

На первый взгляд, самым очевидным решением проблемы ЭМС, было бы разнести устройства, работающие на одной частоте. Но в современном мире это практически не осуществимо и приходится искать другие выходы из сложившейся ситуации. 

Тем не менее, в целях обеспечения ЭМС Правительство Российской Федерации установило строгий регламент  выделения частотных полос работы радиоэлектронных средств.

Решение проблемы электромагнитной совместимости техническими мерами в данном случае возможны два варианта:

1) Экранирование - окружения устройства кожухом из сплава металла.
В нашем случае такой метод не может быть применён, так как это ощутимо поднимет стоимость устройства и сделает его не конкурентно способным.

2) Фильтрация- создание на пути распространения паразитных токов, фильтров, устраняющих появление помех.

В данном устройстве на каждой шине заземления установлен конденсатор, который выполняет функцию сетевого фильтра. 

Также при разработке устройства, насколько это возможно, были выполнены следующие требования: 

1) для снижения активного и индуктивного сопротивления соединительных проводников должно быть минимальным. Для этого их длина должна быть минимальной;

2) Электрическое соединение во всех точках контакта должно обеспечивать минимальное сопротивление.

В масштабе флэш-накопителя была проведена максимальная работа в решении задач ЭМС, а именно:

- на всех шинах заземления установлены фильтрующие конденсаторы;

- конструктивно заложена минимально возможная длина проводников;



2.3. Обоснование конструкции печатного узла.

Разработка требований к конструкции устройства



Печатный узел флэш накопителя должен отвечать следующим требованиям:

Масса: 0,07 кг

Габаритные размеры:

Длина (не более): 100 мм

Ширина (не более): 45 мм

Высота (не более): 22 мм

Диапазон рабочей температуры воздуха при эксплуатации: 0…+40 0С.

Механические воздействия:

Гармоническая вибрация: диапазон частот 1…1000 Гц с амплитудой 1 G

Линейное ускорение в диапазоне  1…5 с с амплитудой 10 G

Многократный удар длительностью 1…10 мс с амплитудой 10 G

Одиночный удар длительностью 1…9 мс с амплитудой 9 G

Разработка конструкции флэш-накопителя с информационным дисплеем производится на основании требований технического задания и проведенного анализа схемы электрической принципиальной. При разработке конструкции устройства, выбирается и обосновывается способ компоновки, вид монтажа, способ защиты от воздействия статического электричества, электромагнитная совместимость устройства, выбор унифицированных и стандартизированных узлов и деталей, выбор флюсов и припоев для монтажа.

В основу выбора способа компоновки положены требования ТЗ об опытном  типе производства, следовательно, прибор должен быть рассчитан на производство с применением современного оборудования и высокой технологии. Современные предприятия производства РЭА, как правило, имеют технологические линии для производства печатного монтажа, а также оборудование и технологические линии для производства узлов и деталей, а также оборудование и технологию нанесения защитных покрытий, контроля качества, испытания узлов РЭА и устройства в целом.



Выбор способа исполнения электропроводящей цепи

На основании изложенного при конструировании выбираем способ компоновки с применением печатной платы и печатного монтажа.

Печатная плата, служащая основой для установки на ней радиоэлементов, представляет собой электроизоляционную плату с контактными площадками предусматривающие установку на них выводов радиоэлементов и систему проводников между ними, соответствующую схеме электрической принципиальной.

С целью оптимизации и минимизации флэш-накопителя используется двухслойная ПП.



Выбор материала ПП

Параметры и свойства материалов для изготовления печатных плат приведены в таблице 8.






Таблица 8. Сравнение материалов печатных плат



Исходя из таблицы 8 выберем материал FR-4, его часто используют для изготовления промышленных ПП и он отлично подойдёт для рассматриваемого устройства, так как обладает прекрасными механическими и электрическими свойствами[6]

Выбор класса точности

ГОСТ 23-751-86 устанавливает 5 классов точности печатных плат, каждый из которых характеризуется минимальными допустимыми значениями номинальной ширины проводника, расстояния между проводниками, расстояния от края отверстия до контактной площадки. В соответствии с предъявляемыми техническим заданием требованиями и исходя из соображений эффективности, целесообразно выбрать класс точности 4. В таблице 9 приведены параметры данного класса точности. 



Таблица 9. Параметры класса точности



Выбор метода изготовления

Основные методы производства двухсторонних, двухслойных и многослойных печатных плат:  

- двусторонние печатные платы (ДПП) комбинированным позитивным методом;

- ДПП полуаддитивным методом;

- многослойные печатные платы (МПП) методом попарного прессования;

- МПП методом металлизации сквозных отверстий;

- МПП методом послойного наращивания;

- МПП комбинацией методов металлизации сквозных отверстий и

 послойного наращивания.

 Поскольку устройство выполнено на двухслойной печатной плате, наиболее подходящий метод изготовления - комбинированный позитивный метод(полуаддитивный метод). Полуаддитивные методы созданы для того, чтобы уйти от длительных процессов толстослойной химической металлизации, заменив их на надежные высокопроизводительные методы электрохимические (гальванические) методы металлизации. Для электрохимических методов необходим токопроводящий подслой. Его создают любым способом, удовлетворяющим по проводимости и прочности сцепления с подложкой: химическим осаждением тонкого слоя металла (до 1 мкм) в течение 15 минут; вакуумным напылением металла и т. д.



 Выбор метода нанесения рисунка

Существуют 3 метода нанесения рисунка. Офсетная печать, сеткографический метод и фотопечать. Выберем метод фотопечати, так как данный метод соответствует 4-5 классу точности. В основе метода лежит нанесение рисунка проводников на медь, для последующего травления - фотолитография УФ облучением на предварительно нанесенный слоей фоторезиста.



2.4. Выполнение конструкторских расчётов



Расчет параметров печатных проводников

Umax = 5 В;

Размер платы 95х40 мм;

Класс точности 4;

Плата двухслойная;

Метод изготовления – комбинированный позитивный метод;

Метод нанесения рисунка – фотопечать;

Норма изготовления – Класс А (ГОСТ 23751-86).                  



Расчет ширины проводников

Ширина проводника зависит от электрических, конструктивных и технологических требований.

Минимальная ширина проводников определяемая: допустимой плотностью тока γ, допустимым падением напряжения ∆U:





где:  – минимальная допустимая ширина проводника;  – максимальная плотность тока для печатных проводников.

Принимаем  = 100 А/мм.

 – толщина печатного проводника. 

 – 0.32А

Для выбранного материала платы  FR-4    = 0.035мм.



Таким образом, минимальная ширина проводников  по расчетам много меньше допустимой по классу точности, примем толщину проводника (минимальная ширина по ГОСТ 23751-86).

Расчет расстояния между проводниками

Наименьшее расстояние между проводниками рассчитывается по формуле:



где:   минимально допустимое расстояние между элементами проводящего рисунка (при U ≤ 25 В SmidD = 0.1);  позиционный допуск расположения печатных проводников (0.05); ∆tв.о.  верхнее предельное отклонения ширины проводника (для 4 класса точности 0.05); S ≈ 0.175 мм.



Расчёт ёмкости между двумя проводниками



где:  - эффективная диэлектрическая проницаемость изоляционных материалов;     -  безразмерная величина, определяющая емкость на единицу длины рассчитываемой системы проводников;  – длина системы проводников, м (см. рис 19).







Рисунок 19. Емкость между проводниками



В печатных платах применяется защита печатного монтажа от воздействия климатических факторов внешней среды путем нанесения на поверхность платы защитных лаков. При этом для одно- и двухсторонних плат при определении    необходимо учитывать диэлектрическую проницаемость основания платы 2 = 5.6, для воздуха   1 = 1.





 и , где  и .

Модуль эллиптического интеграла 1 рода , t = 0.25мм













Из проведенных расчетов видно, что межпроводниковая емкость очень мала и не будет мешать работе устройства.



Моделирование тепловых и механических воздействий

Для оценки уровней механической нагрузки на изделие и температур на элементах, необходимо произвести следующие виды моделирования:

- моделирование теплового воздействия при комнатной температуре;

- моделирование гармонического вибрации частой 9Гц, максимальным ускорением 9g;

-моделирование линейного ускорения с максимальным ускорением 9g;

-моделирование многократного удара с максимальным ускорением 10g;

-моделирование одиночного удара с максимальным ускорением 10g.

Для моделирования используем АСОНИКА-ТМ, так как она идеально подходит для выполнения этих задач.

 Подсистема предназначена для анализа механических и тепловых характеристик печатных узлов (ПУ) и электрорадиоэлементов (ЭРЭ) при тепловых (стационарных и нестационарных) и механических (гармоническая и случайная вибрации, одиночный и многократный удары, линейные ускорения и акустический шум) воздействиях.
Подсистема позволяет проводить:

анализ стационарных и нестационарных тепловых процессов в ПУ;

анализ механических процессов в ПУ при воздействии гармонической и случайной вибраций, одиночных ударов и ударов многократного действия, линейных ускорений и акустических шумов с учетом нелинейности механических характеристик;

комплексный анализ механических процессов в ПУ с учетом температуры нагрева участков ПУ, температуры окружающей среды и аэродинамического сопротивления воздуха;

анализ усталостной прочности выводов ЭРЭ.

Исследуемые конструкции могут быть закреплены произвольным образом и иметь произвольную ориентацию в пространстве.



Анализ ПУ на тепловое воздействие

Анализ ПУ на тепловое воздействие проведен для температуры окружающей среды 40 С.

Результаты моделирования приведены на рис. 20 и в таблице 10.







Рисунок 20. Результаты моделирования теплового воздействия




Таблица 10. Карта тепловых режимов





Вывод: Анализ таблицы 8 показывает, что наибольшее значения коэффициента тепловой нагрузки на элементах VT1 и VT2. Но коэффициент не превысил критического значения. Это означает, что вносить корректировки в конструкцию устройства не требуется.




Анализ ПУ на воздействие гармонической вибрации

Анализ ПУ на воздействие гармонической вибрации проведен для диапазона частот 1-1000 Гц с амплитудой 1 G.

Параметры воздействия приведены на рис. 21.







Рисунок 21. График зависимости амплитуды от времени при линейном гармонической вибрации



Результаты моделирования при воздействии гармонической вибрации приведены в таблице 11.








Таблица 11. Карта механических режимов при воздействий гармонической вибрации 





Вывод: Анализ таблицы 11 показал, что коэффициент механической нагрузки не превысил предельно допустимый уровень, это означает, что устройство не требует доработки.




Анализ ПУ при воздействии линейного ускорения

Анализ ПУ на воздействие линейного ускорения проведен для длительности 1…5 мс с амплитудой 10 G.

Параметры воздействия приведены на рис. 22.







Рисунок 22. График зависимости амплитуды от времени при линейном ускорении



Результаты моделирования при воздействии линейного ускорения приведены в таблице 12.




Таблица 12. Карта механических режимов при воздействии линейного ускорения





Вывод: Анализ таблицы 12 показал, что коэффициент механической нагрузки не превысил предельно допустимый уровень, это означает, что устройство не требует доработки.




Анализ ПУ при воздействии многократного удара

Анализ ПУ на воздействие многократного удара проведен для длительности 1…10 мс с амплитудой 10 G.

Параметры воздействия приведены на рис. 23.







Рисунок 23. График воздействия многократного удара



Результаты моделирования многократного при воздействии многократного удара приведены в таблице 13.






Таблица 13. Карта механических режимов при воздействии многократного удара





Вывод: Анализ таблицы 13 показал, что коэффициент механической нагрузки не превысил предельно допустимый уровень, это означает, что устройство не требует доработки.



Анализ ПУ на воздействие одиночного удара

Анализ ПУ на воздействие одиночного удара проведен для длительности 1…9 мс с амплитудой 9 G.

Параметры воздействия приведены на рис. 24.







Рисунок 24. График воздействия одиночного удара



Результаты моделирования при воздействии одиночного удара приведены в таблице 14.






Таблица 14. Результаты моделирования при воздействии одиночного удара.



Вывод: Анализ таблицы 14 показал, что коэффициент механической нагрузки не превысил предельно допустимый уровень, это означает, что устройство не требует доработки.[3]



2.5. Разработка мероприятий по защите компонентов и узлов от воздействия статического электричества на этапе сборки и настройки аппаратуры



Есть три основных процесса электризации материалов: заряды добавляются, удаляются, делятся. На предмете заряды могут появляться под действием электрического поля. Так же, если два тела из различных материалов соприкоснутся друг с другом, произойдёт обмен зарядов и создастся двойные электрические слои. После разъединения тел  на одном из них будут преобладать положительные заряды, на другом отрицательные. 

 Необходимо помнить, для того что бы достичь результата необходим комплекс мер по защите изделий от повреждений и помех при прохождении заряда:

1. Необходимо создать все условия, что бы предупредить возникновение электростатического заряда;

2. Не допускать попадания заряда на устройства;

3. Увеличить стойкость аппаратуры и комплектующих.

Метод защиты, которые в основном применяют в промышленности делятся на химические, физико-механические и конструктивно-технологические. Первые два пытаются предотвратить возникновение статических зарядов. Конструктивно-технологический метод защищает приборы от статического электричества. Оказывать влияние на утечку заряда может объёмная и поверхностная проводимость материала, на котором концентрируется  заряд. Самое практичное решение - ионизация воздуха, вместе с увеличением поверхностной и объёмной проводимости материалов. Разумеется, необходимо создание путей утечек заряда, чтобы предотвратить попадание статического электричества на оборудование.

  Одним из таких путей является заземление. Чтобы цепь заземления эффективно отводила заряд, необходимо чтобы сопротивление цепи было не больше 10 в 6 степени ОМ. Так же необходимо учитывать, что сопротивление эффективно только в том случае, если сопротивление материалов не больше 10 в 10 степени Ом на метр. 

 Наиболее эффективный метод снятие статического заряда с диэлектриков - это увлажнение воздуха, но это ухудшает условия труда. Влажность воздуха на промышленных предприятиях производящих радиотехническую продукции обычно устанавливают 40%.

Ещё один метод борьбы со статическим электричеством - это покрытие стен и полов помещений токопроводящими материалами. 

 Требования к транспортировке печатных плат и полупроводников:

- Перевозить в токопроводящей упаковке;

- Упаковку устройств чувствительных к заряду следует производить в токопроводящем пенопласте.

 Ещё один не маловажный фактор уменьшения заряда на человеке. Для этого существует специальная антистатическая одежда и обувь ,а также используется заземление. Сборщики оборудования в обязательном порядке должны иметь токопроводящие браслеты, которые соединены с шиной заземления. 

Нельзя забывать и об оборудование, которым производится сборка. Паяльники и весь инструмент в обязательном порядке должны быть заземленными. 

 На сегодняшний день многие компоненты имеют пассивную систему защиты от статического электричества. Это достигается путём установки диодов  внутрь микросхем, которые препятствуют прохождению статического электричества и, тем самым, предотвращают частичное или полное разрушение компонента.

Не всегда последствия статического электричества можно сразу заметить. Случается, что испорчен один параметр компонента. 

 Таким образом, защита микросхем от статического электричества является актуальной и важной задачей, но при должном внимании, вполне осуществимой. Если выполнить все возможные требования, что сформулированы выше, возможно свести риск порчи компонентов и печатных плат к минимуму. [2]



2.6. Выбор и обоснование технологического процесса пайки при сборке печатного узла



Технологический процесс пайки

Поскольку производство флэш-накопителя с информационным дисплеем не серийное, а опытное наиболее выгодно использовать индивидуальную пайку паяльником.

Пайка пояльником применяется при условии мелкосерийного производства, когда экономически не выгодно испольщовать такие способы как пайка волной припоя и др. Основные этапы при пайке пояльником:

фиксация соединяемых элементов;

нанесение дозированного количества флюса и припоя; 

нагрев места пайки до заданной температуры и выдержка в течение фиксированного времени; 

охлаждение соединения без перемещения паяемых деталей; 

очистка и контроль качества соединения.

Основная проблема при пайке паяльником, поддержание постоянной температуры жала, так как современые компоненты при нагревы выходят из строя. Оптимаьные параметры для ручной пайки: тепература жала порядка 320 С , время пайки не больше 3с.  Но поскольку происходит теплоотдача в припой и элементы, температура жала снижается. Необходимо выдерживать достаточную паузу, что бы жало успело вернуться к оптимальной температуре. 



 Припой

Припой предназначен для соединения компонентов и печатного узла. Представляет из себя специально разработанный сплав металлов обладающий хорошей текучестью в расплавленном состоянии, иметь нужные характеристики в твёрдом состоянии, обладить низким коэффициентом теплового сопротивления, стойкость к воздействию внешней среды и механической прочностью.

Поскольку стало проблематично покупать свинцовые компоненты, приходится переходить на бессвинцовые припои. Это дороже, но паять бессвинцовые компоненты, свинцовым пропоем очень рискованно, так как соединение может оказаться не качественным. Припой будем использовать 



Флюс

Для того чтобы очистить поверхность металла от загрязнений и окислов, используют флюс. Можно применять для защиты от факторов окружающей среды. Так как у нас нет особых требований к плате, выберем флюс  ЛТИ 120. Это раствор канифоли в этиловом спирте с добавлением активаторов. Флюс абсолютно нейтрален и легко смывается водой или спиртом. Можно использовать раствор канифоли в этиловом спирте с пропорцией 60 на 30 процентов.



Влагозащитные покрытия

Согласно требованию ТЗ печатная плата после монтажа радиоэлементов требует нанесения защитного покрытия от воздействия климатических факторов.

Выберем эпоксидно-уретановый лак УР-231 ВТУ ГИПИ-4 № 366-62. Покрытие данным лаком обладает хорошим электроизоляционными и механическими свойствами, выдерживает интервал температур от -60ºC до +80ºC, что полностью удовлетворяет требованиям ТЗ, для транспортировки, эксплуатации и хранения устройства. Так же он является недорогим и имеет больший срок годности по сравнению с другими лаками. 

Плату покрываем в два этапа:

когда завершено травление платы, на этом этапе контактные площадки от покрытия лаком предохранить;

когда завершена сборка ПУ. На этом этапе предотвратить покрытие штыревой вилки и светодиодов. Остальную поверхность платы покрыть лаком.

Исходя из экономических соображений, для маркировки выберем эмаль ЭП-72 (черная). Так же можно использовать и другие эмали, например ЭП-5155, АС-5307 и т.д.
































3. ОХРАНА ТРУДА




3.1 Защита оператора ПК от электромагнитных воздействий



Излучение мониторов

Электромагнитное поле компьютера включает в себя рентгеновский, ультрафиолетовый, инфракрасный спектр, в том числе диапазон электромагнитных волн других частот. Экран поглощает рентгеновское излучение, так что этим видом излучения можно пренебречь

Раньше считалось, что воздействие неионизирующего излучения не могла навредить человеку. Но исследования подтвердили, что излучение с частотой 50Гц могут быть причиной биологических изменений.

В итоге при длительном воздействии электромагнитного излучения, людей долго время проводящих за экранами ПК могут привести к нарушениям вплоть до изменения молекулярной структуры.

Современные мониторы выпускаются со специальным прозрачным слоем металла, который заземлён. Это сделано с целью уменьшения излучения. Так же бывают внешние фильтры. Для работы фильтра обязательно необходимо заземление.

Фильтр не всегда приносит пользу и никогда полностью не защищает от электромагнитного излучения, а только ослабляет его. Есть случаи, что фильтр усиливал излучения по бокам экрана на расстоянии 1-1,5м

Всегда необходима полная, комплексная оценка обстановки на рабочем месте. Учитываются расположения всех излучающих устройств.

 Так как излучающий строчный трансформатор находится в районе задней стенки монитора, где защитные фильтры отсутствуют как таковые. Категорически не рекомендуются сидеть ближе чем на 1,5м от задней и боковой стенки монитора.

Уровень ЭМИ напрямую зависит от качества заземлений, поскольку, как правило, в сетях гражданского применения заземление либо отсутствует либо некачественное, что в разы увеличивает электромагнитное излучение. Излучение заземлённого и незаземленного монитора отличается в пять раз.



Излучение портативного ПК

Принято считать, что портативные ПК не наносят вред здоровью человека, так как обладают ЖК дисплеями и имеют экранирующий фильтр. Надо учитывать, что, как правило, ноутбук находится ближе к оператору, чем портативный ПК. 

Излучение беспроводных сетей

Не следует пренебрегать расположением Wi-Fi роутера и других устройств работающих на большой частоте. Проводился эксперимент в котором исследовали влияние излучения Wi-Fi роутеров на ростки пшена. В данном эксперименте ростки пшеницы расположили в комнате с роутером и в помещение без роутера. В результате эксперимента, те ростки что находились ближе к роутеру погибли и не взошли, причём чем к нему ближе, тем ситуация была хуже. В комнате без роутера все ростки взошли.  



Размещение оборудования

При планировке рабочей площади необходимо учитывать, что пагубное излучение оказывает не только тот компьютер, за которым работает пользователь, а и неверно расположенные компьютеры его коллег. Для того чтобы это исключить необходимо воспользоваться следующими правилами:

 Компьютеры должны размещаться в один  ряд на расстоянии более одного метра от стен. Расстояние между рабочими местами должно быть не менее полутора метров. Категорически запрещается, чтобы задняя стенка монитора была направлена в сторону других людей. Если такое расположение невозможно, следует устанавливать заземлённый экран.

Возможный вариант расположения рабочих мест в помещении представлен на рис. 25, 26.





Рисунок 25. Первый способ расположения рабочих мест в помещении





Рисунок 26. Второй способ расположения рабочих мест в помещении



На рис.27 представлены нерекомендуемые варианты расположения рабочих мест с персональными компьютерами. 

 



Рис.27. Нерекомендуемые варианты расположения рабочих мест с персональными компьютерами 


































4. ЭКОЛОГИЧЕСКАЯ ЧАСТЬ






4.1 Особенность перехода на бессвинцовую пайку



Первый шаг для перехода на бессвинцовую технологию был принятие нового законодательства Совета Европы по экологической безопасности.

Основные причины перехода на бессвинцовую технологию заключается в том, что свинец отрицательно влияет на здоровье человека. При вдохе внутрь человека попадают пары свинца. Эти пары оседают в дыхательных путях и в пищеводе. Также доказано, что свинец влияет на репродуктивную функцию.

Хоть электронная промышленность потребляет относительно малый процент свинца, не более 7% от всего объёма потребления, однако рост количества электронных отходов  создают серьёзные проблемы в их утилизации.

Следующая причина, рост требований к температурным условиям узлов пайки. 

Основные группы бессвинцовых припоев:

- Sn/Cu имеет множество недостатков, основные заключаются в высокой температуре плавления и плохими механическими свойствами;

- Sn/Ag Серебросодержащие припои показывают замечательные характеристики сравнимые со свинцовыми припоями, а иногда и опережают их. Но значительно дороже;

-   Sn/Ag/Cu существует много "рецептов" данного припоя. Является одним из самых зарекомендовавщих себя;

-Sn/Ag/Bi данный припой обладает низкой температурой плавления, что определенно повышает надёжность изделия и уменьшает процент брака на производстве;

-Sn/Zn/Bi Данный тип припоя имеет низкую температуру плавления, но существует ряд проблем из-за добавления Zn.

Основное при выборе свинцового и бессвинцового припоя заключается в том, что выбирать бессвинцовый припой приходится гораздо более тщательно. Выбор зависит как от типа изделия, так и применяемого метода пайки.

Технологическое отличие перехода к бессвинцовой пайке, в основном, заключается в разных температурных режимах (см. рис.28). 







Рисунок 28. Термопрофили пайки



Поскольку бессвинцовые припои в основном имеют большую температуры плавления, приходится внимательнее следить за элементами. Так как имеет место порчи компонентов. Также следует следить за скоростью охлаждения устройства. Особенно это заметно с трех компонентными припоями. 

В нашем случае мы используем бессвинцовый припой, так как крайне проблематично купить свинцовые компоненты. 
































5. ЭКОНОМИЧЕСКАЯ ЧАСТЬ






5.1. Анализ рынка аналогичных устройств

В современном мире существуют, десятки тысяч видов флэш-накопителей. Отличаются они как устройством памяти, так и дизайном, объёмом, размером и потребительскими свойствами. 

Производство флэш-накопителей дошло до такого массового уровня, что на сегодняшний день USB флэш-память объёмом памяти 32Gb (см. рис. 29) можно приобрести за 600руб (информация на 05.2013 г.).





Рисунок 29. Флэш-накопитель

 

Производители флэш накопителей всеми способами пытаются найти "своего" клиента. Разнообразные дизайны от флэшки в виде уменьшенной копии автомобиля до кредитной карты (рис. 25). 










Рисунок 30. Различные корпуса флэш-накопителей



В данный момент серийно не выпускаются и свободно не продаются флэш-накопители с дисплеем, отображающим  свободное место и остаточный ресурс. 



5.2. Расчет себестоимости продукции



В таблице 15 приведен расчет себестоимости составных компонентов устройства.



Таблица 15. Себестоимость компонентов

 

Итого себестоимость компонентов: 721,92 руб 

Расчёт компонентов приводился из расчёта выпуска устройства в количестве 50 штук. При крупносерийном производстве себестоимость компонентов значительно снизится

Расчёт стоимости изготовления ПП и монтажа компонентов

Расчёт стоимости будем производить в соответствии с расценками компании http://www.pselectro.ru . Данная компании зарекомендовала себя, как надежного и качественного изготовителя ПП. 

Изготовление ПП и монтаж компонентов из расчёта серии 50шт будет стоить 275 р/шт. 

Итого себестоимость флэш-накопителя с информационным экраном - 996,92 руб.

При серийной производстве себестоимость изделия возможно снизить на 40-60%.




ВЫВОДЫ



В ходе проделанной работы был спроектирован флэш-накопитель с информационным дисплеем. На основе анализа электрической схемы был проведён выбор и обоснование конструкции устройства.

Были проведены расчёты основных конструкторских параметров печатной платы, необходимые при её изготовлении, а так же было проведено моделирование тепловых процессов данного устройства.

Разработаны конструкторские мероприятия по обеспечению ЭМС и обеспечению защиты компонентов и узлов от воздействия статического электричества на этапе сборки и настройки аппаратуры.

В экономической части была рассчитана себестоимость флэш-накопителя.

Таким образом, разработанная конструкция флэш-накопитель с информационным дисплеем отвечает всем требованиям технического задания.




































СПИСОК ЛИТЕРАТУРЫ



Кечиев Л.Н. Проектирование печатных плат для цифровой быстродействующей аппаратуры, ИДТ, Москва, 2007.

Кечиев Л.Н., Пожидаев Е.Д. Защита электронных средств от воздействия статического электричества/Учебное пособие для вузов.

А. С. Шалумов, Ю. Н. Кофанов, Н. В. Малютин, Д. А. Способ, В. В. Жаднов, В. Н. Носков, А. С. Ваченко. / Под ред. Ю. Н. Кофанова, Н. В. Малютина, А. С. Шалумова Автоматизированная система АСОНИКА для проектирования высоконадежных радиоэлектронных средств на принципах CALS-технологий: Том 1 Издательство: «Энергоатомиздат», 2007 г.

Кузьмин А. В. - Flash-память и другие современные носители информации. 2005

Парфенов Е.М., Камышная Э.Н., Усачев В.П. Проектирование конструкций РЭА, Радио и связь, 1990.

Медведев А.М. Печатные платы. Конструкции и материалы - М.: Техносфера, 2005.

Flash- память. Электронный ресурс www.ru.wikipedia.org 

Технологии флэш-памяти. Электронный ресурс www.ixbt.com 

Ядро центрального процессорного устройства AVR. Электронный ресурс www.gaw.ru 

ГОСТ Р 50621-93. Платы печатные одно- и двусторонние с неметаллизированными отверстиями. Общие технические требования.

ГОСТ 23751-86. Платы печатные. Основные параметры конструкции.

ГОСТ 10317-79. Платы печатные. Основные размеры.

ГОСТ 21931-76. Припои оловянно-свинцовые в изделиях. Технические условия.

ОСТ 4.010.022-85. Платы печатные. Методы конструирования и расчета.