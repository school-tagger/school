Правительство Российской Федерации



Федеральное государственное автономное образовательное 

учреждение высшего профессионального образования 

«Национальный исследовательский университет 

"Высшая школа экономики"»



Санкт-Петербургский филиал федерального  государственного 

автономного  образовательного учреждения высшего профессионального образования 

«Национальный  исследовательский  университет "Высшая школа экономики"»



Факультет экономики



Кафедра экономической теории



   БАКАЛАВРСКАЯ РАБОТА

На тему: «Симметрия в высокочастотном финансовом диапазоне»



Направление экономика







                                                                                             Студент группы № 142

                                                                                 Лекомцев Михаил Алексеевич



                                                                                            Научный руководитель

                                               доцент, к.ф-м.наук, 

Рассказов Сергей Вениаминович

















Санкт-Петербург

2013






















Введение

Современные фондовые рынки вступили в новую технологическую фазу. Быстрое развитие области компьютерных вычислений и биржевой инфраструктуры, базируясь на высоком уровне ликвидности, способствовало возникновению алгоритмической торговли и позволило совершать огромное число сделок за короткий промежуток времени. В итоге, появилось абсолютно новое направление в финансах - высокочастотные финансы (англ. high frequency finance, HFF), анализ которых представляет наибольший интерес современных трейдеров. Высокочастотный диапазон в финансах – это рыночная информация (цена, доходность, волатильность и т.д.), временная характеристика которой начинается от секунд до нескольких часов.

В процессе открытия всё новых горизонтов инвестирования, в финансах актуализируется применение фундаментальных научных разработок из других наук. Одной из важнейших смежных наук является эконофизика, изучающая явления в финансах и экономике с точки зрения физических процессов, неотъемлемой составной частью которой является принцип симметрии.

Принимая во внимание огромное фундаментальное значение принципа симметрии в физике и схожести процессов, протекающих в высокочастотном финансовом диапазоне, особый интерес вызывает применение данного принципа в разработке алгоритмических торговых систем, которые являются ключевым элементом взаимодействий в высокочастотном финансовом диапазоне. 

Исходя из этого, целью исследования является определение симметрии в распределении доходностей финансового инструмента в высокочастотном финансовом диапазоне на российском фондовом рынке с последующим применением результатов в расчетах рыночной волатильности.

Согласно поставленной цели исследования, авторы выдвинули следующие задачи:

определить на основе определенных критериев финансовые инструменты, которые будут исследованы на предмет наличия симметрии;

написать программный код в среде MATLAB для совершения процедуры анализа эмпирических рыночных данных с помощью теоретических;

провести анализ эмпирических доходностей в высокочастотном диапазоне с использованием нескольких видов распределений (alpha-stable, normal inverse Gaussian, normal, hyperbolic); 

провести моделирование взаимодействия участников фондового рынка для определения природы рыночных распределений;

определить наличие симметрии распределений в высокочастотном диапазоне;

применить полученные результаты в процедуре оценки рыночной волатильности.

Предметом исследования является симметрия в высокочастотном финансовом диапазоне.

Планируемые методы исследования:

анализ учебно-научной литературы по заданной теме;

математико-статистический, количественный и стохастический анализ и обработка собранных показателей, а именно котировок финансовых инструментов российской биржи ММВБ-РТС;

Следует отметить, что степень разработанности данной темы в русскоязычной литературе крайне низка. Практически отсутствуют какие-либо результаты исследований российского фондового рынка в рамках данной предметной области. Поэтому её неразработанность только увеличивает актуальность данной темы. 

Структура работы поделена на теоретическую и практическую составляющие. В первой главе рассматривается физика принципа симметрии, анализируются характеристики высокочастотного диапазона, описываются виды используемых распределений. Вторая глава состоит из практических аспектов моделирования взаимодействия участников фондового рынка и определения симметрии в высокочастотном финансовом диапазоне на российском фондовом рынке. В заключительной части подводится итог проделанной работы.

Следует отметить, что фундаментальная часть настоящего исследования была удостоена первого места на Втором Всероссийском конкурсе студенческих работ “Развитие финансовых рынков в России” при поддержке биржи ММВБ-РТС.







































1. Принцип симметрии и особенности высокочастотного финансового диапазона

1.1 Принцип симметрии в различных областях науки



Фундаментальные свойства и законы характерно встречаются во многих областях науки, которые выгодно отличаются универсальностью выбора предметного поля. Иными словами, законы, описывающие явления в одной науке, могут быть апробированы в описании и понятии явлений из абсолютно другой. К таковым идеям, безусловно, относится принцип симметрии. Данный принцип нашел самое распространённое применение в статистической физике, позволяя численно описывать многие явления: начиная от фундаментальных законов природы и заканчивая моделированием интенсивного потока от импульса грунтовых вод. Фундаментально, симметрия – это инвариантность относительно группы преобразований. Для более детального описания группы преобразований целесообразно рассмотреть пример из геометрии. 

Рассмотрим две некие геометрические фигуры A1 и A2. В случае совершения над заданными фигурами операций параллельного переноса, вращения и других схожих операций, то в A1 и A2 остается сохранным расстояние  между соответствующими двумя точками V1(x1,y1) и V2(x2,y2) до и V1,2’(x1,2’,y1,2’) после движения. Принято считать, что фигуры будут равными, если их возможно совместить при указанных операциях. В традиционной евклидовой геометрии именно расстояние является инвариантом, в основе которой лежит ортогональная группа преобразований координат точек.

Детализируем определение группы преобразований на рассмотренном примере. Совокупность SymA всех движений , которые обращают фигуру A  саму в себя, образуют группу симметрии фигуры A при выполнение следующих условий:

тождественное преобразование id (единичный элемент e группы) принадлежит множеству SymA;

существует обратное преобразование  -1 (обратный элемент группы), которое также переводит фигуру в себя:   SymA 

 -1  SymA.

Последовательное выполнение движений (преобразований)   SymA и   SymA переводит A в себя. Указанная композиция (операция группового умножения o) движений  записывается как   o   SymA,  при этом  o -1= -1o=e и  o e=e o=.

Композиция трех преобразований не зависит от порядка их выполнения (ассоциативна), то есть ( o) o  =  o( o ).

Переходя к определению понятия самоподобия, которое будет фигурировать в тексте настоящей работы, следует рассмотреть пример простой степенной зависимости вида y = (x)H = eHln(x), сохраняющейся в широком диапазоне масштабов значений входной переменной x. Данная функция симметрична относительно мультипликативных преобразований xx. Данная функция  обладает свойством самоподобия (его часто также связывают с фракталами, о которых более подробно будет описано далее): y’=(x)H=Hy. Происходит сохранение формы выражения y вплоть до константы H с  масштабом   переменной x. Обобщенно функция y(x)=M()y, где M() есть случайная функция масштаба. Обозначая H()=log(M()), последнее выражение переписывается в виде y(x)=H()y. Именно здесь допускается зависимость H от времени, которое играет одну из главных ролей в большинстве процессов, протекающих в экономике и финансах. Аналогичные соображения, примененные к случайным временным рядам, приводят к самоподобным и мультифрактальным процессам.

Целесообразно проиллюстрировать принцип симметрии на нетривиальном примере прямой линии. Прямая это особое множество точек в пространстве: при любом изменении масштаба получится то же самое множество точек. Кроме того, произведя над прямой параллельный перенос, вновь получится полностью аналогичное множество точек. Иными словами прямая линия инвариантна относительно параллельного переноса и изменения масштаба. Благодаря этому, симметрия явно пересекается с понятием фрактал и фрактальной геометрии.

Фрактал - это геометрическая фигура, отдельные части которой, полученные с помощью афинных преобразований,  подобны фигуре в целом, т.е. части фигуры самподобны между собой и вся фигуры в целом самоподобна составляющим частям. В традиционной математике фрактал можно определить как множество точек в евклидовом пространстве, которые обладают дробной размерностью Хаусдорфа – Безиковича, являющейся единственным известным методом определения размерности подмножества в евклидовом множестве. Кроме того, фрактал имеет размерность Хаусдорфа – Безиковича большую, чем топологическая размерность. Так, в евклидовой геометрии множество точек, образующих линию, обладают размерностью d = 1 (т.к. линия одномерный объект); множество точек, образующих поверхность, имеют размерность d = 2 и так далее. Иными словами все привычные геометрические фигуры имеют целочисленную размерность. Именно размерность Хаусдорфа – Безиковича имеет свойство описывать степень неоднородности контура как классических геометрических фигур, так и фракталов.  Определим математически размерность Хаусдорфа – Безиковича, в которой центральное место занимает расстояние между точками в пространстве.

В евклидовом пространстве существует множество G с размерностью d. Исследуемое множестве наполняется геометрическими кубами с размерностью d, при условии, что длина ребра рассматриваемых кубов не превышает некого значения ∂, то есть ∂I < ∂. Далее рассматривается сумма, зависящая от параметров d и ∂:

                                     Ld(∂) = 

Следует отметить, что нижняя грань рассматриваемой суммы равна следующему выражению:



Легко заметить, что уменьшая максимальную длину ∂, при сохранении достаточно большого значения d, будет соблюдаться следующий предел:

	         ∂) → 0

В то же время при малом значении d следующий предел выполняется:

∂) → ∞

Размерностью Хаусдорфа - Безиковича являются пограничные значения параметра dx , для которого справедливо выражение:



Одним из наиболее известных видов геометрических фракталов, который проявляет инвариантность относительно аффинных преобразований, является кривая Коха. Это фрактальная кривая, которая была открыта шведским математиком Хельге фон Кохом в 1914 году. Размерность Хаусдорфа - Безиковича рассматриваемой фрактальной структуры  определяется соотношением:  



где: 

k – число элементов,

l – относительвый размер элементов.

Графически кривая Коха представляется следующим образом (рассмотрен случай для 4 итераций):



Рисунок 1. Кривая Коха до 4 уровня итерации.

Практическое применение кривой Кохи было найдено, в частности, в определении длины береговой линии, описанное Бенуа Мандельбротом.

Помимо геометрических фигур свойствами самоподобия и аффинной инвариантности обладает целый класс функций, открытый ученым Карлом Вейерштрассом и в дальнейшем более детально изучен Бенуа Мандельбротом. Функция Вейерштрасса это пример непрерывной недифференцируемой функции. Аналитически рассматриваемая функция имеет следующий вид:



где:

a – произвольное нечетное число,

b – положительное число, меньше единицы.

Графически функция представлена на Рис.2. Можно отчетливо наблюдать, что при увеличении масштаба функция остается полностью самоподобна, что доказывает её фрактальный характер. Наличие данной характеристики позволило функции Вейерштрасса найти обширное применение в функциональном анализе и решении дифференциальных уравнений высших порядков.



Рисунок 2. Пример графика функции Вейерштрасса. Увеличенное изображение участка графика находится в красном кругу, доказывая самоподобие функции.



Рассмотренные выше примеры характеризуют симметрию и самоподобие, а, следовательно, и инвариантность по масштабу только лишь с точки зрения аффинных преобразований. Но большинство комплексных нетривиальных процессов имеют одно важнейшее отличие от рассмотренных примеров – это фактор времени. Несмотря на всю сложность  описания, существуют процессы, которые обладают симметрией относительно изменения времени. Именно такого рода процессы наиболее актуальны в рамках настоящего исследования и имеют непосредственное происхождение в финансах и экономике.

Утверждение, что то или иное явление стационарно, то есть не зависит от времени, очевидно, очень содержательно: нет нужды прослеживать эволюцию и фиксировать свойства процесса, которые могут изменяться во времени. Столь же содержательно понятие автомодальность, которое перекликается с понятиями симметрии и самоподобия, а также активно применяется в статистической физике. Автомодельность означает, что пространственные распределения характеристик изучаемого процесса или явления (в физике, к примеру, это скорость течения, напряжение, сила тока и так далее) изменяются во времени, но оставаясь геометрически подобным после специализированных преобразований. В качестве примера автомодельного процесса, свойства которого на разных интервалах времени привести к единому образцу, можно привести процесс из статистической физики, в которой такого рода процессы стали впервые изучаться. 

В книге Баренблатта “Автомодельные являения” подробно рассматривается распределение процесса течения грунтовых вод после сильного заводнения. Статистические распределения процесса с разными значениями свободного коэффициента с, характеризующего силу напора, представлены на Рис.3. Абстрагируясь от математического объяснения процесса, изучается одномерный случай, когда все характеристики напора течения H(x,t) зависят от горизонтальной пространственной координаты (x) и времени (t). На Рис.3 можно наблюдать, что в различные моменты времени (отмечено на Рис.3 сплошными линиями) распределения процесса различны. 



Рисунок 3. Процесс временной последовательности напора H(x,t), зависящая от времени, в естественных координатах для разных параметров свободного коэффициента с



Знание распределения напора течения грунтовых вод дает возможность создания максимально прочных оградительных сооружений (дамбы, к примеру). Но в ходе исследования возникло предположение, что рассматриваемый процесс автомоделен и не зависит от времени. В качестве проверки данной гипотезы был проведен численный эксперимент, описанный Баренблаттом. Суть эксперимента заключается в том, что было введено начальное условие для исследуемого процесса H(x,t):

 

где:

H – процесс напора течения грунтовых вод,

x – пространственная координата,

l –  расстояние между пространственными координатами,

f –  функция в виде прямоугольника, значения которой либо 1, либо 0.

При условии, что l конечно, пространственную координату и время можно перенормировать, так что в численном эксперименте было взято значение l = 1. Результаты эксперимента оказались показательными: для всех значений параметра c было обнаружено, что процессы H(0,t) и xf(t) при больших значениях параметра времени t стремятся к степенным законам вида:



Учитывая факт к стремлению к степенным законам, описанным выше, логично произвести нормировку исходных процессов H(x,t) и отобразить их в “приведенных” координатах x/xf(t) и H(x,t)/H(0,t). Результат отображения представлен на Рис.4



Рисунок 4. Представление распределения процесса напора течения грунтовых вод в нормировке.

На рис.4 можно видеть, что временные последовательности для напора воды H(x,t), построенные в приведенных координатах, коллапсируют вне зависимости от времени и свободного коэффициента с к единой параболе вида:



Наличие автомодельности процесса открывает новые перспективы в моделировании и создания более прочных защитных сооружений и конструкций. Кроме того, данный пример, взятый из статистической физики, наглядно демонстрирует возможность инвариантности статистического процесса относительно временного фактора, что в дальнейшем будет апробировано на финансовых данных.

Рассмотрев понятие симметрии под призмой геометрических и физических примеров, необходимо исследовать наличие инвариантности и самоподобия в экономической науке, что представляет наибольший практический интерес в настоящей работе. Но, несмотря на явную плодотворность идеи симметрии в перечисленных выше и иных направлениях науки, о применении данного метода в экономике известно не столь много. Между тем стохастические процессы ценового движения на мировых фондовых рынках заставляют внедрять в финансовые расчеты методы формализации и анализа наподобие существующих в релятивисткой физике. На стыке наук интенсивно развивается новое направление – “Эконофизика”, неотъемлемой составной частью которой является принцип симметрии. 

На данный момент в экономической науке аккумулировано существенное число фактов, в которых прослеживаются черты инвариантности к каким-либо изменениям. Суть автомодельности в большей части изученных фактов в экономике сводится к тому, что некоторые характеристики исследуемого процесса с точностью до константы сохраняются при преобразованиях растяжения или сжатия некоторого аргумента следующего вида:



В вышестоящем выражении в качестве переменной X может выступать время, численность населения или любой другой экономический фактор.

Рассмотрим принцип симметрии на одном из самых тривиальных примеров из области финансов, а именно на примере формулы сложных процентов. Формула сложных процентов имеет следующий вид:

,

где:

∆ = t2 – t1,

P  – современная стоимость денежных средств, т.е. в момент времени t1,

S – будущая стоимость денежных средств, т.е. в момент времени t2,

 – сила роста.

Аналогично случаю проявления симметрии при аффинных преобразованиях, в случае с формулой сложных процентов она остается неизменной при сдвиге границ временного окна, то есть:



Автомодальность формулы проявляется в инвариантности относительно преобразования t → t ±. Из-за этого свойства будущая стоимость денежных средств зависит только от продолжительности временного окна или разности между начальной и конечной датами, а не от самих значений дат. 

Другим, более интересным в рамках настоящего исследования, примером является распределение процесса разности цен на финансовые активы, который, как выяснилось, имеет почти полную аналогию с описанным выше процессом течения грунтовых вод. Но на данный момент не существует модели стохастического процесса, описывающего временную эволюцию логарифма цены, которая была бы принята всеми исследователями. Результаты недавних эмпирических исследований показывают, что возможно ответить на следующие вопросы, которые важны для данного исследования:

имеется ли самоподобие в реальных рыночных данных и какова его природа;

в каком временном интервале имеет место симметрия или самоподобие.

Интересные результаты исследования приведены в работе авторов Wang и Hui “The distribution and scaling of fluctuations of Hang Seng index in Hong Kong stock market”, которые доказывают, что частотные распределения биржи Гонконга самоподобны на различных временных интервалах, то есть после поправки на масштабный коэффициент (аналогично случаю процесса течения напора грунтовых вод) они имеют почти одинаковую форму.

            

Рисунок 5. Функции плотности распределения вероятности изменений цены для индекса Hang Seng, рассчитанные для разных временных горизонтов Δt = 1, 2, 4, 8, 16, 32, 64, 128 мин.

Как видно из Рис.5, без применения преобразований, распределения на разных временных промежутках не является симметричным, которые имеют толстые хвосты, высоко лептоэксцессны и характеризуются негауссовским профилем для малых индексных изменений. Далее авторы рассматривают вероятность возврата к начальному значению, рассчитанному как функция от временного интервала ∆t, находят наклон прямой и затем рассчитывают индекс α и масштабный фактор γ для проверки наличия самоподобия между временными интервалами. В итоге, после масштабных преобразований, была подтверждена масштабная симметрия. Графически симметрия представлена на Рис. 6. Распределения доходностей за разные временные промежутки накладываются друг на друга, что означает автомодальность рассматриваемого процесса относительно фактора времени.

                

Рисунок 6. Функции плотности вероятности после скейлинговых преобразований функций, представленных на Рис.5.

Исследование симметрии и её примеров в разных научных группах и, в особенности, в финансах позволяет утверждать обоснованность дальнейшего изучения явления на примере рыночных процессов на российском фондовом рынке с последующим практическим применением и апробацией.







1.2 Введение в высокочастотный финансовый диапазон, алгоритмический трейдинг и основные  торговые стратегии 



Рассмотрев физику принципа симметрии в различных областях науки, необходимо более детально понять среду, которая будет анализироваться в дальнейшем, а именно высокочастотный финансовый диапазон. 

Развитие области вычислительных финансов (англ. computational finance) способствует распространению новых торговых алгоритмов и открывает ранее недостижимые временные масштабы инвестирования.  Согласно результатам краш-теста, проведенного в 2011 году, технические характеристики российской биржи ММВБ-РТС позволяет обрабатывать более 20000 заявок в секунду, что говорит о возможности полноценного развития высокочастотных финансов в России.

Именно благодаря стремительному развитию быстрых вычислительных алгоритмов высокочастотный финансовый диапазон набирает всё большую актуальность. В широком смысле высокочастотный финансовый диапазон характеризуется следующими тремя свойствами:

скорость выполнения транзакций (измеряется в долях секунды),

количество транзакций в единицу времени (более 2 транзакций за 4 торговых часа),

таймфрейм, используемый для анализа и выявления торговых возможностей (до 1 часа).



Рисунок 7. Время удержания открытой позиции при высокочастотном трейдинге. Источник: Technology and trading survey, FINalternatives, 2009.

Из Рис.7 представлены результаты исследования консалтинговой компании FINaltrnatives, которые показывают, что преобладающее число респондентов, использующих высокочастотные торговые системы, удерживают открытую позицию не более 10 минут.



Рисунок 8. Динамика цены ОА Сбербанк в течение одного торгового (01.04.2013) дня и её реакция на новостной фон как в часовом диапазоне (пунктирная линия), так и в минутном (сплошная линия). Эффект новостного фона выделен сплошными красными линиями. Источник: ММВБ-РТС.

Основываясь на характеристиках высокочастотного диапазона, проиллюстрируем различие ценового движения в двух временных таймфреймах – минутном и часовом – на реакцию выхода новости эмитента Сбербанк. Результат представлен на Рис.8. Легко наблюдать, что в высокочастотном диапазоне ценовое движение кардинально отличается: если на часовом диапазоне в выделенной области заметен строгий восходящий тренд, то в минутном таймфрейме рост цены актива сменяется его падением и движение в целом более скачкообразно. Именно в этом прослеживается важность определения симметрии между разными временными диапазонами – её наличие позволит преобразовывать один временной диапазон в другой с сохранением всей информации о движении цены.

Принимая во внимание свойства высокочастотного финансового диапазона резонно актуализируется тема алгоритмического (автоматизированного) трейдинга, который является основным “инструментом” работы и, как следствие, элементом, генерирующим высокочастотные финансовые данные.

Автоматизированный (алгоритмический) трейдинг – это процесс, в основе которого лежит система или системы, базирующиеся на совершении торговых операций на финансовых рынках по строго формализованному математическому алгоритму.  Из определения и характерных свойств алгоритмического трейдинга следует, что все торговые операции заключается не самим человеком, а роботом, то есть написанной компьютерной программой с доступом к торговому терминалу. 

Данный вид трейдинга является основным источником роста объемов биржевых торгов: увеличивая ликвидность, сужается разница между ценой покупки и ценой продажи, что создает благоприятные условия для создания сделок другим участникам рынка, которые ориентируются на более длинный временной интервал инвестирования. Объединенная российская биржа, понимая всю важность нового направления, ведет активное создание отточенной инфраструктуры для привлечения трейдеров в высокочастотный диапазон благодаря следующим действиям:

обновление серверной составляющей торговых систем;

повышение скорости подтверждения заявок и распространения информации среди участников торгов;

развитие срочного рынка.

Так, согласно отчету ЦБ РФ, в 2011 году 50% оборота на срочном рынке FORTS, 15% на рынке акций и 32,5% от общего объема торгов было сделано высокочастотными торговыми роботами. Российский рынок еще не так развит, как американский или европейский, динамика долей высокочастотных роботов которых представлена на Рис.9, но положительная динамика роста очевидна, что подтверждает актуальность данного направления финансов.



Рисунок 9. Доля (в %) алгоритмизированных высокочастотных торговых систем в общем денежном обороте бирж США и Европы. Источник: Taab Group, 2011.

Рассматривая область высокочастотных финансов на предмет наличия симметрии, целесообразно изучить торговые стратегии, которыми оперируют участники торгов в высокочастотном финансовом диапазоне. Как и в привычном временном диапазоне, в высокочастотном основу составляют спекулятивные стратегии, нацеленные на получение дохода за счет флуктуации цен финансовых инструментов. Приведем краткий список торговых стратегий, которыми оперируют высокочастотные системы:

маркет-мейкинг: стратегии данного класса основывается на модели случайного блуждания цен активов и подразумевают одновременное  выставления торговых заявок  как на покупку, так и на продажи финансового инструмента в рамках текущего тренда. Ключевая особенность стратегии заключается в максимальной близости котировок к текущей рыночной конъюнктуре, что ставит во главу угла скорость получения и обработки рыночных данных. Высокочастотные алгоритмы, использующие данный вид стратегии являются основным источником мгновенной рыночной ликвидности и в большинстве случаев являются крупными инвестиционными компаниями;

трендследящие стратегии: торговые системы, работающие под руководством трендследящих стратегий, выявляют будущее направленное движение цены с помощью различных математических индикаторов и алгоритмов и выставляют соответствующую заявку. Оперируя в высокочастотном диапазоне, рассматриваемые стратегии крайне зависимы от моментальной ликвидности, основным провайдером которой является маркет-мейкер, а также от скорости получения и обработки информации от биржи;

арбитраж и стратегии парного или баскет трейдинга: стратегии данного типа основаны на корреляциях между финансовыми активами. Система, использующая данный алгоритм, анализирует статистическую разность между ценами коррелирующих активов и, в случае превышения пограничных значений, одновременно продает один актив и покупает другой. Это справедливо и для баскет трейдинга с учетом работы не с одним инструментом, а с целым набором активов;

стратегии низких задержек: данный тип стратегии основан на сильной корреляции между финансовыми инструментами, а также существующей неравномерно распространяемой информации на финансовых рынках. Суть стратегии заключается в выявлении тренда в одном финансовом активе, но непосредственная торговля ведется с другим сильно коррелированном инструменте. Прибыль в таком случае извлекается из-за задержки реакции одного инструмента на начавшееся движение цены другого актива;

стратегии фронт-раннинга: отличительная стратегия высокочастотного диапазона. Основывается на анализе котировочного стакана и определении будущей крупной заявки на покупку или продажу финансового инструмента. В случае, если такой анализ дал положительный результат и такая заявка ожидается, трейдер должен как можно быстрее выставить аналогичную заявку, так как будущая крупная заявка, в теории, должна существенно повлиять на движение торгуемого финансового актива;

стратегии торговли волатильностью: эти стратегии непосредственно связаны с операциями на срочном рынке, а именно с опционами. В основе метода лежит идея о непосредственной связи между ценой опциона и волатильности базового актива. Фактически, при разных значениях волатильности цена опциона в один и тот же момент времени будет отличаться. Зависимость между ценой опциона и волатильностью прямая – чем выше волатильность, тем выше и цена опциона. Торговые операции следуют логике: если прогнозируется рост волатильности, то совершается покупка опциона и продажа опциона, если ожидается снижение волатильности. Именно данный вид стратегий представляет наибольшую математическую и вычислительную сложность, так как появляется необходимость определения цен опционов для разных страйков для достижения максимальной прибыльности операций. Учитывая фундаментальную важность скорости в высокочастотном финансовом диапазоне, как никогда остро поднимается проблема изучения и практического применения новых инструментов в оценке волатильности, к которым относится принцип симметрии в финансах.

Описанные выше отличительные свойства высокочастотного финансового диапазона характеризуют его как сложную статистическую систему, в которой функционируют, в больше степени, торговые системы с заданным и формализованным алгоритмом торговли.



1.3 Теоретические распределения, используемые для описательной статистики ценового движения



Для определения структуры и отличительных свойств процессов, происходящих в высокочастотном диапазоне, целесообразно рассмотреть свойства распределений, с помощью которых можно аппроксимировать реальное ценовое движение. 

Для определения симметрии в данной исследовательской работе изучаются доходности финансовых инструментов в высокочастотном диапазоне. Математически этот процесс можно представить следующим образом:

,

где:

 - цена в момент времени t.

Традиционно для моделирования динамики доходностей и, как следствия, волатильности используется нормальное Гауссово распределения. Но в виду особенностей эмпирического распределения доходностей финансовых инструментов для описательной статистики высокочастотного диапазона целесообразно рассмотреть другие более подходящие виды распределений, а именно: 

Normal Inverse Gaussian: непрерывное распределение вероятности. Основное отличие от нормального распределения – более медленный темп спада хвостов и острая вершина, что позволяет эффективно моделировать реальное распределение доходностей финансовых инструментов. Данное семейство обладает свойством масштабной симметрии и образует подкласс обобщенных гиперболических распределений, функция плотности которого записывается в виде:









,



.

Alpha-stable: в теории вероятностей, случайная величина, описываемая распределением alpha-stable, обладает свойством, что линейная комбинация двух независимых копий переменной также описывается аналогичным alpha-stable распределение вплоть до значений масштаба. Распределение также характеризуется возможностью масштабной симметризации. Отличительная черта – возможность описания толстых хвостов и высокой лептоэксцессности реального распределения случайных величин. Данное семейство распределений также называют стабильное распределение Леви. Функция плотности распределения имеет аналогичные параметры, как и в случае с NIG, но не выражается аналитически за исключением некоторых параметров.

Normal: привычное гауссово распределение с двумя параметрами – μ и σ. Обширно используется для моделирования процессов ценовой динамики, рисков и прайсинга опционов на различных временных интервалах. Именно данное распределение будет использовано для оценки американских опционов колл на российском срочном рынке.

Функция плотности записывается в виде:



Гиперболическое распределение представляет собой нормальную смесь дисперсии среднего и плотности, смешивающейся из обобщенного обратного Гауссово распределения (NIG). Данное семейство распределение включается в себя распределение Лапласа, Стьюдента и так далее. Функция плотности вероятности гиперболического распределения записывается в виде:





µ α - вещественные числа,

β – коэффциент ассиметрии (вещественное число),

 - коэффициент масштаба (вещественное число),



Первые два типа распределения являются устойчивыми. Если рассматривать приращения цены финансовых активов как случайную величину, то наиболее предпочтительным инструментом анализа описательной статистики являются устойчивые распределения. Случайная величина X имеет устойчивое распределение, если это распределение имеет область притяжения в том смысле, что найдутся последовательности независимых одинаково распределенных случайных величин (Yn), последовательности положительных чисел (dn), последовательности действительных чисел (an) такие, что

, 

где:

 

                                      















2. Определение симметрии в высокочастотном финансовом диапазоне на примере фьючерса на ОА ОАО Сбербанк

2.1 Описательный анализ динамики доходностей фьючерса на акции Сбербанка



Для определения симметрии в высокочастотном диапазоне на российском фондовом рынке необходимо понимать структуру ценового движения финансового актива, а именно динамику доходностей на разных таймфреймах. Наиболее точно справляются с этой задачей параметры устойчивых распределений Alpha-Stable и Normal Inverse Gaussian , которые были описаны выше. 

Но в начале исследования необходимо определиться с финансовым инструментом, отвечающим определенным требованиям для осуществления анализа в высокочастотном диапазоне. Ключевыми требованиями при отборе финансового актива являются ликвидность и частота совершения сделок в минимальный промежуток времени, тем самым достигается полнота информации и почти непрерывность ценового процесса. На российском рынке наиболее спекулятивным, а значит и соответствующим ключевым факторам отбора, сегментом является срочный рынок фьючерсов и опционов FORTS. Для выявления подходящего актива рассмотрим их доли в общем обороте среди корпоративных фьючерсов, т.е. фьючерсов, чей  базовый актив – акция российской компании, а именно: Сбербанк, ВТБ, Транснефть, Роснефть, Лукойл, Газпром, Сургутнефтегаз, Новатэк. Результаты анализа за 2011-2012 гг. представлены на Рис. 10.



Рисунок 10. Доля каждого фьючерса на акции российских компаний в дневном объеме торгов корпоративного сектора FORTS за 2011 год. Источник: РТС-ММВБ.

	Как видно наибольшая доля принадлежит фьючерсу на акции Сбербанка, которая равна 50-55%. Далее в порядке убывания расположены фьючерсы на акции Газпрома, Лукойла и ВТБ. Следовательно, наибольшая ликвидность и спекулятивный интерес сосредоточены на фьючерсе Сбербанка.

Следующий элемент анализа – подтверждение выбранного актива с помощью рассмотрения медианного значения количества сделок за 1 торговый день. Чем выше данное значение, тем непрерывнее будет процесс ценовой динамики. Согласно данным биржи ММВБ-РТС, которые представлены на Рис.11, количество сделок за 1 торговую сессию увеличивается. Резкий рост этого показателя был зафиксирован в августе, что может быть вызвано нестабильной ситуацией на мировых рынках (снижение наивысшего кредитного рейтинга США, долговые проблемы в странах Европейского союза и т.д.) и как следствие повышенной волатильности, которая носит скорее положительный характер для высокочастотной торговли. Также данный показатель оставался на годовых максимумах благодаря проведению осенью 2011 года конкурса “Лучший частный инвестор”, в котором принимало участие большое количество алгоритмизированных торговых систем. На максимальных значениях медианное число сделок с фьючерсом за 1 секунду равнялось 6.



Рисунок 11. Медианное значение количества сделок за 1 торговую сессию, фьючерс на ОА Сбербанк, 2011 год. Источник: РТС-ММВБ.

На Рис.12 представлена ценовая динамика фьючерса на ОА Сбербанк и индекса РТС за 2011 год. Как видно, возникновение повышенной турбулентности во второй половине 2011 в динамике цены фьючерса вызвано общеконъюнктурными изменениями, т.к. динамики двух рассматриваемых финансовых инструментов почти совпадают.



Рисунок 12. Ценовая динамика фьючерса на акции ОАО Сбербанк (левая шкала, точечный график) и индекс РТС (правая шкала, сплошная линия) в 2011 году. Источник: РТС-ММВБ.

В итоге, после рассмотрения двух факторов выбора – ликвидность и частота сделок, предметом анализа данной исследовательской работы является ценовая динамика фьючерса на обыкновенные акции ОАО Сбербанк с последующим расчетом его волатильности с применением принципа симметрии. 

Как было заявлено во введении основной научный интерес представляет определение симметрии  между временными периодами на финансовом рынке. Поэтому особенно актуально рассмотреть динамику доходностей одного и того финансового инструмента (в данном случае фьючерс на ОА Сбербанк), но на разных таймфреймах. На Рис.13 и Рис.14 представлена динамика доходностей фьючерса на обыкновенные акции ОАО Сбербанк в двух диапазонах – минутном и дневном, которые наиболее полно демонстрируют контраст между диапазонами. 



Рисунок 13. Динамика доходностей фьючерса на обыкновенные акции ОАО Сбербанк за 2011 год в минутном диапазоне. Источник: РТС-ММВБ.

В целом, оба ряда представляют собой стационарный процесс, что подтверждается тестом Дикки-Фуллера. Но не смотря на стационарность обоих процессов, они разительно отличаются в терминах других параметров таких, как стандартное отклонение в абсолютных значениях. Из графиков видно, что динамика доходностей а дневном интервале подвержена большим отклонениям от среднего (в некоторых случаях отклонение составляет около 10%). Отклонения также являются отличительной чертой и минутного диапазона, но изменения цен на данном таймфрейме существенно ниже (отклонения за исследуемый период не превышали 3%). Следует отметить, что именно обозначенный факт будет представлять наибольшую трудность при трансформировании доходностей из одного временного диапазона в другой в случае, если симметрия будет подтверждена.



Рисунок 14. Динамика доходностей фьючерса на обыкновенные акции ОАО Сбербанк за 2011 год в дневном диапазоне. Источник: РТС-ММВБ.

В терминах  распределений наибольший интерес вызывает высокочастотный диапазон в виду его малой изученности. Распределение ряда минутных доходностей за 2011 год, представленное на Рис.15, соответствует ожиданиям и является сильно лептоэксцессным, что подтверждается значением характеристического показателя во фрактальных распределениях - альфа-коэффциента, который равен 1,407. Следует отметить, что характеристика высокочастотного диапазона разительно отличается от традиционного: характерные толсты хвосты гистограммы значительно дальше расположены от нуля в отличие от традиционных рыночных распределений, вершина значительно острее, чем в случае с традиционным временным масштабом.





Рисунок 15. Гистограмма и функция распределения 1-минутных доходностей за 2011 год.

Следующим этапом описательного анализа является определение теоретического распределения, которое в наилучшей степени описывает распределение доходностей в высокочастотном диапазоне. 

В рамках настоящей исследовательской работы будут применены два типа устойчивых распределений – Alpha-Stable и Normal Inverse Gaussian. В качестве проверки гипотезы о правильности выбора того или иного теоретического распределения для описания распределения эмпирического, рассматривается статистика Андерсона-Дарлинга. Результаты анализа минутных данных за 2011 год для двух видов распределений представлены на Рис. 16, которые подтверждают тот факт, что выбранные распределения являются наилучшими для описания рыночных данных в высокочастотном диапазоне, так как наблюдаемое значение статистики лишь в единичных случаях превысило предельно допустимый уровень, отмеченный красной линией, для отклонения нулевой гипотезы – выбранное теоретическое распределение полностью описывает реальное. Рассчитанные Q-Q графики, представленные на Рис. 17, также подтверждают правильность выбора данных распределений для процедуры описания, но Normal Inverse Gaussian распределение оказалось наиболее эффективным.



	Рисунок 16. Статистика теста Андерсона-Дарлинга для минутных данных за 2011 для устойчивого распределения Леви (левая часть) и обратного нормального (правая часть).



Рисунок 17. Q-Q графики между теоретическими (левый часть - обратное нормальное, правая - устойчивое распределение Леви) и реальным рыночным распределениями.

Определив теоретическое распределение, которое наиболее точно описывает эмпирическое распределение  доходностей финансового инструмента, целесообразно проанализировать реальные рыночные данные с помощью параметров теоретического распределения. Распределение Normal Inverse Gaussian описывается 4 параметрами, о которых речь шла выше: alpha, sigma, beta, mu. 

На Рис. 18 представлены все четыре параметра, характеризующие наиболее показательный временной диапазон в высокочастотных финансах – минутный – в течение 2011 года. 



 

 

Рисунок 18. Параметры распределения NIG для фьючерса на ОА ОАО Сбербанк в минутном диапазоне, рассчитываемые ежедневно, 2011.

Анализ параметров распределения дает ответ на структуру изменений в ценовом движении выбранного финансового инструмента. Отчетливо видно, что во второй половине 2011 года все параметры изменили свою динамику. Особенно стоит отметить параметр sigma, который, фактически, измеряет текущую волатильность. Резкий рост значений параметра во второй половине 2011 обусловлен повышенной турбулентностью на финансовых рынках, вызванной кредитными проблемами стран Евросоюза и снижением кредитного рейтинга США. Параметр alpha также демонстрировал изменение в своем движении, указывая на снижение персистентности ценового движения фьючерса, то есть во второй половине года цена стала изменяться более хаотично со смещением среднего значения, которое определяется параметров mu.

Знание наиболее подходящего теоретического распределения позволит не только анализировать ценовое движение финансового инструмента в терминах параметров распределений, но и эффективно моделировать его.



2.2 Моделирование взаимодействия участников фондового рынка



Определив отличительные свойства высокочастотного финансового диапазона такие, как высокая лептоэксцессность распределения доходностей, необходимо понять природу существования таких особенностей.

Процесс ценового движения создается благодаря взаимодействию участников рынка, которые обладают специфическими характеристиками, выраженными в их торговых стратегиях. Анализируя их взаимодействие, представляется возможным определение источников других свойств ценового движения, к которым относиться и симметрия.

Для моделирования взаимодействия участников фондового рынка с последующим определением вклада каждого из них рассмотрим в настоящей работе статистическую модель, предложенную Карлом Чиареллом и Джулией Иори из Kings College и Australian School of finance and economics на основе данных как российской фондовой биржи, так и данных самих авторов модели.

 В модели рассматривается поток торговых ордеров биржевого стакана (как мгновенных к исполнению, так и отложенных), выставляемых по строго формализованным правилам и генерируемых тремя типами участников фондового рынка, характеристика которых описана ниже:

Noise traders (спонтанные трейдеры): трейдеры, решения которых принимаются спонтанно на основе различных торговых стратегий, которые могут меняться от сделки к сделке.

Fundamentalists: тип участника фондового рынка, который принимает торговое решение на основе фундаментальной стоимости финансового актива.

Chartists: данный тип является упрощенным прототипом алгоритмического трейдера, принимающего торговое решение по заранее математически формализованному алгоритму и которого отличает большее количество выставляемых заявок.

Задача модели определить вклад каждого из вышеперечисленных участников рынка в формирование ценового процесса, а также выявлении отличительных характеристик участников, которые этот вклад создают. 

В модели предполагается, что все участники имеют представление о фундаментальной стоимости торгуемого актива. Также доступна историческая ценовая динамика. Спрос формируется благодаря трем составляющим: компонента фундаменталистов, компонента алгоритмических трейдеров, компонента спонтанных трейдеров. В любое время t каждый тип трейдеров входит в рынок с определенной вероятностью p. Также каждый участник делает предположение о будущей доходности , которая будет находиться во временном интервале ( где  - временной горизонт инвестирования каждого из участников. Участники используют комбинацию фундаментального анализа и технического (алгормтмического) в прогнозе будущей доходности актива из следующего выражения:

,

где:

r – средняя доходность за предыдущие периоды,

 и  - показывают вес компоненты фундаменталистов и чартистов. Знак второй компоненты определяет направление позиции – короткая или длинная,

, n и  также распределены нормально,

случай, когда тип участника определяется как спонтанный,

параметр масштаба, который характеризует время, в течение которого фундаменталист ожидает возвращения цены к фундаментальному уровню.

Будущая цена актива определяется каждым из участников следующим образом:



Логично предположить, что временной горизонт инвестирования напрямую зависит от инвестиционного поведения каждого участника. Так, к примеру, для фундаменталистов временной горизонт будет больше, чем у чартистов, торгующих внутри дня. В модели временной горизонт  определяется следующим соотношением:

,

где:

некоторый заранее выбранный временной горизонт.

Рассматриваемая модель предполагает два подвида для каждого из трех участников, которые отличаются способом формирования торгового портфеля. В модели подвиды различаются отношением к риску, а именно:

риск-нейтральные участники с рандомной функцией спроса: данный подвид участников характеризует лишь максимизация прибыли без учета принимаемо инвестиционного риска. Количество покупаемых активов зависит лишь от бюджетного ограничения. 

рискофобы: данный подвид участников формирует свой инвестиционный портфель в соответствии с оптимальным соотношением будущей доходности и принимаемого риска. Оптимальное количество покупаемого или продаваемого актива зависит от экспоненциальной функции и определяется следующим образом:



,

где:

 - показатель волатильности прошлых доходностей актива,

 – показатель, характеризующий степень непринятия риска. Данное значение больше для фундаменталистов и меньше для чартистов и спонтанных трейдеров.

Рискофобы корректируют свой инвестиционный портфель в соответствии с правилом: если значение  больше текущего количества активов в портфеле, то происходит покупка этого актива и наоборот.

Описав характеристики модели, рассмотрим численное моделирование с использованием следующих комбинаций участников рынка: только спонтанные трейдеры (1 комбинация), фундаменталисты и спонтанные трейдеры (2 комбинация), все три типа участников (3 комбинация). При моделировании было рассмотрено два случая поведения участников – риск-нейтральное и рискофобное с соответствующими функциями спроса на финансовый актив. Остальные параметры модели были следующими:  = 200, ∆ = 0.01 (шаг цены), вероятность совершения торговой операции = 50%. Количество покупаемых или продаваемых активов равномерно распределено в интервале . Фундаментальная цена равна начальной и составляет 1000 денежных единиц.

Результаты моделирования для обоих случаев функции спроса представлены на Рис.18, Рис.19, Рис.20, Рис.21. Рис.18 демонстрирует распределения нормализованных доходностей для трех комбинаций взаимодействия участников фондового рынка для случая, когда функция спроса случайна. Как видно из рисунка, распределение доходностей для случая, когда на рынке отсутствуют алгоритмические трейдеры (черные и красные точки на Рис.18), описываются экспоненциальной функцией. В случае, когда на рынке появляются алгоритмические трейдеры (зеленные точки на Рис.18), распределение кардинально меняет форму и становится наиболее приближенным к тому, которое существует на реальном рынке, а именно лептоэксцессным и описывается уже гиперболическим распределением. Также интересно отметить автокорреляцию доходностей для трех рассматриваемых комбинаций, представленную на Рис.19. В случаях, когда на рынке отсутствуют алгоритмические трейдеры, автокорреляция почти что полностью отсутствует, что говорит о незначимости прошлых значений цены актива на принятие инвестиционного решения спонтанными и фундаментальными трейдерами. Но в случае, когда на рынке появляются алгоритмические трейдеры и рынок становится представленными всеми тремя типами участников, значимость прошлых значений цены актива существенно увеличивается.

    

Рисунок 18. Распределение доходностей смоделированного движения цены актива на основе случайной функции спроса для трех случаев: только спонтанные трейдеры (черные точки), спонтанные и фундаменталисты (красные точки), спонтанные, фундаменталисты и алготрейдеры (зеленые точки).





Рисунок 19. Автокорреляция доходностей смоделированного движения цены актива на основе случайной функции спроса для трех случаев: только спонтанные трейдеры (черные точки), спонтанные и фундаменталисты (красные точки), спонтанные, фундаменталисты и алготрейдеры (зеленые точки).



Рассмотрение случая взаимодействия участников рынка в случае функции спроса, при которой максимизируется полезность (случай рискофоба), наиболее интересен в рамках настоящей исследовательской работы, т.к. полученные результаты наиболее тесно приближены к реальным рыночным данным. Так, на Рис.20, показаны графики распределений в случае максимизации полезности. Легко можно видеть, что лептоэксцесность усиливается как в случае отсутствия алгоритмических трейдеров, так и в их присутствии на рынке. Особого внимания требует распределение цен смоделированного движения цены актива для случая присутствия всех трех типов участников рынка. Именно в данном случае (зеленные точки на Рис.20) смоделированное распределение максимально точно похоже на эмпирическое, которое отлично описывается устойчивыми распределениями. В случае функции спроса, извлекающейся из максимизации полезности, автокорреляция доходностей присутствует даже в тех случаях, когда алгоритмические трейдеры не участвуют в торгах (в противовес случаю со случайной функцией спроса).

        

Рисунок 20. Распределения доходностей смоделированного движения цены актива на основе функции спроса, максимизирующей полезность,  для трех случаев: только спонтанные трейдеры (черные точки), спонтанные и фундаменталисты (красные точки), спонтанные, фундаменталисты и алготрейдеры (зеленые точки).



Рисунок 21. Автокорреляция доходностей смоделированного движения цены актива на основе функции спроса, максимизирующей полезность, для трех случаев: только спонтанные трейдеры (черные точки), спонтанные и фундаменталисты (красные точки), спонтанные, фундаменталисты и алготрейдеры (зеленые точки).



Резюмируя результаты моделирования, отчетливо прослеживается природа формирования ценового движения: в настоящее время на рынке присутствуют все три типа участников, которые максимизируют свою полезность. Это отражается в уникальном совпадении смоделированных данных и реальных. Именно благодаря появлению алгоритмических трейдеров, эмпирическое распределение доходностей обретает столь отличительные свойства и описывается устойчивыми симметричными теоретическими распределениями, так как эта группа участников активно использует высокочастотный диапазон и покрывает ранее неиспользуемый (случай присутствия на рынке только спонтанных и фундаментальных трейдеров) высокочастотный таймфрейм, делая ценовое движение всё более непрерывным. Важно отметить, что результаты вышеизложенного моделирования качественно аналогичны и для российского фондового рынка.



2.3 Определение симметрии на российском фондовом рынке в высокочастотном диапазоне и её практическое применение



Определив ранее фундаментальное значение принципа симметрии во многих науках, необходимо подтвердить или опровергнуть гипотезу наличии симметрии распределений доходностей на российском фондовом рынке в высокочастотном диапазоне. Уже на данном этапе исследования факт того, что эмпирическое распределение доходностей крайне точно описывается теоретическими устойчивыми распределениями, дает весомые аргументы в пользу наличия симметрии.

Принцип симметрии неразрывно связан с преобразованиями доходностей из одного временного диапазона в другой, которые основаны на поиске показателя Херста, являющемуся ключевой частью процесса преобразования. Показатель Херста, открытый в 1907 году и названный в честь создателя, определяет степень персистентности временного ряда или иными словами степень изменчивости и смены трендов. Существует достаточное количество способов расчет данного показателя, но наиболее распространенным является метод R/S анализа. В основе R/S анализа лежит формула Альберта Эйнштейна о броуновском движении частиц:



         где:

R – расстояние, пройденное броуновской частицей за время T;

T – показатель времени.

Согласно этой формуле броуновская частица продвигалась на расстояние, равное квадратному корню от времени, которое частица затратила на путь. Так, при показателе Херста, равном 0.5, система проходит за время T то же расстояние, что и броуновская частица. При больших значениях показателя Херста система проходит большее расстояние и наоборот. Исходя из этого, аналитически показатель Херста определяется следующей формулой:

, откуда



где:

H – показатель Херста,

S – среднеквадратическое отклонение временного ряда,

R – размах накопленного отклонения временного ряда,

N – число наблюдений,

a – заданная константа (принято использование значения 1.5708).

Кроме того, Бенуа Мандельброт открыл благодаря показателю Херста новый способ расчета фрактальной размерности, которая, по своей сути, является величиной, обратной показателю Херста.

Каждое значение показателя Херста характеризует временной ряд однозначно. Характеристика временных рядов и соответствующего показателя Херста приведена в Таблице 1.





Таблица 1.



Используя показатель Херста, рассчитанный для фьючерса на ОА Сбербанк, можно определить российский рынок в высокочастотном диапазоне как трендоустойчивый, так как для всех выбранных таймфреймов в 2011 году показатель Херста не был ниже значения 0.5. Важно подчеркнуть, что показатель Херста для рассматриваемого финансового инструмента имеет строгую логарифмическую зависимость от таймфрейма, которая представлена на Рис.22. Эмпирически подтверждено, что с увеличением таймфрейма показатель Херста снижается, что говорит о меньшей персистентности больших таймфреймов.



Рисунок 22. Показатель Херста, рассчитанный на разных таймфреймах высокочастотного диапазона на примере фьючерса ОА ОАО Сбербанк, 2011.

Определив понятие показателя Херста и вычислив его значения для финансового инструмента на российском рынке в высокочастотном диапазоне, целесообразно оценить существование симметрии между временными масштабами внутри высокочастотного диапазона на российском рынке. Наличие симметрии говорит о согласованности временных горизонтов трейдеров в данном типе таймфрейма, а именно высокочастотных алгоритмических систем и интрадей-трейдеров. Процедура нахождения симметрии заключается в нормировании выборки доходностей для разных таймфреймов. Данный алгоритм был адаптирован из книги Мантенья “Корреляции и сложности в финансах”. Показатель нормирования находится следующим образом:



где:







Но первоочередным шагом в процессе определения симметрии является анализ исходных эмпирических гистограмм распределений доходностей для разных таймфреймов. На Рис.23 представлены распределения логарифмических доходностей за 2011 год фьючерса на ОА Сбербанк в 6 таймфреймах: 1, 5, 10, 15, 30, 60 минут.



Рисунок 23. Исходные ненормированные распределения логарифмических доходностей фьючерса на ОА ОАО Сбербанк за 2011 год на разных таймфреймах высокочастотного диапазона.

Как видно из вышестоящего рисунка с увеличением таймфрейма изменяется форма распределения – она становится более широкой с более длинными “хвостами”. 

Зная значения параметра нормирования можно протестировать гипотезу о наличии симметрии в высокочастотном диапазоне, нормировав исходные доходности. Результат преобразований представлен на Рис.24. Совершенно очевидно, что наличие симметрии в высокочастотном диапазоне подтвердилось, т.к. все распределения коллапсируют в единую форму, а именно становятся подобны распределению 1-минутных доходностей. Именно это “складывание” кривых распределения в единую форму соответствует масштабной симметрии. 

 

Рисунок 24. Нормированные доходности фьючерса на ОА ОАО Сбербанк за 2011 год.

Доказав наличие симметрии в высокочастотном диапазоне, неявно доказывается согласованность между участниками рынка, использующих в принятии торговых решений различные временные периоды внутри высокочастотного диапазона. Принимая во внимание данный факт, в условиях наличия симметрии появляется возможность трансформирования рыночных данных не только из большего тайфрейма в малый, но и наоборот – всё зависит лишь от параметра нормирования, который в одном случае является прямым множителем, а в другом обратным. Иными словами при наличии масштабной инвариантности относительно времени, алгоритмическая система, оптимизированная на работу в 30 минутном таймфрейме, будет способна учитывать наиболее актуальную рыночную информацию, то есть информацию из меньшего таймфрейма (5-минутного, к примеру).

Формулируя практическое применение масштабной симметрии в высокочастотном диапазоне, резонно вернуться к теме, которая неразрывно связана с распределениями доходностей, а именно рыночной волатильности. Как было показано ранее, волатильность для каждого таймфрейма разная. Также в большинстве случаев алгоритмические системы построены и оптимизированы для конкретного таймфрейма, т.к. движение цены носит специфический характер. Учитывая эти два факта возникает необходимость учета актуальной рыночной информации в понятном для алгоритмической системы виде. Иными словами ставится задача транфсормирования малого таймфрейма в больший. 

Проиллюстрируем решение задачи на конкретном примере: существует созданная алгоритмическая система, оптимизированная на 30-минутном таймфрейме и использующая в своих расчетах волатильность на указанном таймфрейме. Совершенно очевидно, что рыночные данные поступают в систему с периодичностью в 30 минут, но в промежутке, который в исходном виде является “нечитаемым” для системы, заложена важная информация о движении цены финансового инструмента. Именно благодаря симметрии становится возможным решение данной задачи.

Рассмотрим исходные ненормированные распределения доходностей, которые представлены на Рис. 25, в двух интересующих таймфреймах высокочастотного диапазона – 5 и 30 минут. Видно, что расчет волатильности на основе совокупных данных как за 5 минут, так и за 30 минут будет абсолютно неточным, т.к. данные в 5-минутном тайфмрейме будут иметь заниженные по сравнению с 30-минутным таймфреймом значения доходностей и, следовательно, волатильности в виду менее лептоэксцессной формы распределения.



Рисунок 25. Исходные ненормированные доходности фьючерса на ОА ОАО Сбербанк в двух таймфреймах, 2011.

Принимая в расчет показателя нормирования значения показателя Херста, найденные ранее, можно нормировать исходные значения доходностей и произвести их трансформирование из 5-минутного таймфрейма в 30-минутный. Результат операций представлен на Рис.26.



Рисунок 26. Нормированные доходности фьючерса на ОА ОАО Сбербанк, 2011.

После нормирования графики распределений почти полностью совпадают, что говорит о полученной однородности значений доходности. Но для максимальной уверенности рассмотрим график Q-Q на Рис. 27 для нормированного 5-минутного ряда с исходным 30-минутным. Анализ сравнения квантилей полностью подтверждает однородность данных, т.к. квантили рассматриваемых распределений находятся на одной прямой с незначительными отклонениями.



Рисунок 27. Quantile vs. Quantile график для двух таймфреймов после нормировки.

Определив однородность ряда доходностей, становится возможным определение волатильности с использованием 5-минутных данных для расчетов алгоритмической системы, заточенной под 30-минутный таймфрейм. Результат расчетов представлен на Рис.28. Как видно из рисунка, симметрия, лежащая в основе нормирования, показала состоятельные оценки волатильности: с использованием нормировки стало возможным более точное и быстрое определение изменений в структуре волатильности, что позитивно сказывается на результатах внутренних расчетов алгоритмической торговой системы.



Рисунок 28. Волатильность, рассчитанная на основе исходных 30-минутных доходностей (сплошная линия) и 5-минутных нормированных доходностей (пунктирная линия) фьючерса на ОА ОАО Сбербанк методом симметрии, 2011.

























Заключение

На основе полученных в ходе исследования результатов можно с уверенностью утверждать о наличии масштабной симметрии на российском фондовом рынке в высокочастотном финансовом диапазоне. Структура и характеристика высокочастотного диапазона отличается от привычного диапазона низкой частоты, поэтому принцип симметрии позволяет более детально понять мир высокочастотных финансов и эффективно рассчитывать входные параметры (волатильность и т.п.) для алгоритмических торговых систем. С использованием  принципа симметрии стал возможным учет наиболее актуальной рыночной информации.

Рассмотрение актуальности высокочастотных финансов как нового горизонта инвестирования,  понимание функционирования рынка с точки зрения основных типов участников, а также определение симметрии заложили фундаментальную основу для нового способа расчета рыночной волатильности, которая является одним из важнейших элементов результативной высокочастотной торговли.

В ходе работы на примере высокочастотных рыночных данных фьючерса на обыкновенные акции ОАО Сбербанк, который отвечает всем требованиям для совершения анализа высокочастотных данных, было определенно, что благодаря нормированию доходностей, в основе которого лежит показатель Херста, становится возможным определение симметрии в высокочастотном финансовом диапазоне на российском рынке. 

Также в ходе исследования было выявлено, что именно алгоритмические трейдеры создают условия, благоприятствующие появлению симметрии или согласованности между временными горизонтами. Благодаря появлению в модельном рыночном процессе данного типа участников распределение доходностей финансового инструмента становится наиболее приближенным к эмпирическому распределению, которое, как было подтверждено, описывается нормальным обратным Гауссовским распределением. 

Принцип симметрии был применен для расчета рыночной волатильности фьючерса на ОА ОАО Сбербанк. Расчет рыночной волатильности с использованием принципа симметрии между 5 минутным и 30 минутным таймфреймом показал состоятельность и эффективность данного подхода: при трансформировании доходностей из одного временного масштаба в другой стало возможным учитывать наиболее актуальную рыночную информацию и передавать её алгоритмической торговой системе в понятном для неё виде.

Также следует отметить о перспективах дальнейшего изучения симметрии в высокочастотном финансовом диапазоне. Как было показано в ходе работы, эффективность принципа симметрии в расчете волатильности может существенно улучшить процедуру алгоритмической оценки производных инструментов таких, как финансовые опционы.



















Список литературы



Абаимов С.Г. Статистическая физика сложных систем. –М. : ЛИБРОКОМ, 2012. -392 с.

Баренбалтт Г.И. Автомодельные явления – анализ размерностей и скейлинг. –М. : Интеллект, 2009. -216 с.

Бенуа Б. Фрактальная геометрия природы. –М. : Институт компьютерных исследований, 2002. -656 с.

Мантенья Р, Стенли Х. Введение в эконофизику: корреляции и сложность в финансах. –М. : ЛИБРОКОМ, 2009. -192 с.

Федер Е. Фракталы. –М. : Мир, 1991. -261 с.

Ширяев А.Н. Основы финансовой математики. –М. : Фазис, 1998. -1016 с.

Рассказов С.В. Проявление симметрии в финансах // Городской семинар по экономико-математическим методам и моделям РАН. -2011.

Рассказов С.В., Рассказова А.Н. Определение симметрии в математике, физике, технике и обзор её основных приложений в перечисленных приложениях. Неопубликованная рукопись, 2004. -6 с.

Рассказов С.В., Рассказова А.Н. Симметрия как индикатор стабильности фондового // Финансовый менеджмент. -2006. С. 86-100.

 Aldridge Irene. High-frequency trading: practical guide. -NJ. : Wiley, 2010. -354p.

 Applebaum David. Levy processes and stochastic calculus. -Cambridge. : Cambridge University Press, 2009. -492p

 Briggs John. Fractals: the patterns of chaos. -New Jersey. : Wiley, 2002. -148p

 Eric Baird. Alt fractals: A visual guide to fractal geometry and design. –New Jersey. : Wiley, 2004. -254p

 Kenneth J. Fractal geometry. Mathematical foundations and applications. –New Jersey. : Wiley, 2003. -492p

 Narang R. Inside the Black Box: A Simple Guide to Quantitative and High Frequency Trading. –New Jersey. : Wiley, 2013. -213p

 Peters Edgar. Fractal market analysis. -NJ. : Wiley, 1994. -336p

 Voit J. Statistical mechanics of financial markets. -Berlin. : Sptinger, 1994. -378p

 Weron Rafal. Modeling and Forecasting Electricity Loads and Prices: A Statistical Approach. -NJ. : Wiley, 2007. -336p

 Anderson, T. W.; Darling, D. A. Asymptotic theory of certain "goodness-of-fit" criteria based on stochastic processes // Annals of Mathematical Statistics. -1952. -№23. –P. 193–212.

 Brock W. Scaling in Economics: A Readers Guide // Oxford university press. -1999. -№8. P.409–446.

 Carbone A., Castelli G., Stanley H.E. Time-dependent Hurst exponent in financial time series // Physica. -2004. №344. P.267-271.

 Chiarella C., Giulia I. The impact of heterogeneous trading rules // Kings college press. -2004. -№8. P.439–456.

 Christofferson P. The economic value of volatility: using high-frequency returns for option pricing // Bank of Canada Working paper. -2012. -40p.

 Coronel-Brizio H.F. Assessing symmetry of financial returns series // Physica. -2007. -9p.

 Fan J., Wang Y. Multi-scale jump and volatility analysis for high-frequency financial data // Princeton University Working paper. -2007. -40p.

 Geyer P. Option pricing: the choice of high-frequency volatility matters // Credit Suisse Working paper. -2012. -34p.

 Hidalgo E. Statistical analysis of high-frequency data // Ecole Central Working paper. -2012. -17p.

 Kitchen Cliff. Normal Inverse Gaussian process with applications in mathematical finance. –Calgary, Canada. : The mathematical and computational finance laboratory, 2009. -63p

 Lo A. Long-Term Memory in Stock Market Prices // Econometrica. -1991. №59. P.1279-1313.

 Mandelbrot B. How Long Is the Coast of Britain? Statistical Self-Similarity and Fractional Dimension // Science. -1967. -№3775. P.638–640.

 Mantegna Rosario, Stanley Eugene. Scaling behavior in the dynamics of an economic index // Nature. -1995. -№376. -4p.

 Masoliver Jaume. A dynamical model describing stock market price distributions // Physica. -2000. -№283. P.559-567.

 Qian Bo. Hurst exponent and financial market predictability // University of Georgia Working paper. -2009. -№1. -7p.

 Wang B.H., Hui P.M. The distribution and scaling of fluctuations for Hang Seng index in Hong Kong stock market // The European physical Journal. -2001. P. 573-579.









Приложения

Приложение 1

Программный код MATLAB для определения параметров теоретических распределений

%   Input data:

%       X - data vector,

%       DISTS - handle to the distributions checkboxes,

%       EDFT - handle to the edf checkbox,

%       RADIOBUT - handle to the preprocessing radiobuttons,

%       REMS - handle to the 'remove weekly cycle' checkbox.

% Remove weekly component

if get(rems,'value')

    x = remst(x,7,-2);

end;

% Plot empirical data

h=figure(5);

set(h,'name','Data','numbertitle','off');

switch radiobut

    case 'dif'

        x = diff(x);

        plot(x,'b');

        ylabel('Price changes');

    case 'ret'

        x = 100*logret(x);

        plot(x,'b');

        ylabel('Returns [%]');

    otherwise

        plot(x,'b');

        ylabel('Prices');

end

xlabel('Days')



% Compute the empirical cdf

[X,Y] = empcdf(x);

% remove the infimum of the support

X = X(2:end); Y = Y(2:end);



% Compute and plot edf

h=figure(2);

set(h,'name','CDF','numbertitle','off');

plot(X,Y,'b.')

xlabel('x')

ylabel('CDF(x)')

hold on

xplus=find(X>0);

lxplus=sum(xplus);

if lxplus>0

    h=figure(3);

    set(h,'name','Right tail','numbertitle','off');

    loglog(X(xplus),1-Y(xplus),'b.')

    set(gca,'ylim',[min(1-Y(xplus(1:end-1)))/2 max(1-Y(xplus))*2])

    xlabel('x')

    ylabel('1-CDF(x)')

    hold on

end;

xminus=find(X<0);

lxminus=sum(xminus);

if lxminus>0

    h=figure(4);

    set(h,'name','Left tail','numbertitle','off');

    loglog(-X(xminus),Y(xminus),'b.')

    set(gca,'ylim',[min(Y(xminus))/2 max(Y(xminus))*2])

    xlabel('-x')

    ylabel('CDF(x)')

    hold on

end;

ld={'EDF'};



% Compute and plot Gaussian fit

if get(dists(1),'value')

    params=[mean(x),std(x)];

    ts=[];

    if get(edft,'value')

        [A2,K]=edftests(x,params,'Gaussian');

    end;

    rprint(params,[A2,K],'Gaussian    ')   

    figure(2)

    plot(X,normcdf(X,params(1),params(2)),'c')

    if lxplus>0

        figure(3)

        loglog(X(xplus),1-normcdf(X(xplus),params(1),params(2)),'c')

    end

    if lxminus>0

        figure(4)

        loglog(-X(xminus),normcdf(X(xminus),params(1),params(2)),'c')

    end;

    ld={ld{:},'Gaussian'};

end;



% Compute and plot hyperbolic fit

if get(dists(2),'value')

    params=hypest(x);

    ts=[];

    if get(edft,'value')

        [A2,K]=edftests(x,params,'hyperbolic');

    end;

    rprint([params(1) params(3) params(2) params(4)],[A2,K],'Hyperbolic  ') 

    figure(2)

    plot(X,hypcdf(X,params(1),params(2),params(3),params(4)),'r')

    if lxplus>0

        figure(3)

        plot(X(xplus),1-hypcdf(X(xplus),params(1),params(2),params(3),params(4)),'r')

    end

    if lxminus>0

        figure(4)

        plot(-X(xminus),hypcdf(X(xminus),params(1),params(2),params(3),params(4)),'r')

    end

    ld={ld{:},'Hyperbolic'};

end;



% Compute and plot NIG fit

if get(dists(3),'value')

    params=nigest(x);

    ts=[];

    if get(edft,'value')

        [A2,K]=edftests(x,params,'NIG');

    end;

    rprint([params(1) params(3) params(2) params(4)],[A2,K],'NIG         ')

    figure(2)

    plot(X,nigcdf(X,params(1),params(2),params(3),params(4)),'m')

    if lxplus>0

        figure(3)

        loglog(X(xplus),1-nigcdf(X(xplus),params(1),params(2),params(3),params(4)),'m')

    end

    if lxminus>0

        figure(4)

        loglog(-X(xminus),nigcdf(X(xminus),params(1),params(2),params(3),params(4)),'m')

    end;

    ld={ld{:},'NIG'};

end;



% Compute and plot alpha-stable fit

if get(dists(4),'value')

    % use regression estimator of Koutrouvelis (1980)

    [alpha,sigma,beta,mu]=stabreg(x);

    params=[alpha,sigma,beta,mu];

    ts=[];

    if get(edft,'value')

        [A2,K]=edftests(x,params,'stable');

    end;

    rprint(params,[A2,K],'Alpha-stable')

    figure(2)

    plot(X,stabcdf(X,alpha,sigma,beta,mu),'k')

    if lxplus>0

        figure(3)

        loglog(X(xplus),1-stabcdf(X(xplus),alpha,sigma,beta,mu),'k')

    end

    if lxminus>0

        figure(4)

        loglog(-X(xminus),stabcdf(X(xminus),alpha,sigma,beta,mu),'k')

    end;

    ld={ld{:},'Alpha-stable'};

end;



% Add legends to the figures

figure(2)

legend(ld,4);

set(gca,'ylim',[0,1]);

hold off

if lxplus>0

    figure(3)

    legend(ld,3);

    hold off

end;

if lxminus>0

    figure(4)

    legend(ld,3);

    hold off

end;



function [x0,y0] = empcdf(x,infsupport)

%EMPCDF Empirical cumulative distribution function (cdf).

%   EMPCDF(X) plots the empirical cdf of the elements in vector X assuming 

%   that the support of the distribution is (-INF,MAX(X)].

%   EMPCDF(X,INFSUPPORT) allows the user to specify the infimum of the 

%   support.

%   [X0,Y0] = EMPCDF(X) does not draw a graph, but returns vectors X0 and 

%   Y0 such that PLOT(X0,Y0) is the empirical cdf.



if nargin == 0

    error('Requires one input argument.')

end



if nargin < 2

    infsupport = -inf;

end



x = x(:);

n = length(x);

x0 = sort([infsupport; x]);

y0 = (0:n)'/n;



if nargout == 0

    plot(x0,y0);

end

function [params,fval,exitflag,iterations]=hypest(x,x0);

%HYPEST Estimate parameters of the hyperbolic distribution.

global mu;

% Set initial parameter estimates

if nargin==1

    x0=[0.5,0,1];

end;

warning off

% Run optimization

[params,fval,exitflag,output] = fminsearch('hyploglik',x0,optimset('MaxFunEvals',1e12),x);

params = [params,mu];

iterations = output.iterations;

warning on



function y=hypcdf(x,alpha,beta,delta,mu,starti);

%HYPCDF Hyperbolic cumulative distribution function (cdf).

% Convert to a column vector

x = x(:);

% Find the starting point for the integration scheme

feps = 1e-10;

if nargin < 6

    starti = mu+beta*delta/sqrt(alpha^2+beta^2)*besselk(1+1,delta*sqrt(alpha^2-beta^2))/besselk(1,delta*sqrt(alpha^2-beta^2));

    starti = min(starti,min(x))-1;

    while hyppdf(starti,alpha,beta,delta,mu)>feps

        starti = starti-1;

    end;

end;



n = length(x);

y = zeros(n,1);

[x,ind] = sort(x);

ind = sortrows([ind,(1:n)'],1);

ind = ind(:,2);

x = [starti;x];

warning off MATLAB:quadl:MinStepSize

% Integrate the hyperbolic pdf

for i=1:n

    y(i) = quadl('hyppdf',x(i),x(i+1),[],[],alpha,beta,delta,mu);

end;

warning on MATLAB:quadl:MinStepSize

y = cumsum(y);

y = y(ind);

y(y<0) = 0;%security

y(y>1) = 1;





function [params,fval,exitflag,iterations]=nigest(x,x0);

%NIGEST Estimate parameters of the NIG distribution.

global mu;

% Set initial parameter estimates

if nargin==1

    x0=[0.5,0,1];

end;

warning off

% Run optimization

[params,fval,exitflag,output] = fminsearch('nigloglik',x0,optimset('MaxFunEvals',1e12),x);

params = [params,mu];

iterations = output.iterations;

warning on



function y=nigcdf(x,alpha,beta,delta,mu,starti);

%NIGCDF NIG cumulative distribution function (cdf).

% Convert to a column vector

x = x(:);



% Find the starting point for the integration scheme

feps = 1e-10;

if nargin < 6

    starti = mu+beta*delta/sqrt(alpha^2+beta^2)*besselk(1/2+1,delta*sqrt(alpha^2-beta^2))/besselk(1/2,delta*sqrt(alpha^2-beta^2));

    starti = min(starti,min(x))-1;

    while nigpdf(starti,alpha,beta,delta,mu) > feps

        starti = starti-1;

    end;

end;



n = length(x);

y = zeros(n,1);

[x,ind] = sort(x);

ind = sortrows([ind,(1:n)'],1);

ind = ind(:,2);

x = [starti;x];

warning off MATLAB:quadl:MinStepSize

% Integrate the NIG pdf

for i=1:n

    y(i) = quadl('nigpdf',x(i),x(i+1),[],[],alpha,beta,delta,mu);

end;    

warning on MATLAB:quadl:MinStepSize

y = cumsum(y);

y = y(ind);



function y=stabcdf(x,alpha,sigma,beta,mu,n)

%STABCDF (Alpha-)stable cumulative distribution function (cdf).

% Initialize with default values

if nargin < 6,

   n = 2000;

end

if nargin < 5, 

    mu = 0;

end

if nargin < 4;

    beta = 0;

end



% Integrate using Nolan's  formulas

x = x(:);

y = x*0;

if (alpha == 1) 

    % Compute integral for alpha==1

    x = (x-mu)/sigma - beta*2/pi* log(sigma);

    sg = 0 ;

    if (beta == 0 )

      y = 0.5 + 1/pi * atan(x);

    else

        if (beta<0)

        beta = -beta;

        x = -x;

        sg = 1;

        end

    teta0 = 0.5*pi;

    teta = (1:n-1)'*(0.5*pi+teta0)/n - teta0 ;

    T = teta.*ones(length(teta),length(x));

    V = 2/pi* (0.5*pi + beta* T)./cos(T);

    V = V.*exp(((0.5*pi+beta*T)./beta).*tan(T)) ;

    G = x'*ones(1,length(x));

    G = exp(-0.5*pi.*G./beta).*V;

    G = exp(-1*G);

    dt = teta(2)-teta(1);

    I = sum(G)*dt; 

    F = 1/pi.*I';

    y = F + sg*(1-2*F);

    end

else

    % Compute integral for alpha~=1

    x = (x - mu)/sigma-beta*tan(0.5*pi*alpha);

    zeta = -beta*tan(0.5*pi*alpha);

    teta0 = (1/alpha)*atan(beta*tan(0.5*pi*alpha));

    xt = x - zeta;

    k1 = find(xt>0); 

    

    if (-teta0 < 0.5*pi & isempty(k1) == 0 )

      teta = (1:n-1)'*(0.5*pi+teta0)/n - teta0  ;

      

      T = teta*ones(1,length(xt(k1)));

      V = cos(alpha*teta0 + (alpha-1)*T)./cos(T);

      V = V.*(cos(T)./sin( alpha*(teta0+T) ) ).^(alpha/(alpha-1));

      V = V.*((cos(alpha*teta0)).^(1/(alpha-1)));

      G = ones(length(teta),1)*xt(k1)';

      G = G.^(alpha/(alpha-1));

      G = G.*V;

      G = exp(-1*G);

      dt = teta(2)-teta(1);

      I = sum(G)*dt  ; %integrating

      c1 = (alpha > 1) + 1/pi * (0.5*pi - teta0)*( alpha < 1);

      y(k1) =sign(1-alpha)/pi.*I' + c1 ;

    end

   

    k0 = find(xt==0);

    y(k0) = 1/pi * (0.5*pi - teta0);

    

    k2 = find(xt<0);

    teta0 = - teta0;

    xt(k2) = -xt(k2);

    if (-teta0 < 0.5*pi & isempty(k2) == 0 )

      teta = (1:n-1)'*(0.5*pi+teta0)/n - teta0;  

      T = teta*ones(1,length(xt(k2)));

      V = cos(alpha*teta0 + (alpha-1)*T)./cos(T);

      V = V.*(cos(T)./sin( alpha*(teta0+T) ) ).^(alpha/(alpha-1));

      V = V.*((cos(alpha*teta0)).^(1/(alpha-1)));

      G = G.^(alpha/(alpha-1));

      G = G.*V;

      G = exp(-1*G);

      dt = teta(2)-teta(1);

      I = sum(G)*dt  ;% integrating

      c1 = (alpha > 1) + 1/pi * (0.5*pi - teta0)*( alpha < 1);

      y(k2) =1 - sign(1-alpha)/pi.*I' - c1 ;

    end