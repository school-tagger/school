–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ

—Ä–∞–∑–≤–∏—Ç–∏—è –∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –†–§

–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç

–í—ã—Å—à–∞—è —à–∫–æ–ª–∞ —ç–∫–æ–Ω–æ–º–∏–∫–∏

–§–∞–∫—É–ª—å—Ç–µ—Ç –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –∏ –∫–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∏

–ö–∞—Ñ–µ–¥—Ä–∞ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏

–í–´–ü–£–°–ö–ù–ê–Ø –ö–í–ê–õ–ò–§–ò–ö–ê–¶–ò–û–ù–ù–ê–Ø –†–ê–ë–û–¢–ê

–ù–∞ —Ç–µ–º—É –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –∏ —Å–µ—Ä-
–≤–µ—Ä–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã.

–°—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã ‚Ññ M-94
–ö—Ä—ã–ª–æ–≤ –î–º–∏—Ç—Ä–∏–π –í—è—á–µ—Å–ª–∞–≤–æ–≤–∏—á
(–§.–ò.–û.)

–ù–∞—É—á–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å
–î–∞–Ω–∏–ª–æ–≤ –í–ª–∞–¥–∏–º–∏—Ä –ì—Ä–∏–≥–æ—Ä—å–µ–≤–∏—á
(–¥–æ–ª–∂–Ω–æ—Å—Ç—å, –∑–≤–∞–Ω–∏–µ, –§.–ò.–û.)

–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç
–ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á
(–¥–æ–ª–∂–Ω–æ—Å—Ç—å, –∑–≤–∞–Ω–∏–µ, –§.–ò.–û.)

–ú–æ—Å–∫–≤–∞ 2013

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1 –í–≤–µ–¥–µ–Ω–∏–µ

2 –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã

3 –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

4 –ì—Ä–∞–º–º–∞—Ç–∏–∫–∏

4.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ . . . . . . . . . . . . . . . . . .
4.2 –ü—Ä–∏–Ω—Ü–∏–ø –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á . . . . . . . . . . . . . . . . .

2

2

6

8
8
9

5 –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≥—Ä–∞–º–º–∞—Ç–∏–∫

11
5.1 –û–ø–∏—Å–∞–Ω–∏–µ
. . . . . . . . . . . . . . . . . . . . . . . . . . 11
5.2 –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ . . . . . . . 11
5.2.1 –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ . . . . . . . . . . 11
5.2.2 –§—É–Ω–∫—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞-

–∂–µ–Ω–∏–π . . . . . . . . . . . . . . . . . . . . . . . . 12

5.2.3 –§—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ

LATEX –≤ —Ñ–æ—Ä–º–∞—Ç Mathematica . . . . . . . . . . . 14
5.3 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ . . . . . . . . . . . . . . . . . 19

6 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

Android

7 –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

30

36

1

1 –í–≤–µ–¥–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –¥–∏–ø–ª–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ—Å–≤—è—â–µ–Ω–∞ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä-
–Ω–æ–π –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã. –≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–ø–æ—Å–æ–±–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á-
–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏—è—Ö
–∫–ª–∞—Å—Å–æ–≤ –∑–∞–¥–∞—á.

–°–∏—Å—Ç–µ–º–∞ –¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—É—á–∞—Ç—å—Å—è —Ä–µ—à–µ–Ω–∏—é –∑–∞-
–¥–∞—á –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ. –î–ª—è —ç—Ç–æ-
–≥–æ —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤ —Ç–æ–º
—Å–ª—É—á–∞–µ –µ—Å–ª–∏ –æ–Ω–∏ —Ä–µ—à–∞—é—Ç –∏—Ö –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
—Ä–µ—à–µ–Ω–∏–µ —ç—Ç–∏—Ö –∑–∞–¥–∞—á.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –æ–±—É—á–∞—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–º –º–∞—Ç–µ–º–∞—Ç–∏-
—á–µ—Å–∫–∏–º –ø—Ä–∏—ë–º–∞–º –ø—É—Ç—ë–º —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á –∏ –∏—Å—Å–ª–µ–¥—É—è –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
—Ä–µ—à–µ–Ω–∏—è.

2 –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã

–ù–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –æ–±—É—á–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤-
–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º: —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã –∏ –≤–Ω–µ—à–Ω–∏–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å.
–î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –¢–∞–∫–∂–µ
–≤ —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω–æ–π –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∏-
—Å—Ç–µ–º—ã –Ω–∞ –±–∞–∑–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Android, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞-
–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ
–≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç javascript
–±–∏–±–ª–∏–æ—Ç–µ–∫—É MathJax –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

–î–ª—è —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π –∑–∞–¥–∞—á –≤ —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏-
–∞–ª—å–Ω—ã–π —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è SimpleTask. –î–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –º–∞-
—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —ç—Ç–æ–º —è–∑—ã–∫–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π
—Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω—è—Ç–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–º—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –º–æ–¥—É–ª—é.
–ö–∞–∂–¥–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –∑–∞–¥–∞—á –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ñ–∞–π–ª –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π
–Ω–∞ —è–∑—ã–∫–µ SimpleTask –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–æ–π.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∑–∞–¥–∞—á –≤ —Å–∏—Å—Ç–µ-
–º—É. –ü–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–± –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä—É—á–Ω–æ–º –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∏
–µ—ë —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –î–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å —è–∑—ã–∫

2

SimpleTask –∏ —è–∑—ã–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è. –£—Å—Ç–∞–Ω–æ–≤-
–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–ª–µ—Ç–∞, –∫–æ—Ç–æ-
—Ä—ã–π –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç —è–¥—Ä–∞, –Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–µ. –í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±
–∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫. –ö–æ–Ω—Å—Ç—Ä—É–∫-
—Ç–æ—Ä –≥—Ä–∞–º–º–∞—Ç–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è
–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è
–Ω–∞ –∏—Ö —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏.

–í —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω–æ–π –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –±—ã–ª–∏ —Ä–µ–∞-
–ª–∏–∑–æ–≤–∞–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —É–ø—Ä–æ—â–∞—é—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è
–≥—Ä–∞–º–º–∞—Ç–∏–∫ –∏ –¥–µ–ª–∞—é—â–∏–µ –µ–≥–æ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º. –í —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ –∫–æ–Ω—Å—Ç—Ä—É–∫-
—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ç–∞–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫–∞–∫ jlatexmath –¥–ª—è –≤–∏–∑—É–∞-
–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º—É–ª, ini4j –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ —Å–≤–æ–π—Å—Ç–≤, jRegistryKey
–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–µ—Å—Ç—Ä–æ–º –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã windows, SnuggleTeX
–¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ
MathML –≤ —Ñ–æ—Ä–º–∞—Ç LATEX –∏ –æ–±—Ä–∞—Ç–Ω–æ, –∏ –¥—Ä—É–≥–∏–µ.

–í –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –≤—Ö–æ–¥–∏—Ç –ø—Ä–∏–Ω—è—Ç–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ html
–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á. –ü–æ–ª—É—á–∏–≤ –ø–æ–¥–æ–±–Ω—ã–π –∑–∞-
–ø—Ä–æ—Å, —è–¥—Ä–æ –∏—â–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ç—Ä–µ–±—É–µ–º–æ–º—É —Ç–∏–ø—É –∑–∞–¥–∞—á
—Ñ–∞–π–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏. –ó–∞—Ç–µ–º –ø—Ä–æ–≤–æ–¥–∏—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–∞–π–¥–µ–Ω–Ω–æ-
–≥–æ —Ñ–∞–π–ª–∞, –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –≤ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö,
–æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ—ë –≤
—Ñ–æ—Ä–º–∞—Ç–µ XML –∫–∞–∫ html –æ—Ç–∫–ª–∏–∫.

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
–∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤—ã—á–∏—Å-
–ª–µ–Ω–∏–π. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫ —Ç—Ä–µ–±—É—é—Ç —Ç–∞–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
–¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á.

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–æ–¥—É–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞

–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∞–ª–≥–µ–±—Ä—ã Mathematica –≤–µ—Ä—Å–∏–∏ 5.2.

–Ø–¥—Ä–æ –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ —è–∑—ã–∫–µ Java
–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ –Ω–∞–±–æ—Ä —Å–µ—Ä–≤–ª–µ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º
TomCat. –ö–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —è–¥—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–≤–æ–π —Å–µ—Ä–≤–ª–µ—Ç, —Ä–µ–∞–ª–∏-
–∑—É—é—â–∏–π –¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—â–∏–µ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –±–∏–±–ª–∏–æ—Ç–µ-
–∫–∏.

–î–ª—è —Å–≤—è–∑–∏ —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è Mathematica
–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ JLink. –≠—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±—ã–ª–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ-

3

–∑–¥–∞–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ Mathematica –¥–ª—è —Å–≤—è–∑–∏ —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã —Å –≤–Ω–µ—à-
–Ω–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –Ω–∞ —è–∑—ã–∫–µ Java. –° –ø–æ–º–æ—â—å—é —ç—Ç–æ–π
–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞–∑—É–µ—Ç –≤–º–µ—Å—Ç–µ —Å —Å–∏—Å—Ç–µ–º–æ–π Mathematica
–∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –Ø–¥—Ä–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É
–º–æ–¥—É–ª—é –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ —Ñ–æ—Ä-
–º–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç Mathematica —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤
–≤–∏–¥–µ –æ—Ç–∫–ª–∏–∫–∞. –î–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É —è–¥—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã –∏ —Å–∏—Å—Ç–µ-
–º–æ–π Mathematica –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω-
–Ω—ã–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π JLink.

–î–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –µ–º—É –∏–Ω—Ñ–æ—Ä-
–º–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–µ–±-
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É —Å–∏—Å—Ç–µ–º—ã –∑–∞–¥–∞—á—É –¥–ª—è —Ä–µ—à–µ-
–Ω–∏—è –∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–∏—Ö –∑–∞–¥–∞—á
–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º —è–¥—Ä–∞.

–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–∏–ø–∏—á–Ω—ã–π —Å–µ–∞–Ω—Å —Ä–∞–±–æ—Ç—ã —Å –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π

–≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.

–†–∏—Å. 1: –°—Ö–µ–º–∞ —Å–µ–∞–Ω—Å–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –µ–≥–æ —Ç–∏–ø –∑–∞–¥–∞—á–∏ –∏–∑ —Å–ø–∏—Å–∫–∞,

4

—Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —ç—Ç–æ–º—É —Ç–∏–ø—É –∑–∞–¥–∞—á –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –∏
–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É. –ó–∞—Ç–µ–º —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞-
–µ—Ç —É—Å–ª–æ–≤–∏–µ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–≤–µ—Å—Ç–∏ –æ—Ç–≤–µ—Ç. –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥—ë—Ç –æ—Ç–≤–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –µ–≥–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º. –í
—Ç–æ–º —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –±—ã–ª–∞ –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–∞-
–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –î–∞–ª–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–µ—à–∏—Ç—å
–∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –∑–∞–¥–∞—á—É.

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

—Å
–ø
–∏
—Å
–∫
–∞

–∑
–∞
–¥
–∞
—á

–û
–±
–Ω
–æ
–≤
–ª
–µ
–Ω
–∏
–µ

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –≥—Ä–∞–º–º–∞—Ç–∏–∫

–ó–∞–≥—Ä—É–∑–∫–∞

–≥—Ä–∞–º–º–∞—Ç–∏–∫–∏

–µ
–∏
–Ω
–µ
–Ω
–∞
—Ä
—Ö
–æ
–°

–∏
–∫
–∏
—Ç
–∞
–º
–º
–∞
—Ä
–≥

–•—Ä–∞–Ω–∏–ª–∏—â–µ –≥—Ä–∞–º–º–∞—Ç–∏–∫

–ü

–æ

–∏

—Å

–∫

–≥

—Ä

–∞

–º

—Ñ

–∞

–π

–º

–∞

—Ç

–∏

–ª

–∞

–∫

–∏

–ó–∞–ø—Ä–æ—Å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏ —é
–ü –æ—Å —ã –ª–∫–∞ –∑–∞–¥–∞—á–∏

–≥
—Ä
–∞
–º
–º
–∞
—Ç
–∏
–∫
–∏

–ó
–∞
–≥
—Ä
—É
–∑
–∫
–∞

–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã

–ì–µ–Ω–µ—Ä–∞—Ü –∏ —è
–∑–∞–¥–∞—á –∏

–ü

–≥—Ä–∞–º

—Ä–æ–≤–µ—Ä–∫–∞
–º–∞—Ç–∏–∫–∏

–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≥—Ä–∞–º–º–∞—Ç–∏–∫

–†–∏—Å. 2: –°–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ —Å–∏—Å—Ç–µ–º—ã

5

3 –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π —á–µ—Ä–µ–∑ –≤–µ–±-

–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ.
–ü—É—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É –ø–æ—Å–ª–∞–ª –∑–∞–ø—Ä–æ—Å –Ω–∞ –≥–µ–Ω–µ—Ä–∞-
—Ü–∏—é –∑–∞–¥–∞—á–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π –æ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –¥–≤—É—Ö —Ñ—É–Ω–∫—Ü–∏–π
–∏ —á–∏—Å–ª–æ–≤–æ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–∏—Å—Ç–µ–º–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ —Å–ª–µ–¥—É—é—â—É—é –∑–∞–¥–∞—á—É:

–†–∏—Å. 3: –ü—Ä–∏–º–µ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤—ã—á–∏—Å–ª–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥-

–Ω—É—é –æ—Ç 4 ¬∑ arctan(ùë•) ¬∑ log(ùë•).

–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–æ–π –∑–∞–¥–∞—á–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º—É, –≤–∫–ª—é—á–∞—é-
—â—É—é –≤ —Å–µ–±—è –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –æ—Ç–≤–µ—Ç–∞ –∏ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏. –¢–∞–∫
–∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É Mathematica –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ç–µ-
–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ
Mathematica.

–í —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–∏-

—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≤–µ–± —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ä–µ—à–µ–Ω–∏–µ–º.

6

–†–∏—Å. 4: –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω—É–∂–Ω–æ

–±—É–¥–µ—Ç —Ä–µ—à–∞—Ç—å —É–∂–µ –¥—Ä—É–≥—É—é –∑–∞–¥–∞—á—É:

–†–∏—Å. 5: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏

7

4 –ì—Ä–∞–º–º–∞—Ç–∏–∫–∏

4.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏

–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ —è–∑—ã–∫–µ SimpleTask –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ—Å–ª–µ-
–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª –≤–∏–¥–∞ ‚ü®–∏–º—è –ø—Ä–∞–≤–∏–ª–∞‚ü© ‚ü®{–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ}‚ü©. –û–ø—Ä–µ–¥–µ-
–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ —Ç–µ–∫—Å—Ç –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞.
–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ —Å—Å—ã–ª–∫—É
–Ω–∞ –¥—Ä—É–≥–æ–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –∏–º—è
–≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–µ–¥–≤–∞—Ä—è—è –µ–≥–æ —Å–∏–º–≤–æ–ª–æ–º #. –ù–∞–ø—Ä–∏–º–µ—Ä:

rule1 { x+123 }
rule2 { y + #rule1 }

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª–∞ rule2 –±—É–¥–µ—Ç –≤—ã—á–∏—Å–ª–µ-
–Ω–æ –ø—Ä–∞–≤–∏–ª–æ rule1 –∏ –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤–º–µ—Å—Ç–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–µ—Ä-
–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ. –¢–æ –µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª–∞ rule2 –±—É–¥–µ—Ç
y+x+123.

–ü—Ä–∞–≤–∏–ª–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã—á–∏—Å–ª–∏–º—ã–º–∏ (—Ñ–æ—Ä–º—É–ª–∞–º–∏) –∏ –Ω–µ–≤—ã—á–∏—Å–ª–∏-
–º—ã–º–∏ (—Ç–µ–∫—Å—Ç–æ–º). –§–æ—Ä–º—É–ª—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª —Ç–µ–º, —á—Ç–æ
–∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–∞–≤–∏-
–ª–∞—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–æ–¥—É–ª–µ–º. –í –Ω–∞—Å—Ç–æ—è—â–µ–π –≤–µ—Ä—Å–∏–∏
—ç—Ç–∏–º –º–æ–¥—É–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è Mathematica 5.2. –ö–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ-
–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Ç–∏–ø–∞ ¬´—Ñ–æ—Ä–º—É–ª–∞¬ª –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º
—è–∑—ã–∫–∞ Mathematica.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∞–≤–∏–ª–æ —è–≤–ª—è–µ—Ç—Å—è –≤—ã—á–∏—Å-
–ª–∏–º—ã–º —Å–ª–µ–¥—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç—å –æ—Ç–∫—Ä—ã–≤–∞—é—â—É—é —Ñ–∏–≥—É—Ä–Ω—É—é —Å–∫–æ–±–∫—É –æ–ø—Ä–µ-
–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª–∞ —Å–∏–º–≤–æ–ª–æ–º —Ç–∏–ª—å–¥–∞. –¢–∞–∫, –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏
–≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª–∞ rule2 –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ —Å–Ω–∞—á–∞–ª–∞ –±—É-
–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –º–æ–¥—É–ª—é –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –∞ –∑–∞—Ç–µ–º —É–∂–µ
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±—É–¥–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤–æ –≤—Ç–æ—Ä–æ–µ –ø—Ä–∞–≤–∏–ª–æ.

rule1 ~{ 2+2 }
rule2 { y + #rule1 }

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∑–Ω–∞—á–µ–Ω–∏–µ rule2 –ø–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±—É–¥–µ—Ç y+4.

8

–ö–∞–∂–¥–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –∫–∞–∫ –º–∏–Ω–∏–º—É–º —Ç—Ä–∏
–ø—Ä–∞–≤–∏–ª–∞ –æ—Ç–≤–µ—á–∞—é—â–∏–µ –∑–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ—Ñ–∫—É –∑–∞–¥–∞—á–∏, —Ä–µ—à–µ–Ω–∏–µ –∏ –æ—Ç–≤–µ—Ç. –≠—Ç–∏
—Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞ —è–≤–ª—è—é—Ç—Å—è –∫–æ—Ä–Ω–µ–≤—ã–º–∏ –∏ –≤—Å–µ –ø—Ä–æ—á–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –±—É–¥—É—Ç –∏—Å-
–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã –∏ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –∫–∞–∫–æ–µ-–Ω–∏–±—É–¥—å
–≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ø—Ä—è–º–æ –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ.

–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –∏–º–µ—é—Ç –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞. –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è
—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´problem¬ª. –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è —Ä–µ—à–µ-
–Ω–∏—è: ¬´solution¬ª. –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –æ—Ç–≤–µ—Ç–∞: ¬´answer¬ª. –ü–æ—Å–ª–µ –∏–º—ë–Ω –ø—Ä–∞–≤–∏–ª
¬´problem¬ª –∏ ¬´solution¬ª –¥–æ–ª–∂–Ω–æ –∏–¥—Ç–∏ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ ¬´output¬ª.

–í –∫–∞—á–µ—Å—Ç–≤–µ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏–≤–µ–¥—ë–º –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–µ–π—à–µ–π –≥—Ä–∞–º–º–∞-

—Ç–∏–∫–∏:

number { 42 }
problem output { –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ #number }
answer { #number }
solution output {

–í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ—à–∏—Ç–µ —ç—Ç—É –∑–∞–¥–∞—á—É,
–µ—Å–ª–∏ –≤–≤–µ–¥—ë—Ç–µ —á–∏—Å–ª–æ #number

}

–ò–∑ —ç—Ç–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∑–∞–¥–∞-
—á–∞. –ö–æ–≥–¥–∞ —Å—Ç—É–¥–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —ç—Ç—É –∑–∞–¥–∞—á—É, –æ–±—É—á–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç
–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ¬´–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 42¬ª –∏ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ –µ—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç –≤–≤–µ-
–¥—ë—Ç –≤ –ø–æ–ª–µ –æ—Ç–≤–µ—Ç–∞ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ –≤—ã–≤–æ–¥–∏—Ç ¬´–í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ—à–∏—Ç–µ —ç—Ç—É
–∑–∞–¥–∞—á—É, –µ—Å–ª–∏ –≤–≤–µ–¥—ë—Ç–µ —á–∏—Å–ª–æ 42¬ª.

4.2 –ü—Ä–∏–Ω—Ü–∏–ø –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–¥–∞—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥-
–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –∑–∞ —Å—á—ë—Ç —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã—Ö –ø—Ä–∞-
–≤–∏–ª —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ —è–≤–ª—è—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ–æ—Ä-
–º—É–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É—é—Ç—Å—è —Ç–µ–º, —á—Ç–æ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ-
–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ, –∞ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
–∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –≥—Ä–∞–º–º–∞—Ç–∏–∫–µ.

9

–≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á—ë—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ-
—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –µ—Å–ª–∏ –∑–∞-
–º–µ–Ω–∏—Ç—å –≤ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–æ—Å—Ç–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∏–∑ –ø—Ä–∏–¥–µ–¥—É—â–µ–≥–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞
–ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –Ω–∞ number ~{ Random[ Integer, { 1, 42000 } ] },
—Ç–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∞–∫–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ 42000
—Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á, –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥–ª–æ-
–∂–µ–Ω–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –≤ –¥–∏–∞–ø–æ–∑–æ–Ω–µ –æ—Ç 1 –¥–æ 42000.

–í –∫–∞—á–µ—Å—Ç–≤–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–∞-
–≤–∏–ª–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–º —Å–æ–±–æ–π –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏
—á–∏—Å–ª–æ–≤–æ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è.

t ~{ Random[ Integer, {

1, 12 } ] }

a ~{ Random[ Integer, { -10, 10 } ] }

t1 ~{ Switch[#t11, 1, Sin[x], 2, Cos[x],
3, Tan[x], 4, Cot[x],
5, ArcSin[ x ], 6, ArcCos[ x ],
7, ArcTan[ x ], 8, ArcCot[ x ],
9, Exp[ x ], 10, x^( #z ),
11, Log[ x ], 12, Sqrt[ x ],
13, x]}

f {#a*#t1}

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∞–≤–∏–ª–æ —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π t –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è
–≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Å–ø–∏—Å–∫–∞. –ü—Ä–∞–≤–∏–ª–æ a –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è
–≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–Ω–æ–∂–∏—Ç–µ–ª—è.

–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∞–≤–∏–ª–∞ f –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç –æ–±–æ–∏—Ö –ø—Ä–∞–≤–∏–ª

—Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

10

5 –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≥—Ä–∞–º–º–∞—Ç–∏–∫

5.1 –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≥—Ä–∞–º–º–∞—Ç–∏–∫ —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø—Ä–æ—â–∞—é—â–µ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
—Ñ–∞–π–ª–æ–≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫ –∏ –∏—Ö –∑–∞–≥—Ä—É–∑–∫—É –≤ —Å–∏—Å—Ç–µ–º—É. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤-
–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–≤–æ–¥–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏, —Ç–∞–∫–∏—Ö –∫–∞–∫
—É—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏, –æ—Ç–≤–µ—Ç –∏ —Ä–µ—à–µ–Ω–∏–µ.

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥—Ä–∞–º-

–º–∞—Ç–∏–∫–∏ –Ω–µ –∏–∑—É—á–∞—è —è–∑—ã–∫ SimpleTask, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ.

–ù–∞—á–∏–Ω–∞—è —Ä–∞–±–æ—Ç—É —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Å
–∫–∞–∫–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –æ–Ω –∂–µ–ª–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –û–Ω –º–æ–∂–µ—Ç –∫–∞–∫ –Ω–∞—á–∞—Ç—å –≤–≤–æ–¥–∏—Ç—å
–æ–¥–∏–Ω –∏–∑ —Ç—Ä—ë—Ö –≥–ª–∞–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∞–∫ –∏ –≤–≤–µ—Å—Ç–∏ –Ω–µ–∫–∏–π –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π
—ç–ª–µ–º–µ–Ω—Ç.

5.2 –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

5.2.1 –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é
–≥—Ä–∞–º–º–∞—Ç–∏–∫—É –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —è–¥—Ä—É –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã. –ü–æ–ª—É—á–∏–≤ –∑–∞–ø—Ä–æ—Å
–æ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —è–¥—Ä–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–Ω—Ç–∞–∫-
—Å–∏—á–µ—Å–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏ –æ—Ç—Å—ã–ª–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É –æ—Ç—á—ë—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ,
—Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤ —Å–µ–±–µ –ª–∏–±–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ª–∏-
–±–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å
–ø—Ä–æ–≤–µ—Ä–∫—É –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ —è–¥—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±-
—Ä–∞–∑–æ–º. –Ø–¥—Ä–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –≤ —Å–∏—Å—Ç–µ–º—É –∏ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏-
—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –µ—ë –æ—Å–Ω–æ–≤–µ. –ï—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –±—ã–ª–∞ –ø—Ä–æ–∏–∑–≤–µ-
–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ, —Ç–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ, –≥–æ–≤–æ—Ä—è—â–µ–µ
–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏. –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ
—è–¥—Ä–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å —Ç–µ–∫—Å—Ç–æ–º, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–º –∏–º–µ—é—â—É—é—Å—è
–ø—Ä–æ–±–ª–µ–º—É. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ —ç—Ç–æ—Ç
—Ç–µ–∫—Å—Ç. –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —è–¥—Ä—É –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏
—Å–∏—Å—Ç–µ–º—ã –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ.

11

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –≤–Ω—É—Ç—Ä–∏ —è–¥—Ä–∞ –±—ã–ª —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å-
–Ω—ã–π —Å–µ—Ä–≤–ª–µ—Ç, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –∑–∞–ø—Ä–æ—Å—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
–≥—Ä–∞–º–º–∞—Ç–∏–∫–∏. –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –±—ã–ª–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –æ—Å—É—â–µ—Å—Ç–≤-
–ª—è—é—â–∞—è –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–ª–µ—Ç—É –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º html –∑–∞–ø—Ä–æ—Å–∞ —Ç–∏–ø–∞ POST.
–¢–µ–∫—Å—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–µ—Ä–≤–ª–µ—Ç—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

5.2.2 –§—É–Ω–∫—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–∞–≤-
–ª—è—é—â–∏—Ö –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
–ø–æ–ª—É—á–∏—Ç—å –Ω–∞–≥–ª—è–¥–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–∞—Ç–µ–º–∞-
—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤
–æ–∫–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏,
–æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω—è—Ç–µ–Ω –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –º–æ–¥—É-
–ª—é –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã, —Ç–æ –µ—Å—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ Mathematica. –û–¥–Ω–∞–∫–æ,
–¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–º–µ—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ-
–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –∏ –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ –∏—Ö —Ç–µ–∫—Å—Ç–∞ –≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π, –ø—Ä–∏–≤—ã—á–Ω–æ–π
—Ñ–æ—Ä–º–µ.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –±—ã–ª–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞
—Ñ—É–Ω–∫—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
–ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É. –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —ç–ª–µ–º–µ–Ω-
—Ç–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫
–µ—Å—Ç—å –∏ –∏–∑ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª, –∫–æ—Ç–æ—Ä—ã–µ —Å–Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å
–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞-
—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç
–≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —Å –∫–æ—Ç–æ—Ä—ã–º –æ–Ω –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–≤–µ–¥—ë–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ç–µ–∫—Å—Ç –∏ –ø—É—Ç—ë–º —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ-
–≥–æ —Ä–∞–∑–±–æ—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç —É—á–∞—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –º–∞—Ç–µ-
–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –î–∞–ª–µ–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ
—Ñ–æ—Ä–º—É–ª—ã –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Å—Ç–∞ –≤
—Ç–µ–∫—Å—Ç–µ –∏ –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —ç–∫—Ä–∞–Ω.

–î–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª—ã –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è-
–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞. –ü—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–∞ –æ–± –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π
–±–∏–±–ª–∏–æ—Ç–µ–∫–µ –±—ã–ª–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞.

–ü–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ JEuclid, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é —Ñ—É–Ω–∫-

12

—Ü–∏—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º—É–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ MathML. –í —ç—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ-
–∫–µ –∏–º–µ–ª–∏—Å—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ SWING, —Å–ø–æ—Å–æ–±–Ω—ã–µ
–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã. –≠—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–ª–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
–ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É, –Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å –µ—ë –ø–æ–º–æ—â—å—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ã–ª–∏ –Ω–µ–¥–æ-
—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞, –ø–æ—ç—Ç–æ–º—É –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞–π—Ç–∏
–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

–í—Ç–æ—Ä–æ–π —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ jlatexmath. –≠—Ç–∞ –±–∏–±-
–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–∞–∫ —ç—Ç–∞
–¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –≤—ë—Ä—Å—Ç–∫–∏ TEX –∏ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∫–∞—á–µ-
—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–æ. –í —Ç–æ –∂–µ –≤—Ä–µ–º—è –æ–Ω–∞ –Ω–µ
—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ TEX –∏ —Å–ø–æ—Å–æ–±–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–Ω–æ–º–Ω–æ.

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ jlatexmath —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏-
—è–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LATEX. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–µ–∂–¥–µ, —á–µ–º –ø—Ä–∏–º–µ–Ω—è—Ç—å –µ—ë
—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö
–≤ —Ñ–æ—Ä–º–∞—Ç–µ Mathematica –≤ —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç.

–≠—Ç–∞ –∑–∞–¥–∞—á–∞ –±—ã–ª–∞ —Ä–µ—à–µ–Ω–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ —Å–∞–º–æ–π —Å–∏—Å—Ç–µ–º—ã Mathematica.
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—É, –∫–æ–Ω—Å—Ç—Ä—É–∫-
—Ç–æ—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–∏—Å—Ç–µ–º–µ Mathematica —Å –∑–∞–ø—Ä–æ—Å–æ–º –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
—Ç—Ä–µ–±—É–µ–º–æ–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —Å–≤–æ–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç
LATEX. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä-
–º—É–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–µ jlatexmath –∏ –ø–æ–ª—É—á–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–º–µ–µ—Ç –¥–≤–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–∞—Ç–µ-
–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –º–æ–¥—É–ª—é. –í –Ω–∞—á–∞–ª–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Å–∏-
—Å—Ç–µ–º—É Mathematica –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –î–ª—è —ç—Ç–æ–≥–æ –æ–Ω —Å–Ω–∞-
—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –º–æ-
–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —è–¥—Ä—É –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏. –ï—Å–ª–∏ –ø—É—Ç—å
–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω –∏ –æ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å
Mathematica –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—É—Ç–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
—Ñ–æ—Ä–º–∞—Ç–æ–≤. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Å–∏—Å—Ç–µ-
–º—É Mathematica, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–µ—Å—Ç—Ä –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Windows.
–≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ Mathematica –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞–¥-
—Ä–µ—Å —Å–≤–æ–µ–π —Ä–∞–±–æ—á–µ–π –ø–∞–ø–∫–∏ –≤ –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Ä–µ–µ—Å—Ç—Ä–∞ –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
–º–æ–∂–µ—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–µ—Å—Ç—Ä–æ–º –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫-
—Ç–æ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ jRegistryKey. –í —Ç–æ–º —Å–ª—É—á–∞–µ
–µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º—É Mathematica —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π

13

—Å–∏—Å—Ç–µ–º—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ —è–¥—Ä—É Mathematica –≤ —Ñ–∞–π–ª
–Ω–∞—Å—Ç—Ä–æ–µ–∫, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å-
–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–µ—Ä–≤—ã–º —Å–ø–æ—Å–æ–±–æ–º –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥—É-
–ª—è.

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É Mathematica —Å –ø–æ–º–æ—â—å—é —Ç–æ–π –∂–µ

–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Ç–µ–º –∂–µ –º–µ—Ç–æ–¥–æ–º, —á—Ç–æ –∏ —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã.

–í —Ç–æ–º —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏-
—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –æ–Ω –¥–µ–ª–∞–µ—Ç –ø–æ–ø—ã—Ç–∫—É —Å–≤—è-
–∑–∞—Ç—å—Å—è —Å —è–¥—Ä–æ–º –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã –∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç—Ä–µ–±—É–µ–º—É—é –∑–∞–¥–∞—á—É
–µ–º—É. –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ —è–¥—Ä–µ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –µ—â—ë
–æ–¥–∏–Ω —Å–µ—Ä–≤–ª–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–∞—Ç–µ–º–∞-
—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –≤ –¥—Ä—É–≥–æ–π. –î–ª—è –æ—Å—É—â–µ—Å—Ç–≤–ª–µ-
–Ω–∏—è —Å–≤–æ–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —ç—Ç–æ—Ç —Å–µ—Ä–≤–ª–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
Mathematica. –û–Ω —Å–ø–æ—Å–æ–±–µ–Ω –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤
—Ñ–æ—Ä–º–∞—Ç–µ Mathematica –≤ —Ñ–æ—Ä–º–∞—Ç—ã MathML –∏ LATEX.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º—É–ª
—Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏–±–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å–∏—Å—Ç–µ–º–∞
Mathematica, –ª–∏–±–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º. –í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –∫–æ–Ω-
—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–∫–∞–ª—å–Ω—ã–π –º–∞-
—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º —Ç—Ä–µ–±—É–µ–º—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª–∏-
–∑—É—é—Ç—Å—è –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —è–¥—Ä–∞ –æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã.

5.2.3 –§—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ LATEX

–≤ —Ñ–æ—Ä–º–∞—Ç Mathematica

–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–∞-
—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ LATEX –≤ —Ñ–æ—Ä–º–∞—Ç
Mathematica. –ü–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏ —Å–æ—Å—Ç–∞–≤-
–ª–µ–Ω–∏–∏ —à–∞–±–ª–æ–Ω–∞ –∑–∞–¥–∞—á–∏ –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ LATEX,
–ø–æ—Å–ª–µ —á–µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∏—Ö.

–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∏–º–µ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä —Ñ–æ—Ä–º—É–ª, –∫–æ—Ç–æ—Ä—ã–π
–æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤. –î–∞–Ω–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä–æ–≤,
–ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã–µ, –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤.

–°–Ω–∞—á–∞–ª–∞ –∏—Å—Ö–æ–¥–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞, –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ LATEX –ø—Ä–µ-

14

–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π MathML, –∑–∞—Ç–µ–º –≤ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π
MathML.

–û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–º –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–º
MathML –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º. –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π MathML
–æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
–Ω–∞ —ç–∫—Ä–∞–Ω–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–ª–∏ –Ω–∞ –±—É–º–∞–≥–µ. –ü–æ —Å—É—Ç–∏, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π
MathML –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É—è—Å—å –∫–æ-
—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º—É–ª—É. –≠—Ç–∏–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π
MathML –ø–æ—Ö–æ–∂ –Ω–∞ LATEX –∏ –ø–æ—ç—Ç–æ–º—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –æ–¥-
–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –≤ –¥—Ä—É–≥–æ–π –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞. –°–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π
MathML –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ñ–æ—Ä–º—É–ª—É —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –µ—ë —Å–µ-
–º–∞–Ω—Ç–∏–∫–∏. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è –≤ –æ–ø–∏—Å–∞-
–Ω–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —è–∑—ã–∫–µ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–≥–æ MathML
—Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –¥–∞–Ω–Ω—ã–µ –æ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–≤—è–∑—è—Ö –º–µ–∂–¥—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏-
–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ —É—á–∞—Å—Ç–≤—É—é—â–∏–º–∏ –≤ —Ñ–æ—Ä–º—É–ª–µ, —Ç–∞–∫–∏—Ö –∫–∞–∫: ¬´ùë• —É–º–Ω–æ–∂–∞–µ—Ç—Å—è
–Ω–∞ ùë¶¬ª, ¬´–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ ùëì –∫ –∞—Ä–≥—É–º–µ–Ω—Ç—É ùë•¬ª –∏–ª–∏ ¬´ùë• –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç
–º–Ω–æ–∂–µ—Å—Ç–≤—É ùëã¬ª.

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ-
–≥–æ MathML –∏–ª–∏ LATEX —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–∞—Å–∞—é—â—É—é-
—Å—è –ø—Ä–∞–≤–∏–ª –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–º
MathML. –ü—Ä–∏–≤–µ–¥—ë–º, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ—Å—Ç–æ–π
–ø—Ä–∏–º–µ—Ä:

<math xmlns="http://www.w3.org/1998/Math/MathML">

<mrow>

<mi>x</mi>
<mo>*</mo>
<mi>[</mi>
<mi>y</mi>
<mo>+</mo>
<mn>1</mn>
<mi>]</mi>

</mrow>

</math>
–≠—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã ùë•*[ùë¶+1] –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ MathML.

15

–û–Ω–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂-
–Ω—ã –±—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω—ã –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º. –í —ç—Ç–æ–º –æ–ø–∏—Å–∞–Ω–∏–∏ —Å–º—ã—Å–ª–æ–≤–∞—è —Å–æ-
—Å—Ç–∞–≤–ª—è—é—â–∞—è —Ñ–æ—Ä–º—É–ª—ã –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –æ–¥–Ω–∞–∫–æ, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
—Å–∫–æ–±–æ–∫ –∏ –∑–Ω–∞–∫–∞ —É–º–Ω–æ–∂–µ–Ω–∏—è. –°–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ
—Ç–æ–π –∂–µ —Ñ–æ—Ä–º—É–ª—ã –Ω–∞ —è–∑—ã–∫–µ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–≥–æ MathML.

<math xmlns=‚Äôhttp://www.w3.org/1998/Math/MathML‚Äô>

<apply>

<times/>
<ci>x</ci>
<apply>

<plus/>
<ci>y</ci>
<cn type=‚Äôinteger‚Äô>1</cn>

</apply>

</apply>

–ó–¥–µ—Å—å –Ω–∞–æ–±–æ—Ä–æ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ —Ñ–æ—Ä–º—É–ª—ã, –∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±
–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –æ–ø—É—â–µ–Ω–∞. –≠—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∞ –∫–∞–∫
ùë• √ó (ùë¶ + 1), ùë• ¬∑ [ùë¶ + 1], ùë• {ùë¶ + 1} –∏ –¥—Ä—É–≥–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –Ω–µ –≤–ª–∏—è—é—â–∏–º–∏
–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫—É.

–í–æ–æ–±—â–µ –≥–æ–≤–æ—Ä—è, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —è–∑—ã–∫–æ–≤ –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –º–∞-
—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã –∏ –≤—Å–µ—Ö –∏—Ö –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–µ –≥—Ä—É–ø–ø—ã.
–ü–µ—Ä–≤–∞—è –≥—Ä—É–ø–ø–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —è–∑—ã–∫–æ–≤, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö —Å–ø–æ—Å–æ–±—ã –æ—Ç–æ–±—Ä–∞-
–∂–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª—ã. –ö —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Ç–∞–∫–∏–µ —è–∑—ã–∫–∏ –∫–∞–∫ LATEX –∏
–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π MathML. –í—Ç–æ—Ä–∞—è –≥—Ä—É–ø–ø–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —è–∑—ã–∫–æ–≤, –æ–ø–∏—Å—ã-
–≤–∞—é—â–∏—Ö —Å–µ–º–∞–Ω—Ç–∏–∫—É —Ñ–æ—Ä–º—É–ª—ã. –ö —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Ç–∞–∫–∏–µ —è–∑—ã–∫–∏
–∫–∞–∫ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π MathML, OpenMath –∏ –ø–æ—á—Ç–∏ –≤—Å–µ —è–∑—ã–∫–∏, –∏—Å–ø–æ–ª—å-
–∑—É—é—â–∏–µ—Å—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∞–ª–≥–µ–±—Ä—ã, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –≤ —Å–∏—Å—Ç–µ–º–µ
Mathematica.

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≤–æ–¥–∏–º—ã–µ –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø—ã –Ω–µ
—è–≤–ª—è–µ—Ç—Å—è —Å–ª–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–µ–π, —Ç–∞–∫ –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª –Ω–∞ —ç—Ç–∏—Ö —è–∑—ã–∫–∞—Ö
—Å–æ–¥–µ—Ä–∂–∞—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤ —è–∑—ã–∫–∞—Ö –≤—Ç–æ—Ä–æ–π –≥—Ä—É–ø-
–ø—ã, —Ç–∞–∫–∂–µ, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å–µ—Ä—å—ë–∑–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π –≤ —Ç–æ–º —Å–ª—É—á–∞–µ –µ—Å–ª–∏ —ç—Ç–∞
–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ

16

–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º—É-
–ª—ã.

–û–¥–Ω–∞–∫–æ, –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä–∞, —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å
–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª—ã –Ω–∞ —è–∑—ã–∫–µ –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø—ã (LATEX
–∏–ª–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π MathML) –≤ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ –≤—Ç–æ—Ä–æ–π –≥—Ä—É–ø–ø—ã
(—Ñ–æ—Ä–º–∞—Ç Mathematica).

–≠—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–∞–∑–¥–æ —Å–ª–æ–∂–Ω–µ–µ. –ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤
—Ç–æ–º, —á—Ç–æ –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é —Ñ–æ—Ä–º—É–ª—ã –º–æ–∂–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç-
—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª —Å —Ä–∞–∑–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–æ–π –∏ –Ω–∏–∫–∞-
–∫–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–ª—å–∑—è. –ü–æ—è—Å–Ω–∏–º —Å–∫–∞–∑–∞–Ω–Ω–æ–µ
–ø—Ä–∏–º–µ—Ä–æ–º: –≤—ã—Ä–∞–∂–µ–Ω–∏–µ ùêø(ùë• + ùë¶) –º–æ–∂–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ ¬´ùêø
—É–º–Ω–æ–∂–µ–Ω–Ω–æ–µ –Ω–∞ —Å—É–º–º—É ùë• –∏ ùë¶¬ª –∏–ª–∏ ¬´—Ñ—É–Ω–∫—Ü–∏—è ùêø –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–∞—è –∫ —Å—É–º–º–µ
ùë• –∏ ùë¶¬ª. –ß—Ç–æ –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–∑–Ω–∞—á–∞–µ—Ç –¥–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞, –º–æ–∂–Ω–æ
–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º —ç—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏–º–µ-
–Ω—è–µ—Ç—Å—è. –í –æ—Ç—Ä—ã–≤–µ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç
—á–µ–ª–æ–≤–µ–∫, –æ–Ω –æ–±—ã—á–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–µ—Ä–≤–æ–≥–æ —Å–∏–º–≤–æ-
–ª–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ ùëì (ùë• + ùë¶) —Å–∏–º–≤–æ–ª ùëì —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –æ–∑–Ω–∞—á–∞–µ—Ç
—Ñ—É–Ω–∫—Ü–∏—é, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏, —Å
–¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –≤ —Ñ–æ—Ä–º—É–ª–µ ùëé(ùë• + ùë¶) —Å–∏–º–≤–æ–ª ùëé —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —è–≤–ª—è–µ—Ç—Å—è
–º–Ω–æ–∂–∏—Ç–µ–ª–µ–º. –û–¥–Ω–∞–∫–æ, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –ª–∏—à—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ.

–î–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –∫–æ—Ä-
—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ MathML –≤ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π
–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ. –í–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–∏-
—ë–º—ã –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –∏—Å–∫—É—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–µ–∫—Ç–∞, –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä, –∫–æ-
—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞.

–í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –º–∞–ª–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º-
–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å. –í –∫–æ–Ω-
—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –¥–ª—è —ç—Ç–æ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ SnuggleTeX. –î–∞–Ω–Ω–∞—è
–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ
LATEX –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π MathML, –∞ –∑–∞—Ç–µ–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è Up-Conversion, –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏-
–æ–Ω–Ω—ã–π MathML –≤ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π.

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–≥–æ MathML —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –ø—Ä–µ–æ–±-
—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç Mathematica. –¢–∞–∫ –∫–∞–∫ –ø—Ä—è–º–æ–≥–æ –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä–∞
–Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏, –±—ã–ª–æ —Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç OpenMath –≤

17

–∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ.

OpenMath —ç—Ç–æ —è–∑—ã–∫ –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ XML, –∫–æ—Ç–æ-
—Ä—ã–π –±—ã–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ–±–º–µ–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏-
—è–º–∏ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º–∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫—É.
–í —Ç–æ–º —á–∏—Å–ª–µ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∞–ª–≥–µ–±—Ä—ã
–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ Mathematica, Maple, Sage
–∏ –¥—Ä—É–≥–∏–º–∏. –ö–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ
–∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä–æ–≤, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏—Ö –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª –Ω–∞ —è–∑—ã–∫–µ OpenMath
–≤ —Ñ–æ—Ä–º–∞—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º. –¢–∞–∫–∏–µ –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä—ã –∏–º–µ-
—é—Ç –Ω–∞–∑–≤–∞–Ω–∏—è PhraseBooks. –î–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è OpenMath –≤ –∫–æ–Ω-
—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä.

–°–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π MathML –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ OpenMath –ø—É—Ç—ë–º
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ XSLT (eXtensible Stylesheet Language
Transformations). –≠—Ç–æ —è–∑—ã–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π XML –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–º–µ-
—é—â–∏–π –ø—Ä—è–º—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö —è–∑—ã–∫–∞ Java.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä –ø—Ä–æ–≤–æ–¥–∏—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –æ—Å—É—â–µ—Å—Ç–≤-

–ª—è—è —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ö–æ–Ω–≤–µ—Ä—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ-
—Å–∫–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ LATEX –∏ —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ-
–∫–∏ SnuggleTeX –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ
MathML.

2. –° –ø–æ–º–æ—â—å—é –ø–æ—Å—Ç–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ SnuggleTeX –ø—Ä–µ–æ–±—Ä–∞–∑—É-
–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ MathML –≤ —Å–æ-
–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π.

3. –ò—Å–ø–æ–ª—å–∑—É—è –¥–æ–∫—É–º–µ–Ω—Ç XSLT –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ Java –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞-
—Ç–µ–ª—å XML –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Å–æ–¥–µ—Ä-
–∂–∞—Ç–µ–ª—å–Ω–æ–≥–æ MathML –≤ —Ñ–æ—Ä–º–∞—Ç OpenMath.

4. –° –ø–æ–º–æ—â—å—é –∫–æ–¥–µ–∫–∞ Mathematica PhraseBook –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø–æ–ª—É-

—á–µ–Ω–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç Mathematica.

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å XML –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DOM –º–æ-
–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –Ω–µ–π DOM –ø–∞—Ä—Å–µ—Ä—ã –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π
–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Java.

18

–ù–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
—Å –±–æ–ª—å—à–∏–º –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —è–∑—ã–∫–∞ Mathematica —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–µ—Å–∫–æ–ª—å-
–∫–æ –≤–∞–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω—É–∂–¥–∞—é—â–∏—Ö—Å—è –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ.
–¢–∞–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞–ª—ã, —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã –ø—Ä–µ–¥-
—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö, –Ω–∏–∂–Ω–∏–µ –∏–Ω–¥–µ–∫—Å—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—á–µ–µ. –í—Å–µ
–ø–æ–¥–æ–±–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —è–∑—ã–∫–µ Mathematica, –æ–¥–Ω–∞-
–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç
—Å –Ω–∏–º–∏. –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤ –±—ã–ª —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω
–µ—â—ë –æ–¥–∏–Ω –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–≤—ã–π –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π, –Ω–æ
–Ω–∞—Ö–æ–¥–∏—Ç –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ
–≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥–¥–∞—é—Ç—Å—è –µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ. –≠—Ç–æ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
—Ä–∞—Å—à–∏—Ä—è–µ–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π
–æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω–≤–µ—Ä—Ç–æ—Ä–∞. –ü—Ä–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
–æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –≤–Ω–µ—à–Ω–µ–º—É –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—É, –∞ —Ç–æ—Ç –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Å–Ω–æ–≤–Ω–æ–≥–æ.

5.3 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

–†–∏—Å. 6: –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏ —Ä–∞—Å—Å–º–æ—Ç-

—Ä–µ–Ω –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —Å –µ–≥–æ –ø–æ–º–æ—â—å—é.

19

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∏–∑–æ–±—Ä–∞–∂—ë–Ω–Ω–æ–µ –Ω–∞ —Ä–∏—Å—É–Ω-

–∫–µ –≤ –Ω–∞—á–∞–ª–µ —Ä–∞–∑–¥–µ–ª–∞.

–í –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –æ–∫–Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã –¥–≤–µ –∫–Ω–æ–ø–∫–∏. –ö–Ω–æ–ø–∫–∞ ¬´add
formulation¬ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –Ω–æ–≤—ã—Ö —ç–ª–µ-
–º–µ–Ω—Ç–æ–≤. –≠—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –≥–ª–∞–≤–Ω–∏–º–∏, —Ç–æ –µ—Å—Ç—å —Ñ–æ—Ä–º—É–ª–∏-
—Ä–æ–≤–∫–æ–π –∑–∞–¥–∞—á–∏, —Ä–µ—à–µ–Ω–∏–µ–º –∑–∞–¥–∞—á–∏ –∏–ª–∏ –æ—Ç–≤–µ—Ç–æ–º, —Ç–∞–∫ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã-
–º–∏. –ö–Ω–æ–ø–∫–∞ ¬´check grammar¬ª —Å–ª—É–∂–∏—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –≥—Ä–∞–º–º–∞-
—Ç–∏–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –ü—Ä–∏ –µ—ë –Ω–∞–∂–∞—Ç–∏–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Å–Ω–æ–≤—ã-
–≤–∞—è—Å—å –Ω–∞ –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö —Å–æ–∑–¥–∞—ë—Ç —Ç–µ–∫—Å—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç
–∑–∞–ø—Ä–æ—Å —è–¥—Ä—É –æ–±—É—á–∞—é—â–∏–π —Å–∏—Å—Ç–µ–º—ã —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É
–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞.

–ù–∏–∂–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Å–ø–∏—Å–æ–∫ –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø—Ä–∞–≤–∏–ª –∏–∑ –∫–æ-
—Ç–æ—Ä—ã—Ö —Ç–µ–∫—Å—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞—Å–∞—é—â–∏–µ—Å—è —Ñ–∞–π–ª–æ–≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –≤ —Ü–µ-

–ª–æ–º, –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–µ–Ω—é file.

–†–∏—Å. 7: –ú–µ–Ω—é file.

20

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞
–≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –∞ —Ç–∞–∫ –∂–µ –∑–∞–≥—Ä—É–∑–∫—É —Ä–∞–Ω–µ–µ —Å–æ-
—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é –≥—Ä–∞–º–º–∞—Ç–∏–∫.

–§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ—Ç–æ–≤–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞
—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ –≤–∞–π–ª–∞ —Å–≤–æ–π—Å—Ç–≤ –∏–¥–µ–Ω-
—Ç–∏—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º—É
–º–æ–¥—É–ª—é —Ä–∞–±–æ—Ç–∞—é—â–µ–º—É —Å —è–¥—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ú–æ–¥—É–ª—å –æ–±–Ω–æ–≤-
–ª—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ–ø–æ–¥–æ–≤–∞—Ç–µ–ª—è. –° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
–¥–æ—Å—Ç—É–ø–Ω–æ–π.

–ú–µ–Ω—é help —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω –ø—É–Ω–∫—Ç: Malual. –ü—Ä–∏ –µ–≥–æ –≤—ã–±–æ—Ä–µ –∫–æ–Ω-
—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ–± —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –æ–ø–∏-
—Å–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –µ—ë –≤ –±—Ä–æ—É–∑–µ—Ä–µ.

–¢–µ–ø–µ—Ä—å –æ–±—Ä–∞—Ç–∏–º—Å—è –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª –≤ –≥—Ä–∞–º-
–º–∞—Ç–∏–∫—É. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ-
—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´add formulation¬ª.

–†–∏—Å. 8: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞.

21

–í —ç—Ç–æ–º –æ–∫–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —ç–ª–µ–º–µ–Ω—Ç
–æ–Ω —Ö–æ—á–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö
–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–≤–µ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É –∑–∞-
–¥–∞—á–∏, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç, —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –≤—Å–ø–æ–º–æ-
–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ. –í –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏
–∏–º—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ—å–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ–ª–µ —Å–ø—Ä–∞–≤–∞ –æ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞
—Å–ø–∏—Å–∫–∞. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´Save¬ª –ø—Ä–∞–≤–∏–ª–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤
–≥—Ä–∞–º–º–∞—Ç–∏–∫—É –∏ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –ø—Ä–∞–≤–∏–ª–∞, –æ—Ç–≤–µ—á–∞—é—â–µ–≥–æ –∑–∞ —Ñ–æ—Ä-
–º—É–ª–∏—Ä–æ–≤–∫—É –∑–∞–¥–∞—á–∏ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É-
—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

–†–∏—Å. 9: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏.

–¢–µ–ø–µ—Ä—å —Å–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–Ω–æ –ø—Ä–∞–≤–∏–ª–æ.
–í—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ –∫–Ω–æ–ø–æ–∫. –ü—Ä–∏
–Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –Ω–µ–∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∞–≤–∏–ª—É –º–æ–∂–Ω–æ
–ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é. –í—Å–µ –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ç–æ–ª—å-
–∫–æ —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø—É—Å—Ç—ã.

22

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª.

–†–∏—Å. 10: –û–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª.

–í –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –æ–∫–Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫
–æ–±–ª–µ–≥—á–∞—é—â–∏—Ö –≤–≤–æ–¥ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –ê—Ä–∏—Ñ-
–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, —Ä–∞–∑–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã, —ç–ª–µ–º–µ–Ω—Ç–∞—Ä-
–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∏–Ω—Ç–µ–≥—Ä–∞–ª–ª—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ. –í—Å–µ –ø–æ–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞-
–±–æ—Ç–∞—é—Ç –ø–æ –æ–¥–Ω–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –∏–∑ –Ω–∏—Ö
–≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –≤–Ω–∏–∑—É —Å–ª–µ–≤–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–Ω–æ–ø–∫–µ
—à–∞–±–ª–æ–Ω —è–∑—ã–∫–∞ Mathematica. –í —Ç–æ–º —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –≤–≤–æ–¥ —à–∞–±–ª–æ–Ω–∞ —Ç—Ä–µ–±—É-
–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª—É—á–∞–µ –∏–Ω—Ç–µ–≥—Ä–∞–ª–æ–≤ —Ç—Ä–µ-
–±—É–µ—Ç—Å—è –≤–≤–µ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ—Å–ª–µ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª–∞, —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏
¬´–ø—Ä–∞–≤–∏–ª–∞ –≥–Ω–µ—Ä–∞—Ü–∏–∏¬ª –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ
–±—É–¥–µ—Ç –≤–≤–µ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –≤—Å—Ç–∞–≤–∫–∞ —à–∞–±–ª–æ–Ω–∞ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å.

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–Ω—ã–º
—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏. –í –∫–∞-

23

ùõΩùë•

—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∑–∞–¥–∞—á—É –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–µ–¥–µ–ª–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
–ø—Ä–∏ ùë• ‚Üí 0. –°–æ—Å—Ç–∞–≤–∏–º –≥—Ä–∞–º–º–∞—Ç–∏–∫—É, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â—É—é –∑–∞–¥–∞—á–∏
–≤–∏–¥–∞ sin(ùõºùë•)
—Å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ ùõº –∏ ùõΩ. –ü—É—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä ùõº –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∞–¥-
–ª–µ–∂–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—É –æ—Ç 3 –¥–æ 17 –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä ùõΩ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—É
–æ—Ç 5 –¥–æ 42.

–ù–∞—á–Ω—ë–º —Å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
ùëé –∏ ùëè. –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –∏ –¥–æ–±–∞–≤–∏–º –≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –¥–≤–∞ –ø—Ä–∞–≤–∏–ª–∞
—Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å –∏–º–µ–Ω–∞–º–∏ a –∏ b.

–†–∏—Å. 11: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ¬´a¬ª –∏ ¬´b¬ª.

–†–∏—Å. 12: –°–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è.

24

–¢–µ–ø–µ—Ä—å –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ –∏—Ö —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é. –í –æ–∫–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–ø—Ä–∞–≤–∏–ª –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ ¬´–ø—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏¬ª. –û–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–µ–¥–Ω–∞-
–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –≤–≤–æ–¥–∞ –ø—Ä–∞–≤–∏–ª —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –Ω–µ—ë
–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ –æ–∫–Ω–æ.

–†–∏—Å. 13: –û–∫–Ω–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

–í —ç—Ç–æ–º –æ–∫–Ω–µ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∂–µ–ª–∞–µ–º—ã–π —Ç–∏–ø —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è,
—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π, –∞ —Ç–∞–∫–∂–µ –¥–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π –≤
–ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–∞–µ–≤–∞–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä.

–†–∏—Å. 14: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ a –∏ b.

–ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å –æ–∫–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –¥–≤–µ –æ–±–ª–∞—Å—Ç–∏.
–õ–µ–≤–∞—è –æ–±–ª–∞—Å—Ç—å —è–≤–ª—è–µ—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–ª–µ–º –¥–ª—è –≤–≤–æ–¥–∞ –ø—Ä–∞–≤–∏–ª–∞. –°—é–¥–∞

25

–Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ
–±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–ª–≤–∞—Ç—å—Å—è. –í –ø—Ä–∞–≤–æ–π –æ–±–ª–∞—Å—Ç–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –ø–∞–Ω–µ–ª—å –æ—Ç–æ–±-
—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –≤–∏–¥–µ —Ñ–æ—Ä-
–º—É–ª—ã¬ª –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ
–≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

–î–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ¬´a¬ª –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å

—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

–†–∏—Å. 15: –û–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–∞–≤–∏–ª–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

–í –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∞–≤–∏–ª–∞, –ø–æ—è–≤–∏–ª–æ—Å—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —è–∑–∞–∫–∞
Mathematica Random[ Integer, { 3, 17 } ]. –≠—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –±—É-
–¥—É—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã–º —è–¥—Ä–æ–º Mathematica, –¥–∞—Å—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–ª—É—á–∞–π–Ω–æ–µ
—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç 3 –¥–æ 17.

–î–∞–ª–µ–µ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É –∑–∞–¥–∞—á–∏ –∏ –∑–∞–ø–æ–ª-
–Ω—è–µ–º –µ—ë. –ü–∞–Ω–µ–ª—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä—è–º–æ –Ω–∞–¥ –ø–æ–ª–µ–º –≤–≤–æ-
–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å–∞–º—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞.
–í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ —Å–ª–µ–≤–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –∏–º–µ–Ω–Ω–∞ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤

26

–≥—Ä–∞–º–º–∞—Ç–∏–∫–µ –ø—Ä–∞–≤–∏–ª.

–†–∏—Å. 16: –°–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª.

–ü–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∞–≤–∏–ª–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.

–†–∏—Å. 17: –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏.

–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ –≤–≤–æ–¥—É —Ä–µ—à–µ–Ω–∏—è. –î–æ–±–∞–≤–∏–º –≤ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É-
—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –µ–≥–æ. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ –±—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏-
—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º—É–ª, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —â—ë–ª–∫–Ω–µ–º –ø–æ
–∫–Ω–æ–ø–∫–µ ¬´–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –≤–∏–¥–µ —Ñ–æ—Ä–º—É–ª—ã¬ª. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É-
—é—â–µ–µ:

27

–†–∏—Å. 18: –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏.

–¢–µ–ø–µ—Ä—å –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–≤–µ—Å—Ç–∏ –ø—Ä–∞–≤–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É. –û–±—É-
—á–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –µ–≥–æ —Å –æ—Ç–≤–µ—Ç–æ–º, –≤–≤–µ–¥—ë–Ω–Ω—ã–º –ø–æ–ª—å-
–∑–æ–≤–∞—Ç–µ–ª–µ–º. –î–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç ¬´answer¬ª –∏ –ø–∏—à–µ–º –≤ –Ω—ë–º
#a/#b.

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç

–≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

28

–†–∏—Å. 19: –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ —Å –≥–æ—Ç–æ–≤–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–æ–π.

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª–µ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≥—Ä–∞–º-
–º–∞—Ç–∏–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–≥–µ–Ω–µ—Ä–∏-
—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç:

a ~{ Random[ Integer, { 3, 17 } ] }
b ~{ Random[ Integer, { 5, 42 } ] }
problem output
{
–ù–∞–π–¥–∏—Ç–µ –ø—Ä–µ–¥–µ–ª –≤—ã—Ä–∞–∂–µ–Ω–∏—è Sin[ #a*x ]/(#b*x)

–ø—Ä–∏ x —Å—Ç—Ä–µ–º—è—â–µ–º—Å—è –∫ 0.

}

solution output
{
–î–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –ø—Ä–æ–∏–∑–≤–µ–¥—ë–º –∑–∞–º–µ–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
–ü—É—Å—Ç—å t = #a * x.
–¢–æ–≥–¥–∞ –∏—Å—Ö–æ–¥–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–∏–¥
Limit[ Sin[ t ] /(
–¢–µ–ø–µ—Ä—å, –≤—ã–Ω–æ—Å–∏–º –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø—Ä–∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–µ

(#b / #a) * t ), t->0 ].

29

–∑–∞ –∑–Ω–∞–∫ –ø—Ä–µ–¥–µ–ª–∞ –∏ —É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ
Limit[Sin[t]/t,t->0] = 1 –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç #a / #b.
}

answer ~{ #a / #b }

6 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏-

–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Android

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Android
—ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏—Å–ø–æ–ª—å-
–∑–æ–≤–∞—Ç—å –æ–±—É—á–∞—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Å –ø–æ–º–æ—â—å—é –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ –±–∞–∑–µ
Android. –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫
–æ–±—É—á–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º–µ, –ø–æ—Å—ã–ª–∞—Ç—å –µ–π –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∑–∞–¥–∞—á –∏ –ø–æ-
–ª—É—á–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏. –î–∞–ª–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ—Å–ª–∞—Ç—å
—Å–∏—Å—Ç–µ–º–µ –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —è–¥—Ä–æ –µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∏–ª–∞. –ï—Å–ª–∏
–æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Andriod –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ-
—à–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ–ø–∏—Å—ã–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–¥–¥–µ—Ä–∂–∏-

–≤–∞–µ—Ç –≤–µ—Å—å –æ–±—É—á–∞—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–∏—Å—Ç–µ–º—ã.

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è,
–ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É. –ü—Ä–∏ –≤–≤–æ–¥–µ –ª–æ–≥–∏–Ω–∞
Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –ø–æ–ª—å-
–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º. –≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é
html –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π php —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ó–∞–ø—Ä–æ—Å
–∏–º–µ–µ—Ç —Ç–∏–ø Get. –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–π –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å—ã–ª–∞–µ—Ç—Å—è –≤–µ–±-
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

–í —Ç–æ–º —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ-
–≤–∞–Ω Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ—Å—ã–ª–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∑–∞–ø—Ä–æ—Å —Å —Ç—Ä–µ–±–æ–≤–∞-
–Ω–∏–µ–º –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ —Ñ–∞–π–ª–∞—Ö cookie.
–ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Android —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞-
–µ—Ç –≤ —Å–≤–æ—ë–º html –∑–∞–ø—Ä–æ—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ cookie –∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –≤–µ–±-
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–∫–ª–∏–∫ —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω—É–∂–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–ª–≤

30

–†–∏—Å. 20: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

–∑–∞–¥–∞—á. –û—Ç–∫–ª–∏–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ html, –ø–æ—ç—Ç–æ–º—É
–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–æ–¥–∏—Ç —Å–∏–Ω—Ç–∞–∫-
—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –æ—Ç–∫–ª–∏–∫–∞ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –≤ –≤–∏–¥–µ —Å–ø–∏—Å-
–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –æ–¥–Ω–æ–º—É
–∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∑–∞–¥–∞—á. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –æ–¥–∏–Ω –∏–∑ —Ç–∞–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π html –∑–∞–ø—Ä–æ—Å
–∫ —è–¥—Ä—É —Å–∏—Å—Ç–µ–º—ã. –í —ç—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ —É–∫–∞–∑–∞–Ω —Ç–∏–ø –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ
–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –ü–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–ø—Ä–æ—Å–∞ —è–¥—Ä–æ –≥–µ-
–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–∫–ª–∏–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML —Å–æ–¥–µ—Ä–∂–∞—â–∏–π
–≤ —Å–µ–±–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É –∑–∞–¥–∞—á–∏, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –∏ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏.

31

–†–∏—Å. 21: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∑–∞–¥–∞—á

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ —É—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏. –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∑–∞-
–¥–∞—á–∏ –≤ XML –æ—Ç–∫–ª–∏–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç–µ–ª–æ html —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–¥–µ—Ä-
–∂–∞—â–µ–µ –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ
MathML. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —Å –ø–æ–º–æ-
—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ Android WebView, —Å–ª—É–∂–∞—â–µ–≥–æ –¥–ª—è –æ—Ç–æ–±-
—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è html —Å—Ç—Ä–∞–Ω–∏—Ü. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —ç—Ç–æ
—Å—Ç–∞–ª–æ –≤–æ–∑–º–æ–∂–Ω—ã–º Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç html —Å—Ç—Ä–∞–Ω–∏—Ü—É, —Å–æ-
–¥–µ—Ä–∂–∞—â—É—é —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É –∑–∞–¥–∞—á–∏ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –µ—ë —ç–ª–µ–º–µ–Ω—Ç—É WebView.
–°–∞–º–∞—è –±–æ–ª—å—à–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
–∑–∞–∫–ª—é—á–∞–ª–∞—Å—å –≤ —Ç–æ–º, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç WebView –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–∏—Å–∞-

32

–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ MathML. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
—Ñ–æ—Ä–º—É–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –Ω—ë–º –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π
–ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ javascript –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ MathJax. –î–ª—è —Ç–æ–≥–æ,
—á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ç—Ä–µ–±—É–µ–º—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã–ª–æ –ø–æ–¥–∫–ª—é-
—á–∏—Ç—å –∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–π html —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∫—Ä–∏–ø—Ç MathJax. –í –Ω–∞-
—Å—Ç–æ—è—â–µ–π –≤–µ—Ä—Å–∏–∏ Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Å—Å—ã–ª–∫–∞ –≤—Å—Ç–∞–≤-
–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ html —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏, –∞ —Ç–∞–∫–∂–µ
—Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–µ–π —Ä–µ—à–µ–Ω–∏–µ.

–†–∏—Å. 22: –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞—á–∏

–ù–∞—Ö–æ–¥—è—Å—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞—á–∏ Android –∏–Ω-
—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –æ—Ç–≤–µ—Ç–∞ –∏ –∫–Ω–æ–ø–∫—É
–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —ç—Ç–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —è–¥—Ä—É. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

33

–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç html –∑–∞–ø—Ä–æ—Å –∫ —è–¥—Ä—É —Å–∏—Å—Ç–µ–º—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ—Ç–≤–µ—Ç –≤–≤–µ–¥—ë–Ω-
–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –ø—Ä–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç. Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ-
–∂–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –ø–æ —Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å-
–Ω—ã–π –æ—Ç–≤–µ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–≤–µ–¥—ë–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ö.
–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-
—Å–∫–∏–π –æ—Ç–≤–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –±—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ-
—Å–∫—É—é —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –æ—Ç–≤–µ—Ç–∞–º–∏, —á—Ç–æ –≤ –æ–±—â–µ–º —Å–ª—É—É—á–∞–µ —è–≤–ª—è-
–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–µ–π –¥–ª—è Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö —Ç–æ–º—É–∂–µ
—ç—Ç—É –∑–∞–¥–∞—á—É –Ω–µ–ª—å–∑—è —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤ —Å–∏–ª—É —Ç–æ–≥–æ, —á—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ –≤ –ø–µ—Ä—Å–ø–µ–∫-
—Ç–∏–≤–µ –≤–æ–∑–º–æ–∂–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
–ü–æ —ç—Ç–∏–º –ø—Ä–∏—á–∏–Ω–∞–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —è–¥-
—Ä–æ —Å–∏—Å—Ç–µ–º—ã –∏—Å–ø–æ–ª—å–∑—É—è –¥–ª—è —ç—Ç–æ–≥–æ —Å–≤–æ–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å. –†–µ-
–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ Android –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
–≤ html –æ—Ç–∫–ª–∏–∫–µ. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç–æ
–µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –≥–æ–≤–æ—Ä—è—â–∏–π –æ —Ç–æ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—à–∏–±—Å—è. –°–∏—Å—Ç–µ–º–∞
–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏.

–†–∏—Å. 23: –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏

34

–ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ—Ç–∂–µ –º–µ—Ö–∞–Ω–∏–∑–º, —á—Ç–æ –∏
–ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏. –í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ä–µ—à–µ–Ω–∏–µ
–∑–∞–¥–∞—á–∏ –Ω–µ —É–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ —ç–º—É–ª—è—Ç–æ—Ä–∞ —Ü–µ–ª–∏–∫–æ–º. –ü–æ—ç—Ç–æ–º—É –æ—Ç–æ–±-
—Ä–∞–∂–∞–µ–º–∞—è html —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–∫—Ä—É—á–µ–Ω–∞ –≤ —Å–∞–º—ã–π –Ω–∏–∑, –∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–º—É
–æ—Ç–≤–µ—Ç—É.

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ MathJax –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç html —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–∞—Ö–æ–¥—è –≤ –Ω–µ–π
–æ–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ MathML –∏ –∑–∞–º–µ–Ω—è—è –∏—Ö
–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏. –≠—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂-
–¥–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ-
–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –∫ —Å–ø–∏—Å–∫—É –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∑–∞–¥–∞—á
–∫–ª–∏–∫–Ω—É–≤ –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–í–µ—Ä–Ω—É—Ç—å—Å—è¬ª.

35

7 –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–î–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º, –æ—Ç–≤–µ-
—á–∞—é—â–∏–µ –∑–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤ —Ä–∞–º–∫–∞—Ö –Ω–∞—Å—Ç–æ—è—â–µ–π –¥–∏–ø–ª–æ–º-
–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

–ò—Å—Ö–æ–¥–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω—Ü–∏–π –∫–æ–Ω-
—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

Converter.java

package v3 ;
/**
*
* @author Dmitriy Krylov
*/
public abstract c l a s s C o n v e r t e r
{

public

abstract S t r i n g c o n v e r t ( S t r i n g i n p u t
throws I n c o r r e c t S y n t a x E x c e p t i o n ;

)

}

WolfMathToLaTeXConverter.java

package v3 ;

import j a v a . i o . IOException ;
import j a v a . u t i l . L i n k e d L i s t ;
import v3 . MathConnection . MathConnectionException ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends C o n v e r t e r
{

WolfMathToLaTeXConverter

@Override
public S t r i n g c o n v e r t ( S t r i n g i n p u t
{

)

i n p u t == n u l l

)

throw new N u l l P o i n t e r E x c e p t i o n ( " i n p u t

i s n u l l " ) ;

i n p u t . e q u a l s ( " " )

)

i f (
{

}

i f (
{

36

return " " ;

i n t remainingAttempts = 2
remainingAttempts > 0
remainingAttempts‚àí‚àí

;
;

}

f o r (

) {

try
{

Log . msg ( " c o n v e r t "+i n p u t+" with l o c a l math module " ) ;

MathConnection mc = MathConnection . g e t I n s t a n c e ( ) ;

S t r i n g r e q u e s t = "TeXForm [ HoldForm [ "+i n p u t+" ] ] " ;
S t r i n g r e s u l t

= mc . s en dR eq ue s t (

r e q u e s t

) ;

r e s u l t

!= n u l l

)

Log . msg ( " s u c c e s s " ) ;
return r e s u l t ;

i f (
{

}

}
catch ( MathConnectionException ex )
{

Log . msg ( " f a i l : "+ex . g e t L o c a l i z e d M e s s a g e ( )
Log . msg ( " t r y a g a i n " ) ;

) ;

}

}

try
{

Log . msg ( " c o n v e r t "+i n p u t+" with remote math module " ) ;

j a v a . u t i l . L i s t <S t r i n g [] > params = new L i n k e d L i s t < >();

params . add (new S t r i n g [ ] { " inputFormat " , "WolfMath" } ) ;
params . add (new S t r i n g [ ] { " outputFormat " , "LaTeX"
} ) ;
} ) ;
params . add (new S t r i n g [ ] { " t e x t "

i n p u t

,

CSendTemplateToPost p o s t R e q u e s t = new CSendTemplateToPost ( ) ;

// –ø–æ—Å—ã–ª–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
S t r i n g u r l = " h t t p : / / i n t . pm . miem . edu . ru / "

+ " taskpower3_war_exploded / c o n v e r t e r S e r v l e t . do " ;

S t r i n g r e s u l t = p o s t R e q u e s t . s e n d P o s t R e q u e s t ( u r l , params

) ;

S t r i n g p r e f i x = " r e s p o n s e page s o u r c e : " ;
i n t s t a r t = r e s u l t . indexOf ( p r e f i x ) ;
i f (
{

!= ‚àí1 )

s t a r t

s t a r t += p r e f i x . l e n g t h ( ) + 2 ;
r e s u l t = r e s u l t . s u b s t r i n g (
i f (
{

r e s u l t . s t a r t s W i t h ( " e r r o r : " ) == f a l s e )

s t a r t

) ;

return r e s u l t ;

}

IOException ex )

}

}
catch (
{

37

Log . msg ( " f a i l : "+ex . g e t L o c a l i z e d M e s s a g e ( )

) ;

}

return n u l l ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

S t r i n g getErrorMsg ( )
{

return " " ;

}

}

LaTeXToWolfMathConverter.java

package v3 ;

import j a v a . i o . CharArrayWriter ;
import j a v a . i o . IOException ;
import j a v a . i o . InputStream ;
import j a v a . u t i l . L i s t ;
import j a v a . u t i l . L o c a l e ;
import j a v a x . xml . t r a n s f o r m . T r a n s f o r m e r ;
import j a v a x . xml . t r a n s f o r m . T r a n s f o r m e r C o n f i g u r a t i o n E x c e p t i o n ;
import j a v a x . xml . t r a n s f o r m . T r a n s f o r m e r E x c e p t i o n ;
import j a v a x . xml . t r a n s f o r m . T r a n s f o r m e r F a c t o r y ;
import j a v a x . xml . t r a n s f o r m . dom . DOMSource ;
import j a v a x . xml . t r a n s f o r m . stream . S t r e a m R e s u l t ;
import j a v a x . xml . t r a n s f o r m . stream . StreamSource ;
import n l . t u e . win . r i a c a . mathematica . c o d e c . MathematicaCodec ;
import n l . t u e . win . r i a c a . openmath . c o d e c . CodecEncodeException ;
import o r g . w3c . dom . Document ;
import o r g . w3c . dom . Element ;
import o r g . w3c . dom . Node ;
import o r g . w3c . dom . NodeLi st ;
import uk . ac . ed . ph . s n u g g l e t e x . I n p u t E r r o r ;
import uk . ac . ed . ph . s n u g g l e t e x . S n u g g l e E n g i n e ;
import uk . ac . ed . ph . s n u g g l e t e x . S n u g g l e I n p u t ;
import uk . ac . ed . ph . s n u g g l e t e x . S n u g g l e S e s s i o n ;
import uk . ac . ed . ph . s n u g g l e t e x . i n t e r n a l . u t i l . X M L U t i l i t i e s ;
import uk . ac . ed . ph . s n u g g l e t e x . u p c o n v e r s i o n . MathMLUpConverter ;
import uk . ac . ed . ph . s n u g g l e t e x . u p c o n v e r s i o n . U p C o n v e r s i o n F a i l u r e ;
import uk . ac . ed . ph . s n u g g l e t e x . u p c o n v e r s i o n . U p C o n v e r s i o n O p t i o n D e f i n i t i o n s ;
import uk . ac . ed . ph . s n u g g l e t e x . u p c o n v e r s i o n . UpConversionOptions ;
import uk . ac . ed . ph . s n u g g l e t e x . u p c o n v e r s i o n . U p C o n v e r s i o n U t i l i t i e s ;
import uk . ac . ed . ph . s n u g g l e t e x . u p c o n v e r s i o n . i n t e r n a l . U p C o n v e r s i o n P a c k a g e D e f i n i t i o n s ;
import uk . ac . ed . ph . s n u g g l e t e x . u t i l i t i e s . M a t h M L U t i l i t i e s ;
import uk . ac . ed . ph . s n u g g l e t e x . u t i l i t i e s . MessageFormatter ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends C o n v e r t e r
{

LaTeXToWolfMathConverter

private f i n a l L o c a l e l o c a l e ;

38

private f i n a l S n u g g l e E n g i n e e n g i n e ;
private f i n a l UpConversionOptions upOpts ;
private f i n a l MathMLUpConverter upConverter ;
private f i n a l T r a n s f o r m e r cMathMLToOpenMath ;

private S t r i n g B u i l d e r
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

e r r o r s B u f f e r = n u l l ;

private s t a t i c LaTeXToWolfMathConverter
public
{

s t a t i c LaTeXToWolfMathConverter g e t I n s t a n c e ( )

i n s t a n c e = n u l l ;

i n s t a n c e != n u l l

)

Log . msg ( " e x i s t

i n s t a n c e " ) ;

Log . msg ( "new i n s t a n c e " ) ;
i n s t a n c e = new LaTeXToWolfMathConverter ( ) ;

i f (
{

}
e l s e
{

}

return i n s t a n c e ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private LaTeXToWolfMathConverter ( )
{

L o c a l e . s e t D e f a u l t ( L o c a l e . ENGLISH ) ;
S t r i n g doMaxima = U p C o n v e r s i o n O p t i o n D e f i n i t i o n s .DO_MAXIMA_NAME;
l o c a l e = L o c a l e . g e t D e f a u l t ( ) ;

try
{

e n g i n e=new S n u g g l e E n g i n e ( ) ;
e n g i n e . addPackage ( U p C o n v e r s i o n P a c k a g e D e f i n i t i o n s . g e t P a c k a g e ( )

) ;

upConverter = new MathMLUpConverter ( ) ;

upOpts=new UpConversionOptions ( ) ;
upOpts . s e t S p e c i f i e d O p t i o n ( doMaxima , " f a l s e " ) ;

T r a n s f o r m e r F a c t o r y f a c t o r y = T r a n s f o r m e r F a c t o r y . n e w I n s t a n c e ( ) ;

InputStream x s l S t r e a m ;
StreamSource x s l S o u r c e ;

x s l S t r e a m = g e t C l a s s ( ) . getResourceAsStream ( "cmmltoom . x s l " ) ;
x s l S o u r c e = new StreamSource ( x s l S t r e a m ) ;

cMathMLToOpenMath = f a c t o r y . newTransformer ( x s l S o u r c e

) ;

}
catch ( T r a n s f o r m e r C o n f i g u r a t i o n E x c e p t i o n ex )
{

throw new RuntimeException ( ex ) ;

}
f i n a l l y
{

L o c a l e . s e t D e f a u l t (

l o c a l e

) ;

39

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

@Override
public S t r i n g c o n v e r t ( S t r i n g l a t e x ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

a s s e r t

l a t e x != n u l l ;

S t r i n g r e s u l t = n u l l ;

c o n v e r s i o n : try
{

L o c a l e . s e t D e f a u l t ( L o c a l e . ENGLISH ) ;
e r r o r s B u f f e r = new S t r i n g B u i l d e r ( ) ;
// ‚àí‚àí‚àí‚àí

Document mathDoc = X M L U t i l i t i e s

. createNSAwareDocumentBuilder ( )
. newDocument ( ) ;

r o o t = mathDoc . c r e a t e E l e m e n t ( " r o o t " ) ;

Element
mathDoc . appendChild (
// ‚àí‚àí‚àí‚àí

r o o t

) ;

S n u g g l e S e s s i o n s e s s i o n = e n g i n e . c r e a t e S e s s i o n ( ) ;
s e s s i o n . p a r s e I n p u t ( new S n u g g l e I n p u t ( l a t e x )
s e s s i o n . buildDOMSubtree (
// ‚àí‚àí‚àí‚àí

r o o t

) ;

) ;

L i s t <I n p u t E r r o r > e r r o r s = s e s s i o n . g e t E r r o r s ( ) ;

i f ( e r r o r s . isEmpty ( ) == f a l s e )
{

I n p u t E r r o r e r r o r

:

e r r o r s

)

S t r i n g e r r o r M s g = MessageFormatter

.

f o r m a t E r r o r A s S t r i n g ( e r r o r

) ;

e r r o r s B u f f e r . append ( ‚Äô \n ‚Äô ) . append ( e r r o r M s g ) ;

f o r (
{

}

throw new I n c o r r e c t S y n t a x E x c e p t i o n ( e r r o r s B u f f e r . t o S t r i n g ( )

) ;

}
// ‚àí‚àí‚àí‚àí

Element pMathML = n u l l ;
NodeL ist

nodes = r o o t . g e t C h i l d N o d e s ( ) ;

i n t i = 0 ;

i < nodes . g e t L e n g t h ( ) ; ++i

)

f o r (
{

Node node = nodes . item (
i f ( M a t h M L U t i l i t i e s . isMathMLElement ( node )
{

) ;

i

)

i f ( pMathML == n u l l
{

)

40

pMathML = ( Element ) node ;

S t r i n g msg = "More than one math e l e m e n t . " ;
throw new RuntimeException ( msg ) ;

}
e l s e
{

}

}

}

i f ( pMathML == n u l l
{

)

throw new RuntimeException ( "No math i n p u t . " ) ;

}
// ‚àí‚àí‚àí‚àí

mathDoc . removeChild (
mathDoc . appendChild ( pMathML ) ;

r o o t

) ;

mathDoc = upConverter

. upConvertSnuggleTeXMathML ( mathDoc , upOpts

) ;

// ‚àí‚àí‚àí‚àí

L i s t <U p C o n v e r s i o n F a i l u r e > f a i l s =
U p C o n v e r s i o n U t i l i t i e s . e x t r a c t U p C o n v e r s i o n F a i l u r e s ( mathDoc ) ;

f a i l s . isEmpty ( ) == f a l s e )

i f (
{

f o r ( U p C o n v e r s i o n F a i l u r e
{

f a i l

:

f a i l s

)

S t r i n g e r r o r M s g = U p C o n v e r s i o n U t i l i t i e s
f a i l

. g e t E r r o r M e s s a g e (

) ;

e r r o r s B u f f e r . append ( ‚Äô \n ‚Äô ) . append ( e r r o r M s g ) ;

}

throw new I n c o r r e c t S y n t a x E x c e p t i o n ( e r r o r s B u f f e r . t o S t r i n g ( )

) ;

}
// ‚àí‚àí‚àí‚àí

mathDoc = M a t h M L U t i l i t i e s . isolateAnnotationXML (

mathDoc . getDocumentElement ( ) ,
MathMLUpConverter .CONTENT_MATHML_ANNOTATION_NAME) ;

Element cMathML = mathDoc . getDocumentElement ( ) ;
// ‚àí‚àí‚àí‚àí

CharArrayWriter caw = new CharArrayWriter ( ) ;

cMathMLToOpenMath . t r a n s f o r m ( new DOMSource (cMathML)

, new S t r e a m R e s u l t ( caw ) ) ;

S t r i n g openMath = caw . t o S t r i n g ( ) ;
// ‚àí‚àí‚àí‚àí

MathematicaCodec c o d e c = new MathematicaCodec ( ) ;

41

S t r i n g wolfMath = c o d e c . encode ( openMath ) ;

r e s u l t = wolfMath ;

}
catch ( CodecEncodeException ex )
{

throw new I n c o r r e c t S y n t a x E x c e p t i o n ( ex . g e t M e s s a g e ( )

) ;

}
catch ( T r a n s f o r m e r E x c e p t i o n |
{

IOException ex )

Log . msg ( ex . g e t L o c a l i z e d M e s s a g e ( )
throw new RuntimeException ( ex ) ;

) ;

}
f i n a l l y
{

L o c a l e . s e t D e f a u l t (

l o c a l e

) ;

}

return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c void main ( S t r i n g [ ] a r g s
{

new LaTeXToWolfMathConverter ( ) . c o n v e r t ( " $x* ( y+1)$ " ) ;

) throws T r a n s f o r m e r E x c e p t i o n ,

I n c o r r e c t S y n t a x E x c e p t i o n

}

public void p r i n t ( O b j e c t o b j
{

)

System . out . p r i n t l n ( o b j

) ;

}

}

SpecialCaseConverter.java

package v3 ;

import j a v a . u t i l . Arrays ;
import j a v a . u t i l . L i s t ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends C o n v e r t e r
{

S p e c i a l C a s e C o n v e r t e r

private f i n a l C o n v e r t e r c o n v e r t e r ;

private f i n a l s t a t i c

L i s t <C l a s s <? extends S p e c i a l C a s e > > c a s e s = Arrays . a s L i s t (

D e r i v a t i v e S p e c i a l C a s e . c l a s s ,
I n t e g r a l S p e c i a l C a s e . c l a s s ,
SumSpecialCase . c l a s s ,
S u b S c r i p t S p e c i a l C a s e . c l a s s ) ;

//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

42

public S p e c i a l C a s e C o n v e r t e r ( C o n v e r t e r c o n v e r t e r
{

)

t h i s . c o n v e r t e r = c o n v e r t e r ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

@Override
public S t r i n g c o n v e r t ( S t r i n g i n p u t
{

) throws I n c o r r e c t S y n t a x E x c e p t i o n

S p e c i a l C a s e R e p o r t
i f (
{

r e p o r t == n u l l

r e p o r t = a p p l y S p e c i a l C a s e s (

i n p u t

) ;

)

return c o n v e r t e r . c o n v e r t (

i n p u t

) ;

}
a s s e r t
// ‚àí‚àí‚àí‚àí

r e p o r t . i s V a l i d (

i n p u t

)

: " i n v a l i d s p e c i a l c a s e r e p o r t " ;

char

sCh

= S p e c i a l C a s e . s p e c i a l C h a r ;

l e f t
r i g h t
specConv = r e p o r t . g e t C o n v e r s i o n R e s u l t ( ) ;

= r e p o r t . g e t L e f t ( ) ;
= r e p o r t . g e t R i g h t ( ) ;

i n t
i n t
S t r i n g
// ‚àí‚àí‚àí‚àí

i n t numSpecialChars = 0 ;
f o r (
{

i n t pos = 0 ; pos < l e f t ; ++pos

)

char ch = i n p u t . charAt ( pos
i f ( ch == sCh )
{

) ;

numSpecialChars++;

}

}
// ‚àí‚àí‚àí‚àí

i n p u t = new S t r i n g B u i l d e r (

i n p u t

)

r e p l a c e (
t o S t r i n g ( ) ;

l e f t ,

r i g h t , S t r i n g . v a l u e O f ( sCh )

)

.
.
// ‚àí‚àí‚àí‚àí

S t r i n g r e s u l t = t h i s . c o n v e r t (
i f (
{

r e s u l t == n u l l

)

i n p u t

) ;

return n u l l ;

}
// ‚àí‚àí‚àí‚àí

i n t pos = 0 ; pos < r e s u l t . l e n g t h ( ) ; ++pos

)

f o r (
{

char ch = r e s u l t . charAt ( pos
i f ( ch == sCh )
{

) ;

i f ( numSpecialChars > 0 )
{

43

‚àí‚àínumSpecialChars ;

}
e l s e
{

r e s u l t = new S t r i n g B u i l d e r (

r e s u l t

)

.
.

r e p l a c e ( pos , pos +1 , specConv )
t o S t r i n g ( ) ;

break ;

}

}

}
// ‚àí‚àí‚àí‚àí

return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S p e c i a l C a s e R e p o r t a p p l y S p e c i a l C a s e s ( S t r i n g i n p u t

)

throws I n c o r r e c t S y n t a x E x c e p t i o n

{

S p e c i a l C a s e R e p o r t

r e s u l t = n u l l ;

f o r ( C l a s s c :
{

c a s e s

)

try
{

S p e c i a l C a s e s c = ( S p e c i a l C a s e ) c . n e w I n s t a n c e ( ) ;

r e s u l t = s c . a p p l y (

i n p u t

) ;

i f (
{

}

}
catch (
{

r e s u l t

!= n u l l

)

break ;

I n s t a n t i a t i o n E x c e p t i o n |

I l l e g a l A c c e s s E x c e p t i o n ex )

throw new RuntimeException ( ex ) ;

}

}

return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c void main ( S t r i n g [ ] a r g s
{

)

try {
LaTeXToWolfMathConverter b a s e C o n v e r t e r = LaTeXToWolfMathConverter

. g e t I n s t a n c e ( ) ;

S p e c i a l C a s e C o n v e r t e r conv = new S p e c i a l C a s e C o n v e r t e r ( b a s e C o n v e r t e r

) ;

S t r i n g i n p u t = " $ \\ i n t \\ f r a c {x }{2} dx$ " ;
S t r i n g c o n v e r t = conv . c o n v e r t (
System . out . p r i n t l n ( c o n v e r t
) ;
} catch ( Throwable e ) { }

i n p u t

) ;

}

44

}

SpecialCase.java

package v3 ;
/**
*
* @author Dmitriy Krylov
*/
public abstract c l a s s S p e c i a l C a s e
{

public s t a t i c f i n a l char s p e c i a l C h a r = ‚Äô@ ‚Äô ;

public abstract S p e c i a l C a s e R e p o r t a p p l y ( S t r i n g i n p u t

)

throws I n c o r r e c t S y n t a x E x c e p t i o n ;

}

SpecialCaseReport.java

package v3 ;
/**
*
* @author Dmitriy Krylov
*/
public c l a s s S p e c i a l C a s e R e p o r t
{

i n t l e f t ;
i n t r i g h t ;

private f i n a l
private f i n a l
private f i n a l S t r i n g c o n v e r s i o n R e s u l t ;
// ‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S p e c i a l C a s e R e p o r t (
{

i n t l e f t ,

i n t r i g h t , S t r i n g c o n v e r s i o n R e s u l t

)

t h i s . l e f t = l e f t ;
t h i s . r i g h t = r i g h t ;
t h i s . c o n v e r s i o n R e s u l t = c o n v e r s i o n R e s u l t ;

Log . msg ( " ( "+ l e f t +" , "+r i g h t+" ) "+c o n v e r s i o n R e s u l t

) ;

}

public i n t g e t L e f t ( )
{

return l e f t ;

}

public i n t g e t R i g h t ( )
{

return r i g h t ;

}

public S t r i n g g e t C o n v e r s i o n R e s u l t ( )
{

return c o n v e r s i o n R e s u l t ;

}

45

public boolean i s V a l i d ( S t r i n g i n p u t
{

)

return (

l e f t > 0
&& r i g h t > 0
&& l e f t < r i g h t
&& r i g h t <= i n p u t . l e n g t h ( )

) ;

}

}

DerivativeSpecialCase.java

package v3 ;

import j a v a . u t i l . A r r a y L i s t ;
import j a v a . u t i l . r e g e x . Matcher ;
import j a v a . u t i l . r e g e x . P a t t e r n ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends
{

D e r i v a t i v e S p e c i a l C a s e
S p e c i a l C a s e

private s t a t i c f i n a l S t r i n g fracCmd = " \\ f r a c " ;

private LaTeXParser p a r s e r = n u l l ;

private S t r i n g d i f f T y p e = n u l l ;
private S t r i n g d i f f F u n c = n u l l ;
private S t r i n g d i f f O r d e r = n u l l ;

private A r r a y L i s t <S t r i n g > d i f f V a r s = n u l l ;
private A r r a y L i s t <S t r i n g > d i f f O r d e r s = n u l l ;

private boolean d e r i v a t i v e R e j e c t = f a l s e ;
private boolean f i r s t O r d e r = true ;

private C o n v e r t e r c o n v e r t e r = new S p e c i a l C a s e C o n v e r t e r (

LaTeXToWolfMathConverter . g e t I n s t a n c e ( )

) ;

//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

@Override
public

S p e c i a l C a s e R e p o r t a p p l y ( S t r i n g i n p u t
throws I n c o r r e c t S y n t a x E x c e p t i o n

)

{

a s s e r t

i n p u t != n u l l ;

S p e c i a l C a s e R e p o r t

r e p o r t = n u l l ;

a p p l y :
{

i n t e n t r y I n d e x = i n p u t . indexOf ( fracCmd ) ;
i f ( e n t r y I n d e x == ‚àí1 )
{

break a p p l y ;

46

}

p a r s e r = new LaTeXParser (
p a r s e r . readLaTeXCommand ( ) ;

input , e n t r y I n d e x ) ;

parseNumerator ( ) ;
i f ( d e r i v a t i v e R e j e c t
{

break a p p l y ;

}

parseDenominator ( ) ;
i f ( d e r i v a t i v e R e j e c t
{

break a p p l y ;

}

)

)

S t r i n g c o n v e r t e d = c o n v e r t D e r i v a t i v e ( ) ;

i n t s t a r t = e n t r y I n d e x ;
i n t end

= p a r s e r . g e t C u r r e n t P o s ( ) ;

r e p o r t = new S p e c i a l C a s e R e p o r t (

s t a r t , end , c o n v e r t e d ) ;

}

return r e p o r t ;

}

private void parseNumerator ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

boolean s u c c e s s = f a l s e ;
S t r i n g numerator = e x t r a c t B l o c k ( ) ;
i f ( numerator == n u l l
{

| | numerator . isEmpty ( )

)

return ;

}

try
{

LaTeXParser
S t r i n g p r e f i x = l p . r e a d B l o c k ( ) ;

l p = new LaTeXParser ( numerator

) ;

boolean c o r r e c t P r e f i x = p r e f i x . e q u a l s ( "d" )

| | p r e f i x . e q u a l s ( " \\ p a r t i a l " ) ;

i f ( c o r r e c t P r e f i x )
{

S t r i n g f u n c ;
S t r i n g o r d e r ;

S t r i n g n ex t = l p . r e a d B l o c k ( ) ;
i f (
{

! ne x t . e q u a l s ( "^" )

)

f i r s t O r d e r = true ;
o r d e r = " 1 " ;
f u n c = n e xt ;

}
e l s e
{

f i r s t O r d e r = f a l s e ;
o r d e r = l p . r e a d B l o c k ( ) ;
f u n c = l p . r e a d B l o c k ( ) ;

47

}

i f (
{

}

l p . endOfInput ( )

)

d i f f F u n c = f u n c ;
d i f f T y p e = p r e f i x ;
d i f f O r d e r = o r d e r ;
s u c c e s s = true ;

}

}
catch (
{

I n c o r r e c t S y n t a x E x c e p t i o n ex )

// This

i s not d e r i v a t i v e . J u s t r e t u r n .

}

d e r i v a t i v e R e j e c t = ! s u c c e s s ;

}

private void parseDenominator ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

p a r s e : {

d e r i v a t i v e R e j e c t = true ;

S t r i n g denominator = e x t r a c t B l o c k ( ) ;
i f ( denominator == n u l l
{

| | denominator . isEmpty ( )

)

break p a r s e ;

}

LaTeXParser

l p = new LaTeXParser ( denominator

) ;

S t r i n g f i r s t B l o c k = l p . r e a d B l o c k ( ) ;
i f (
)
{

f i r s t B l o c k . e q u a l s ( d i f f T y p e )

!

break p a r s e ;

f i r s t O r d e r

)

}

i f (
{

S t r i n g var = l p . r e a d B l o c k ( ) ;
i f (
{

l p . endOfInput ( )

!

)

break p a r s e ;

}

d i f f V a r s = new A r r a y L i s t < >(1);
d i f f O r d e r s = new A r r a y L i s t < >(1);
d i f f V a r s . add ( var
d i f f O r d e r s . add ( " 1 " ) ;

) ;

}
e l s e
{

f i n a l
f i n a l
f i n a l
f i n a l
f i n a l

i n t readVar = 1 ;
i n t readOrder = 2 ;
i n t s t a r t R e a d = 3 ;
i n t determOrder = 4 ;
i n t compliteRead = 5 ;

S t r i n g var = n u l l ;

48

S t r i n g o r d e r = n u l l ;

A r r a y L i s t <S t r i n g > v a r s = new A r r a y L i s t < >();
A r r a y L i s t <S t r i n g > o r d e r s = new A r r a y L i s t < >();

boolean c o r r e c t R e a d i n g = true ;

l p . s e t C u r r e n t P o s ( 0 ) ;
i n t n e x t A c t i o n = s t a r t R e a d ;

r e a d i n g :
while ( true )
{

l p . endOfInput ( )

i f (
&& n e x t A c t i o n != compliteRead
&& n e x t A c t i o n != determOrder
) {

c o r r e c t R e a d i n g = f a l s e ;
break r e a d i n g ;

}

switch ( n e x t A c t i o n )
{

case compliteRead :

v a r s . add ( var
o r d e r s . add ( o r d e r

) ;

) ;

l p . endOfInput ( )

)

c o r r e c t R e a d i n g = true ;
break r e a d i n g ;

i f (
{

}

n e x t A c t i o n = s t a r t R e a d ;
break ;

case s t a r t R e a d :

S t r i n g d i f f = l p . r e a d B l o c k ( ) ;
i f (
{

! d i f f . e q u a l s ( d i f f T y p e )

)

break p a r s e ;

}
n e x t A c t i o n = readVar ;
break ;

case readVar :

var = l p . r e a d B l o c k ( ) ;
n e x t A c t i o n = determOrder ;
break ;

case determOrder :

l p . endOfInput ( )

)

o r d e r = " 1 " ;
n e x t A c t i o n = compliteRead ;
break ;

i f (
{

}

i n t c u r r P o s = l p . g e t C u r r e n t P o s ( ) ;
i f (
{

l p . r e a d B l o c k ( ) . e q u a l s ( "^" )

)

49

n e x t A c t i o n = readOrder ;

}
e l s e
{

l p . s e t C u r r e n t P o s ( c u r r P o s
o r d e r = " 1 " ;
n e x t A c t i o n = compliteRead ;

) ;

}

break ;

case readOrder :

o r d e r = l p . r e a d B l o c k ( ) ;
n e x t A c t i o n = compliteRead ;
break ;

}

} // r e a d i n g :

! c o r r e c t R e a d i n g | | v a r s . isEmpty ( )

)

break p a r s e ;

i f (
{

}

t h i s . d i f f V a r s = v a r s ;
t h i s . d i f f O r d e r s = o r d e r s ;

}

d e r i v a t i v e R e j e c t = f a l s e ;
} // p a r s e :

}

private S t r i n g c o n v e r t D e r i v a t i v e ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

S t r i n g B u i l d e r
r e s u l t . append ( c o n v e r t ( d i f f F u n c )

r e s u l t = new S t r i n g B u i l d e r ( "D[ " ) ;

) ;

i n t l e n = d i f f V a r s . s i z e ( ) ;
f o r (
)
{

i <l e n ; ++i

i n t i =0;

r e s u l t . append ( " , " + " { " ) ;
r e s u l t . append ( c o n v e r t ( d i f f V a r s . g e t ( i ) )
r e s u l t . append ( " , " ) ;
r e s u l t . append ( c o n v e r t ( d i f f O r d e r s . g e t ( i ) )
r e s u l t . append ( " } " ) ;

) ;

) ;

}

r e s u l t . append ( " ] " ) ;
return r e s u l t . t o S t r i n g ( ) ;

}

private boolean i n B r a c k e t ( S t r i n g t e x t )
{

a s s e r t
S t r i n g t x t = t e x t . t r i m ( ) ;

!= n u l l ;

t e x t

i n t l e n = t x t . l e n g t h ( ) ;
i f (
{

l e n < 2 )

return f a l s e ;

}

50

char f i r s t = t x t . charAt ( 0 ) ;
char l a s t = t x t . charAt (

l e n ‚àí 1 ) ;

return p a r s e r . i s L e f t B r a c k e t ( f i r s t )

&& p a r s e r . o p p o s i t e B r a c k e t ( f i r s t ) == l a s t ;

}

public s t a t i c void main ( S t r i n g [ ] a r g s
{

)

try
{

new D e r i v a t i v e S p e c i a l C a s e ( ) . a p p l y ( " $ \\ f r a c { d x

}{ dy} $ " ) ;

I n c o r r e c t S y n t a x E x c e p t i o n ex )

}
catch (
{
}

}

private S t r i n g e x t r a c t B l o c k ( )

throws I n c o r r e c t S y n t a x E x c e p t i o n

{

}

S t r i n g r e s u l t = n u l l ;
S t r i n g denominator = p a r s e r . r e a d B l o c k ( ) . t r i m ( ) ;

i n B r a c k e t ( denominator )

)

i f (
{

denominator = denominator

.
.
.

t r i m ( )
s u b s t r i n g ( 1 , denominator . l e n g t h ( ) ‚àí 1 )
t r i m ( ) ;

! denominator . isEmpty ( )

)

r e s u l t = denominator ;

i f (
{

}

}

return r e s u l t ;

private S t r i n g c o n v e r t ( S t r i n g l a t e x ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

return c o n v e r t e r . c o n v e r t (

‚Äô $ ‚Äô+l a t e x+ ‚Äô $ ‚Äô

) ;

}
private void f i r s t O r d e r C a s e ( )
{

}

private void h i g h e r O r d e r C a s e ( )
{

}

}

SubScriptSpecialCase.java

package v3 ;

51

/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends
{

S u b S c r i p t S p e c i a l C a s e
S p e c i a l C a s e

private i n t s t a r t I n d e x = ‚àí1;
= ‚àí1;
private i n t endIndex

private LaTeXParser p a r s e r = n u l l ;

private f i n a l C o n v e r t e r c o n v e r t e r ;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S u b S c r i p t S p e c i a l C a s e ( )
{

c o n v e r t e r = new S p e c i a l C a s e C o n v e r t e r (

LaTeXToWolfMathConverter . g e t I n s t a n c e ( ) ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí
/* –≠—Ç–æ—Ç —Å–ø–µ—Ü–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –ü–û–°–õ–ï
* —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ , –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è ,
* –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∏–∂–∏–π –ø—Ä–µ–¥–µ–ª , —Ç–∞–∫–∏—Ö –∫–∞–∫
* –∏–Ω—Ç–µ–≥—Ä–∞–ª—ã –∏ —Å—É–º–º—ã .
*/
/* –ú–µ—Ç–æ–¥ –∏—â–µ—Ç –≤–æ –≤—Ö–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å–ª—É—á–∞–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
* –Ω–∏–∂–Ω–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ , –∏–∑–≤–ª–µ–∫–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç , –æ–±–ª–∞–¥–∞—é—â–∏–π
* –Ω–∏–∂–Ω–∏–º –∏–Ω–¥–µ–∫—Å–æ–º –∏ —Å–∞–º –Ω–∏–∂–Ω–∏–π –∏–Ω–¥–µ–∫—Å , –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç
* –∏—Ö –∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ
* Mathematica .
*/
@Override
public

S p e c i a l C a s e R e p o r t a p p l y ( S t r i n g i n p u t
throws I n c o r r e c t S y n t a x E x c e p t i o n

)

{

}

a s s e r t

i n p u t != n u l l ;

i n t e n t r y I n d e x = i n p u t . l a s t I n d e x O f (
‚Äô_ ‚Äô
i f ( e n t r y I n d e x == ‚àí1 ) { return n u l l ; }

) ;

p a r s e r = new LaTeXParser (

input , e n t r y I n d e x ) ;

S t r i n g e l e m e n t
S t r i n g s u b s c r i p t = e x t r a c t S u b s c r i p t ( ) ;

= e x t r a c t S u b s c r i p t E l e m e n t ( ) ;

S t r i n g c o n v e r t e d = " S u b s c r i p t "

+ " [ "
+
+
+
+ " ] "
;

c o n v e r t ( e l e m e n t
" , "
c o n v e r t (

s u b s c r i p t

)

)

return new S p e c i a l C a s e R e p o r t (

s t a r t I n d e x , endIndex , c o n v e r t e d ) ;

52

//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g e x t r a c t S u b s c r i p t E l e m e n t ( )

throws I n c o r r e c t S y n t a x E x c e p t i o n

{

i n t o l d P o s = p a r s e r . g e t C u r r e n t P o s ( ) ;
S t r i n g r e s u l t = p a r s e r . r e a d P r e v i o u s B l o c k ( ) ;
s t a r t I n d e x = p a r s e r . g e t C u r r e n t P o s ( ) ;
p a r s e r . s e t C u r r e n t P o s ( o l d P o s + 1 ) ;
return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g e x t r a c t S u b s c r i p t ( )

throws I n c o r r e c t S y n t a x E x c e p t i o n

{

S t r i n g r e s u l t = p a r s e r . r e a d B l o c k ( ) ;
endIndex = p a r s e r . g e t C u r r e n t P o s ( ) ;
return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g c o n v e r t ( S t r i n g l a t e x ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

return c o n v e r t e r . c o n v e r t (

‚Äô $ ‚Äô+l a t e x+ ‚Äô $ ‚Äô

) ;

}

}

IntegralSpecialCase.java

package v3 ;

import v3 . LaTeXParser . L i m i t s ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends
{

I n t e g r a l S p e c i a l C a s e
S p e c i a l C a s e

private f i n a l S t r i n g intCmd = " \\ i n t " ;
private f i n a l S t r i n g h e a d e r = " I n t e g r a t e " ;
private f i n a l C o n v e r t e r c o n v e r t e r ;
private LaTeXParser p a r s e r ;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public I n t e g r a l S p e c i a l C a s e ( )
{

c o n v e r t e r = new S p e c i a l C a s e C o n v e r t e r (

LaTeXToWolfMathConverter . g e t I n s t a n c e ( )

) ;

}

53

//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí
/* a p p l y
* –ú–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
* —Å—Ç—Ä–æ–∫—É —Å–æ–¥–µ—Ä–∂–∞—â—É—é –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã –Ω–∞ —è–∑—ã–∫–µ LaTeX ,
* –∏—â–µ—Ç –≤ –æ—Ç–æ—ç —Å—Ç—Ä–æ–∫–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç
* –µ –≥ –æ –≤ —Ñ–æ—Ä–º–∞—Ç Wolfram Mathematica .
*
* –ï—Å–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞–ª —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏
* –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—å–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–Ω–¥–µ–∫—Å—ã –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞
* –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞–ª–ª–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ .
*
* –ò–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç n u l l
*
* –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –µ—Å–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞–ª —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –Ω–æ
* –Ω–µ —É–¥–∞–ª–æ—Å—å –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å .
*/
@Override
public

S p e c i a l C a s e R e p o r t a p p l y ( S t r i n g i n p u t
throws I n c o r r e c t S y n t a x E x c e p t i o n

)

{

a s s e r t

i n p u t != n u l l ;

//–ù–∞–π–¥—ë–º –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏–∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —è–∑—ã–∫–∞ LaTeX .

//–ë—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ–º –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ .
//–ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å —á—Ç–æ
// –æ–Ω–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ .
//–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º n u l l

// –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ—Å—Ç—å –ª–∏ —É —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–º–≤–∞–µ–º–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞
//–Ω–∏–∂–Ω–∏–π –∏ –≤–µ—Ä—Ö–Ω–∏–π –ø—Ä–µ–¥–µ–ª .
//–ù–∞–π–¥—ë–º —Å–ª–µ–¥—É—é—â–∏–π –∑–∞ –∫–æ–º–∞–Ω–¥–æ–π –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ –Ω–µ–ø—Ä–æ–±–µ–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª
//–ï—Å–ª–∏ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Å–∏–º–≤–æ–ª–æ–≤ ‚Äô_ ‚Äô –∏–ª–∏ ‚Äô^ ‚Äô
// –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏–Ω—Ç–µ–≥—Ä–∞–ª –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π .
//–ò–Ω–∞—á–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏–Ω—Ç–µ–≥—Ä–∞–ª –∫–∞–∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π .

//–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ —á—Ç–æ —É –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö–Ω–∏–π
//–∏–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∏–∂–Ω–∏–π –ø—Ä–µ–¥–µ–ª , –∏–ª–∏ –µ—Å–ª–∏ —É –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞
// –¥–≤–∞ –∏–ª–∏ –± –æ –ª –µ –µ –Ω–∏–∂–Ω–∏—Ö –∏–ª–∏ –≤–µ—Ä—Ö–Ω–∏—Ö –ø—Ä–µ–¥–µ–ª–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
// –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∏ –º–µ—Ç–æ–¥ –∫–∏–¥–∞–µ—Ç
//—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ .

i n t e n t r y I n d e x = i n p u t . l a s t I n d e x O f ( intCmd ) ;
i f ( e n t r y I n d e x == ‚àí1 )
{

return n u l l ;

}

p a r s e r = new LaTeXParser (

input , e n t r y I n d e x ) ;

p a r s e r . readLaTeXCommand ( ) ;
// ‚àí‚àí‚àí

i n t s t a r t P o s = e n t r y I n d e x ;

S t r i n g c o n v e r s i o n R e s u l t ;
p a r s e r . s k i p S p a c e s ( ) ;
switch ( p a r s e r . c u r r e n t C h a r ( )

)

54

{

}

case ‚Äô_ ‚Äô :
case ‚Äô ^ ‚Äô :

c o n v e r s i o n R e s u l t = t r e a t A s D e f i n i t e I n t e g r a l ( ) ;
break ;

d e f a u l t :

c o n v e r s i o n R e s u l t = t r e a t A s I n d e f i n i t e I n t e g r a l ( ) ;
break ;

i n t endPos = p a r s e r . g e t C u r r e n t P o s ( ) ;

return new S p e c i a l C a s e R e p o r t (

s t a r t P o s , endPos ,

c o n v e r s i o n R e s u l t

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g t r e a t A s D e f i n i t e I n t e g r a l ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

l i m i t s

L i m i t s
S t r i n g l o w e r L i m i t
S t r i n g u p p e r L i m i t

= p a r s e r . readLowerAndUpperLimits ( ) ;
= l i m i t s . l o w e r ;
= l i m i t s . upper ;

S t r i n g i n t e g r a n d
S t r i n g d i f f e r e n t i a l = r e a d D i f f e r e n t i a l ( ) ;

= r e a d I n t e g r a n d ( ) ;

return h e a d e r

+ " [ "
+
+ " , "
+
+
+
+
+
+
+
+ " ] " ;

c o n v e r t (

i n t e g r a n d )

" { "

" } "

)

c o n v e r t ( d i f f e r e n t i a l
" , "
c o n v e r t (
" , "
c o n v e r t ( u p p e r L i m i t

l o w e r L i m i t

)

)

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g t r e a t A s I n d e f i n i t e I n t e g r a l ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

S t r i n g i n t e g r a n d
S t r i n g d i f f e r e n t i a l = r e a d D i f f e r e n t i a l ( ) ;

= r e a d I n t e g r a n d ( ) ;

return h e a d e r

+ " [ "
+ c o n v e r t (
+ " , "
+ c o n v e r t ( d i f f e r e n t i a l
+ " ] " ;

i n t e g r a n d )

)

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g r e a d I n t e g r a n d ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

55

p a r s e r . s k i p S p a c e s ( ) ;

i n t s t a r t I n d e x = p a r s e r . g e t C u r r e n t P o s ( ) ;

boolean l a s t B l o c k I s M a t h O p e r a t o r = f a l s e ;

f o r ( ; ; )
{

S t r i n g r e a d B l o c k = p a r s e r . r e a d B l o c k ( ) ;

r e a d B l o c k . e q u a l s ( "d" )

i f (
&& l a s t B l o c k I s M a t h O p e r a t o r == f a l s e
) {

break ;

}

l a s t B l o c k I s M a t h O p e r a t o r = p a r s e r . isMathOperator (

r e a d B l o c k ) ;

}
i n t endIndex = p a r s e r . g e t C u r r e n t P o s ( ) ‚àí 1 ;

return p a r s e r . g e t P a r t (

s t a r t I n d e x , endIndex ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g r e a d D i f f e r e n t i a l ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

p a r s e r . s k i p S p a c e s ( ) ;
return p a r s e r . r e a d B l o c k ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g c o n v e r t ( S t r i n g t e x t
{

) throws I n c o r r e c t S y n t a x E x c e p t i o n

return c o n v e r t e r . c o n v e r t (

‚Äô $ ‚Äô+t e x t+ ‚Äô $ ‚Äô

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c void main ( S t r i n g [ ] a r g s ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

new I n t e g r a l S p e c i a l C a s e ( ) . a p p l y ( " $a+b+s +\\int_ {y}^{x} a+d+s+x dx$ " ) ;

}

}

SumSpecialCase.java

package v3 ;

import v3 . LaTeXParser . L i m i t s ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s

SumSpecialCase

56

extends
{

S p e c i a l C a s e

private f i n a l S t r i n g sumCmd = " \\sum" ;

private S t r i n g c o n v e r t = n u l l ;
private S t r i n g sumBody = n u l l ;
private S t r i n g l o w e r L i m i t = n u l l ;
private S t r i n g u p p e r L i m i t = n u l l ;

private LaTeXParser p a r s e r ;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

@Override
public

S p e c i a l C a s e R e p o r t a p p l y ( S t r i n g i n p u t )
throws I n c o r r e c t S y n t a x E x c e p t i o n

{

i f (
{

}

i n p u t == n u l l

)

throw new RuntimeException ( " argument

i s n u l l " ) ;

i n t i n t E n t r y I n d e x = i n p u t . l a s t I n d e x O f ( sumCmd ) ;
i f (
{

i n t E n t r y I n d e x == ‚àí1 )

return n u l l ;

}

p a r s e r = new LaTeXParser (

input ,

i n t E n t r y I n d e x ) ;

i n t s t a r t P o s = i n t E n t r y I n d e x ;

readSumLimits ( ) ;
readSumBody ( ) ;
convertSum ( ) ;

i n t endPos = p a r s e r . g e t C u r r e n t P o s ( ) ;

return new S p e c i a l C a s e R e p o r t (

s t a r t P o s , endPos , c o n v e r t

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void readSumLimits ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

L i m i t s

l i m i t s = p a r s e r . readLowerAndUpperLimits ( ) ;

l o w e r L i m i t = l i m i t s . l o w e r ;
u p p e r L i m i t = l i m i t s . upper ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void readSumBody ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

sumBody = p a r s e r . r e a d B l o c k ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void convertSum ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n

57

{

i f (

l o w e r L i m i t == n u l l
| | u p p e r L i m i t == n u l l
| |
== n u l l

sumBody

) {

}

throw new I n c o r r e c t S y n t a x E x c e p t i o n ( ) ;

S t r i n g cmdHeader = "Sum" ;

S p e c i a l C a s e C o n v e r t e r conv =

new S p e c i a l C a s e C o n v e r t e r (

LaTeXToWolfMathConverter . g e t I n s t a n c e ( )

) ;

S t r i n g cSumBody
S t r i n g cLowerLimit = conv . c o n v e r t ( " $$ "+l o w e r L i m i t+" $$ " ) ;
S t r i n g cUpperLimit = conv . c o n v e r t ( " $$ "+u p p e r L i m i t+" $$ " ) ;

= conv . c o n v e r t ( " $$ "+sumBody+" $$ " ) ;

c o n v e r t = cmdHeader

+ " [ "
+
+ " , "
+
+
+
+
+
+ " ] " ;

cSumBody

" { "

" } "

cLowerLimit
" , "
cUpperLimit

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c void main ( S t r i n g [ ] a r g s
{}

)

}

LaTeXParser.java

package v3 ;
/**
*
* @author Dmitriy Krylov
*/
public c l a s s LaTeXParser
{

i n t l e n g t h ;

private f i n a l
private f i n a l S t r i n g i n p u t ;
private i n t c u r r e n t P o s = ‚àí1;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public LaTeXParser ( )
{
t h i s ( null , ‚àí1 ) ;

}

public LaTeXParser ( S t r i n g i n p u t

)

58

{

}

t h i s (

input , 0 ) ;

public LaTeXParser ( S t r i n g input ,
{

t h i s . i n p u t = i n p u t ;
t h i s . c u r r e n t P o s = c u r r e n t P o s ;
l e n g t h = i n p u t . l e n g t h ( ) ;

i n t c u r r e n t P o s

)

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g g e t P a r t (
{

i n t s t a r t I n d e x ,

i n t endIndex )

return i n p u t . s u b s t r i n g (

s t a r t I n d e x , endIndex ) ;

}

public char getChar (
{

i n t pos

)

return i n p u t . charAt ( pos

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public L i m i t s
{

readLowerAndUpperLimits ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n

S t r i n g l o w e r L i m i t ;
S t r i n g u p p e r L i m i t ;

switch ( c u r r e n t C h a r ( )
{

)

case ‚Äô_ ‚Äô :

l o w e r L i m i t = readLowerLimit ( ) ;
u p p e r L i m i t = readUpperLimit ( ) ;
break ;

case ‚Äô ^ ‚Äô :

u p p e r L i m i t = readUpperLimit ( ) ;
l o w e r L i m i t = readLowerLimit ( ) ;
break ;

d e f a u l t :

S t r i n g e r r o r = " e x p e c t upper o r
throw new I n c o r r e c t S y n t a x E x c e p t i o n ( e r r o r

l o w e r

l i m i t " ;

) ;

}

return new L i m i t s (

l o w e r L i m i t , u p p e r L i m i t

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g readLowerLimit ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

s k i p S p a c e s ( ) ;
i f ( c u r r e n t C h a r ( )
{

!= ‚Äô_ ‚Äô

)

S t r i n g e r r o r M e s s a g e = " e x p e c t
throw new I n c o r r e c t S y n t a x E x c e p t i o n ( e r r o r M e s s a g e

l i m i t " ;

l o w e r

) ;

}

59

nextNonSpace ( ) ;
return r e a d B l o c k ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g readUpperLimit ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

s k i p S p a c e s ( ) ;
i f ( c u r r e n t C h a r ( )
{

!= ‚Äô ^ ‚Äô

)

S t r i n g e r r o r M e s s a g e = " e x p e c t upper
throw new I n c o r r e c t S y n t a x E x c e p t i o n ( e r r o r M e s s a g e

l i m i t " ;

) ;

}

nextNonSpace ( ) ;
return r e a d B l o c k ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g r e a d B l o c k ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

s k i p S p a c e s ( ) ;
char c = c u r r e n t C h a r ( ) ;

i f ( c == ‚Äô \\ ‚Äô
{

)

return readLaTeXCommand ( ) ;

}

i f (
{

}

i s L e f t B r a c k e t ( c )

)

return r e a d B r e a c k e t s B l o c k ( c ) ;

return readChar ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g r e a d P r e v i o u s B l o c k ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

i n t endPos = lookupPreviousNonSpacePos ( ) + 1 ;
i n t s t a r t P o s = ‚àí1;
char c = getChar ( endPos ‚àí 1 ) ;
i f (
{

i s R i g h t B r a c k e t ( c )
s t a r t P o s = l o o k u p L e f t B r a c k e t P o s ( endPos ‚àí 1 ) ;

)

}
e l s e
i f (
{

)

i s L a t i n L e t t e r ( c )
i n t cmdPos = lookupBeginLaTeXCommand ( endPos ‚àí 1 ) ;
i f ( cmdPos != ‚àí1 )
{

s t a r t P o s = cmdPos ;

}
e l s e

60

{

}

s t a r t P o s = endPos ‚àí 1 ;

s t a r t P o s = endPos ‚àí 1 ;

}
e l s e
{

}

s e t C u r r e n t P o s (
return g e t P a r t (

s t a r t P o s

) ;

s t a r t P o s , endPos

) ;

}

//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g readLaTeXCommand ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

s k i p S p a c e s ( ) ;

i f ( c u r r e n t C h a r ( )
{

!= ‚Äô \\ ‚Äô

)

S t r i n g e r r o r M e s s a g e = " e x p e c t LaTeX command" ;
throw new I n c o r r e c t S y n t a x E x c e p t i o n ( e r r o r M e s s a g e

) ;

}

nextChar ( ) ;

i f ( c u r r e n t C h a r ( ) == ‚Äô
{

‚Äô

)

return " \\ " ;

}

i f (
{

}

i s L a t i n L e t t e r ( c u r r e n t C h a r ( ) )
i n t startCommand = g e t C u r r e n t P o s ( ) ‚àí 1 ;

)

do
{

nextChar ( ) ;

}
while ( C h a r a c t e r . i s L e t t e r ( c u r r e n t C h a r ( ) )

) ;

return i n p u t . s u b s t r i n g ( startCommand , g e t C u r r e n t P o s ( )

) ;

throw new I n c o r r e c t S y n t a x E x c e p t i o n ( " e x p e c t laTeX command" ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public void s k i p S p a c e s ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

while (
{

i s S p a c e ( c u r r e n t C h a r ( ) )

)

nextChar ( ) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

61

public char c u r r e n t C h a r ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

i f ( c u r r e n t P o s >= i n p u t . l e n g t h ( )
{

)

S t r i n g e r r o r M e s s a g e = " end o f
throw new I n c o r r e c t S y n t a x E x c e p t i o n ( e r r o r M e s s a g e

i n p u t " ;

) ;

}

return i n p u t . charAt ( c u r r e n t P o s

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public void s e t C u r r e n t P o s (
{

c u r r e n t P o s = newPos ;

i n t newPos )

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public i n t g e t C u r r e n t P o s ( )
{

return c u r r e n t P o s ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public char nextNonSpace ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

! i s S p a c e ( c u r r e n t C h a r ( ) )

)

nextChar ( ) ;

i f (
{

}

s k i p S p a c e s ( ) ;
return c u r r e n t C h a r ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public

i n t lookupPreviousNonSpacePos (
throws I n c o r r e c t S y n t a x E x c e p t i o n

)

{

}

i n t r e s u l t = ‚àí1;
boolean nonSpaceFound = f a l s e ;

i n t pos = g e t C u r r e n t P o s ( ) ‚àí 1
; pos >= 0 && ! nonSpaceFound
; pos‚àí‚àí

f o r (

) {

char c = i n p u t . charAt ( pos
i f ( C h a r a c t e r . i s W h i t e s p a c e ( c ) == f a l s e )
{

) ;

r e s u l t = pos ;
nonSpaceFound = true ;

}

}

return r e s u l t ;

62

//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public boolean i s L a t i n L e t t e r ( char ch )
{

char l c h = C h a r a c t e r . toLowerCase ( ch ) ;
return " q w e r t y u i o p l k j h g f d s a z x c v b n m " . indexOf (

l c h ) != ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public boolean i s L e f t B r a c k e t ( char c )
{

switch ( c )
{

case ‚Äô ( ‚Äô :
case ‚Äô [ ‚Äô :
case ‚Äô { ‚Äô :

return true ;

d e f a u l t :

return f a l s e ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public boolean i s R i g h t B r a c k e t ( char c )
{

switch ( c )
{

case ‚Äô ) ‚Äô :
case ‚Äô ] ‚Äô :
case ‚Äô } ‚Äô :

return true ;

d e f a u l t :

return f a l s e ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public char o p p o s i t e B r a c k e t ( char c )
{

switch ( c )
{

case ‚Äô ( ‚Äô : return ‚Äô ) ‚Äô ;
case ‚Äô ) ‚Äô : return ‚Äô ( ‚Äô ;
case ‚Äô [ ‚Äô : return ‚Äô ] ‚Äô ;
case ‚Äô ] ‚Äô : return ‚Äô [ ‚Äô ;
case ‚Äô { ‚Äô : return ‚Äô } ‚Äô ;
case ‚Äô } ‚Äô : return ‚Äô { ‚Äô ;
d e f a u l t : throw new I l l e g a l A r g u m e n t E x c e p t i o n ( ) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public boolean i s S p a c e ( char c )
{

return C h a r a c t e r . i s W h i t e s p a c e ( c ) ;

63

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public i n t l o o k u p L e f t B r a c k e t P o s (
{

i n t r e s u l t = ‚àí1;

i n t r i g h t B r a c k e t P o s

)

char r i g h t B r a c k e t = i n p u t . charAt (
char l e f t B r a c k e t = o p p o s i t e B r a c k e t (
i n t pos = r i g h t B r a c k e t P o s ‚àí 1 ;
boolean found = f a l s e ;

r i g h t B r a c k e t P o s
r i g h t B r a c k e t

) ;
) ;

while ( pos >= 0 && ! found )
{

char c u r r e n t C h a r = i n p u t . charAt ( pos

) ;

i f ( c u r r e n t C h a r == l e f t B r a c k e t
{

)

r e s u l t = pos ;
found = true ;

}
e l s e
i f (
{

i s R i g h t B r a c k e t ( c u r r e n t C h a r )

)

pos = l o o k u p L e f t B r a c k e t P o s ( pos

) ;

}
pos‚àí‚àí;

}

return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public boolean isMathOperator ( S t r i n g b l o c k )
{

i f ( b l o c k . l e n g t h ( )
{

return f a l s e ;

!= 1 )

}

switch ( b l o c k . charAt ( 0 )
{

)

case ‚Äô+ ‚Äô :
case ‚Äô‚àí ‚Äô :
case ‚Äô* ‚Äô :
case ‚Äô / ‚Äô :
case ‚Äô ^ ‚Äô :

return true ;

d e f a u l t :

return f a l s e ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g r e a d B r e a c k e t s B l o c k ( char l e f t B r a c k e t

)

throws I n c o r r e c t S y n t a x E x c e p t i o n

64

{

a s s e r t
) ;
char r i g h t B r a c k e t = o p p o s i t e B r a c k e t (

i s L e f t B r a c k e t (

l e f t B r a c k e t

l e f t B r a c k e t

) ;

i n t s t a r t I n d e x = g e t C u r r e n t P o s ( ) ;

do
{

nextChar ( ) ;
i f (
{

i s L e f t B r a c k e t ( c u r r e n t C h a r ( ) )

)

r e a d B r e a c k e t s B l o c k ( c u r r e n t C h a r ( )

) ;

}

}
while ( c u r r e n t C h a r ( )

!= r i g h t B r a c k e t

) ;

nextChar ( ) ;
i n t endIndex = g e t C u r r e n t P o s ( ) ;

return i n p u t . s u b s t r i n g (

s t a r t I n d e x , endIndex ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void nextChar ( )
{

c u r r e n t P o s ++;

}

private void p r e v i o u s C h a r ( )
{

c u r r e n t P o s ‚àí‚àí;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g readChar ( ) throws I n c o r r e c t S y n t a x E x c e p t i o n
{

char r e t u r n e d C h a r = c u r r e n t C h a r ( ) ;
nextChar ( ) ;
return S t r i n g . v a l u e O f (

r e t u r n e d C h a r

) ;

}

private i n t lookupBeginLaTeXCommand (
{

i n t endIndex )

i n t pos = endIndex + 1 ;
i n t r e s u l t = ‚àí1;
while ( ‚àí‚àípos >= 0 && r e s u l t == ‚àí1 )
{

char ch = i n p u t . charAt ( pos
i f (
{

i s L a t i n L e t t e r ( ch ) == f a l s e )

) ;

i f ( ch == ‚Äô \\ ‚Äô
{

)

r e s u l t = pos ;

}

}

}

return r e s u l t ;

65

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public boolean endOfInput ( )
{

return ! ( c u r r e n t P o s < l e n g t h ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c c l a s s L i m i t s
{

public f i n a l S t r i n g upper ;
public f i n a l S t r i n g l o w e r ;

public L i m i t s ( S t r i n g lower , S t r i n g upper
{

)

t h i s . l o w e r = l o w e r ;
t h i s . upper = upper ;

}

}

}

LaTeXInputDialog.java

package v3 ;

import j a v a . awt . BorderLayout ;
import j a v a . awt . C o n t a i n e r ;
import j a v a . awt . Font ;
import j a v a . awt . e v e n t . ActionEvent ;
import j a v a . awt . e v e n t . A c t i o n L i s t e n e r ;
import j a v a . u t i l . r e g e x . Matcher ;
import j a v a . u t i l . r e g e x . P a t t e r n ;
import j a v a x . swing . Box ;
import j a v a x . swing . BoxLayout ;
import j a v a x . swing . JButton ;
import j a v a x . swing . J D i a l o g ;
import j a v a x . swing . JEditorPane ;
import j a v a x . swing . JFrame ;
import j a v a x . swing . JOptionPane ;
import j a v a x . swing . JPanel ;
import j a v a x . swing . J S c r o l l P a n e ;
import j a v a x . swing . t e x t . JTextComponent ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends
{

LaTeXInputDialog
JFrame

private f i n a l S t r i n g t x t I n s e r t = " –í—Å—Ç–∞–≤–∏—Ç—å " ;
private f i n a l S t r i n g t x t C a n c e l = "–û—Ç–º–µ–Ω–∏—Ç—å" ;
private f i n a l S p e c i a l C a s e C o n v e r t e r c o n v e r t e r ;

private f i n a l JTextComponent

t a r g e t ;

66

private f i n a l JEditorPane e d i t o r P a n e ;

private S t r i n g B u i l d e r
t e x t = n u l l ;
= ‚àí1;
private i n t c u r r P o s
private i n t s t a r t M a t h = ‚àí1;
private i n t f i n a l M a t h = ‚àí1;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public LaTeXInputDialog ( JTextComponent
{

t a r g e t

)

t h i s . s e t S i z e ( 6 0 0 , 400 ) ;
t h i s . s e t D e f a u l t C l o s e O p e r a t i o n ( J D i a l o g .DO_NOTHING_ON_CLOSE ) ;

t h i s . t a r g e t = t a r g e t ;

e d i t o r P a n e = new JEditorPane ( ) ;
e d i t o r P a n e . s e t F o n t ( new Font ( null , Font . PLAIN , 1 8 )

) ;

C o n t a i n e r contentPane = t h i s . getContentPane ( ) ;
contentPane . s e t L a y o u t ( new BorderLayout ( )

) ;

J S c r o l l P a n e s c r o l l P a n e = new J S c r o l l P a n e ( ) ;
s c r o l l P a n e . s e t V i e w p o r t V i e w ( e d i t o r P a n e

) ;

JPanel buttonPane = new JPanel ( ) ;
buttonPane . s e t L a y o u t ( new BoxLayout ( buttonPane , BoxLayout . X_AXIS)

) ;

JButton b I n s e r t = new JButton (
JButton bCancel = new JButton (

t x t I n s e r t
t x t C a n c e l

) ;
) ;

buttonPane . add ( Box . c r e a t e H o r i z o n t a l G l u e ( )
buttonPane . add ( b I n s e r t
buttonPane . add ( Box . c r e a t e H o r i z o n t a l S t r u t ( 5 )
buttonPane . add ( bCancel
buttonPane . add ( Box . c r e a t e H o r i z o n t a l G l u e ( )

) ;

) ;

) ;

) ;

) ;

contentPane . add (
s c r o l l P a n e , BorderLayout .CENTER ) ;
contentPane . add ( buttonPane , BorderLayout .SOUTH ) ;

b I n s e r t . a d d A c t i o n L i s t e n e r ( new A c t i o n L i s t e n e r ( ) {

@Override public void a c t i o n P e r f o r m e d ( ActionEvent e ) {

i n s e r t ( ) ;

}

} ) ;

bCancel . a d d A c t i o n L i s t e n e r ( new A c t i o n L i s t e n e r ( ) {

@Override public void a c t i o n P e r f o r m e d ( ActionEvent e ) {

c a n s e l ( ) ;

}

} ) ;

c o n v e r t e r = new S p e c i a l C a s e C o n v e r t e r (

LaTeXToWolfMathConverter . g e t I n s t a n c e ( )

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void i n s e r t ( )
{

S t r i n g sText = e d i t o r P a n e . g e t T e x t ( ) ;

67

sText . isEmpty ( )

)

c l o s e ( ) ;
return ;

i f (
{

}

try
{

t e x t = new S t r i n g B u i l d e r (
c u r r P o s = 0 ;

sText

) ;

while ( readMath ( )
{

)

S t r i n g math = t e x t . s u b s t r i n g (
S t r i n g convertedMath = c o n v e r t e r . c o n v e r t ( math ) ;

startMath ,

f i n a l M a t h ) ;

t e x t . r e p l a c e (

startMath ,

f i n a l M a t h , convertedMath ) ;

}
// ‚àí‚àí‚àí‚àí

S t r i n g B u i l d e r
t a r g e t T e x t . i n s e r t (

t a r g e t T e x t = new S t r i n g B u i l d e r (
t a r g e t . g e t C a r e t P o s i t i o n ( ) ,

t a r g e t . g e t T e x t ( )
t e x t

) ;

) ;

t a r g e t . s e t T e x t (
c l o s e ( ) ;

t a r g e t T e x t . t o S t r i n g ( )

) ;

}
catch (
{

I n c o r r e c t S y n t a x E x c e p t i o n ex )

JOptionPane . showMessageDialog ( t h i s , ex . g e t M e s s a g e ( )

) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void c a n s e l ( )
{

c l o s e ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private i n t f i n d S t a r t M a t h ( )
{

i n t r e s u l t = ‚àí1;

P a t t e r n p = P a t t e r n . c o m p i l e ( " ( \ \ $ \\ $ ) | ( \ \ $ ) | ( \ \ \ \ \ \ ( ) | ( \ \ \ \ \ \ [ ) " ) ;
Matcher m = p . matcher (

t e x t

) ;

i f ( c u r r P o s < t e x t . l e n g t h ( ) && m. f i n d ( c u r r P o s )
{

)

r e s u l t = m. s t a r t ( ) ;
c u r r P o s = m. end ( ) ;

}

return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

68

private i n t f i n d F i n a l M a t h ( )
{

i n t r e s u l t = ‚àí1;

P a t t e r n p = P a t t e r n . c o m p i l e ( " ( \ \ $ \\ $ ) | ( \ \ $ ) | ( \ \ \ \ \ \ ) ) | ( \ \ \ \ \ \ ] ) " ) ;
Matcher m = p . matcher (

t e x t

) ;

i f ( c u r r P o s < t e x t . l e n g t h ( ) && m. f i n d ( c u r r P o s )
{

)

r e s u l t = m. end ( ) ;
c u r r P o s = m. end ( ) ;

}

return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private boolean readMath ( )
{

s t a r t M a t h = f i n d S t a r t M a t h ( ) ;
f i n a l M a t h = f i n d F i n a l M a t h ( ) ;
return s t a r t M a t h != ‚àí1
&& f i n a l M a t h != ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void c l o s e ( )
{

t h i s . s e t V i s i b l e (

f a l s e ) ;

}

}

DirFinder.java

package v3 ;

import j a v a . i o . F i l e ;
import j a v a . i o . F i l e F i l t e r ;
import j a v a . u t i l . L i n k e d L i s t ;
/**
*
* @author Dmitriy Krylov
*/
c l a s s D i r F i n d e r
{

public s t a t i c F i l e f i n d S u b D i r ( F i l e r o o t D i r , S t r i n g t a r g e t
{

)

a s s e r t
a s s e r t
a s s e r t

r o o t D i r != n u l l ;
t a r g e t
!= n u l l ;
r o o t D i r . i s D i r e c t o r y ( ) ;

L i n k e d L i s t <F i l e > queue = new L i n k e d L i s t < >();
D i r F i l t e r d f = new D i r F i l t e r ( ) ;

f o r ( ;

r o o t D i r != n u l l ;

r o o t D i r = queue . p o l l ( )

)

69

{

F i l e [ ]

l i s t F i l e s = r o o t D i r . l i s t F i l e s ( d f

) ;

f o r ( F i l e
{

t e s t i n g D i r

:

l i s t F i l e s

)

t e s t i n g D i r . getName ( ) . e q u a l s ( t a r g e t )

)

return t e s t i n g D i r ;

i f (
{

}

queue . add (

t e s t i n g D i r

) ;

}

}

return n u l l ;

}

s t a t i c c l a s s D i r F i l t e r implements F i l e F i l t e r {

@Override public boolean a c c e p t ( F i l e

f i l e ) {

return f i l e . i s D i r e c t o r y ( ) ;

}

} ;

}

MathConnection.java

package v3 ;

import com . wolfram . j l i n k . Expr ;
import com . wolfram . j l i n k . K e r n e l L i n k ;
import com . wolfram . j l i n k . MathLinkException ;
import com . wolfram . j l i n k . P a c k e t A r r i v e d E v e n t ;
import com . wolfram . j l i n k . P a c k e t L i s t e n e r ;
import com . wolfram . j l i n k . P a c k e t P r i n t e r ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
implements A u t o C l o s e a b l e , P a c k e t L i s t e n e r
{

MathConnection

private s t a t i c MathConnection a c t i v e C o n n e c t i o n = n u l l ;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c MathConnection g e t I n s t a n c e ( ) throws MathConnectionException
{

i f ( a c t i v e C o n n e c t i o n == n u l l
{

)

Log . msg ( " c r e a t e new c o n n e c t i o n " ) ;
a c t i v e C o n n e c t i o n = new MathConnection ( ) ;

}
e l s e
{

}

Log . msg ( " r e t u r n e x i s t c o n n e c t i o n " ) ;

70

return a c t i v e C o n n e c t i o n ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g
private S t r i n g
private S t r i n g
private K e r n e l L i n k
private boolean

= n u l l ;
l o c a t i o n
= n u l l ;
e r r o r M s g
r e s u l t
= n u l l ;
k e r n e l L i n k = n u l l ;
w a i t E r r o r

= f a l s e ;

public S t r i n g g e t L o c a t i o n ( ) { return l o c a t i o n ; }
public S t r i n g g e t E r r o r ( )
{ return e r r o r M s g ; }
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public MathConnection ( ) throws MathConnectionException
{

Log . msg ( ) ;

MathKernelFinder
f i n d e r . f i n d ( ) ;

f i n d e r = new MathKernelFinder ( ) ;

l o c a t i o n
k e r n e l L i n k = f i n d e r . g e t K e r n e l ( ) ;

= f i n d e r . g e t L o c a t i o n ( ) ;

a d d L i s t e n e r s ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g se n dR eq ue st ( S t r i n g r e q u e s t
{

) throws MathConnectionException

r e q u e s t == n u l l

)

throw new I l l e g a l A r g u m e n t E x c e p t i o n ( " r e q u e s t must be non n u l l " ) ;

i f (
{

}

Log . msg (

r e q u e s t

) ;

r e s u l t = n u l l ;
e r r o r M s g = n u l l ;

r e s u l t = k e r n e l L i n k . evaluateToInputForm (

r e q u e s t , 0 ) ;

r e s u l t == n u l l

)

Throwable l a s t E r r o r = k e r n e l L i n k . g e t L a s t E r r o r ( ) ;

c l o s e ( ) ;
throw new MathConnectionException (

l a s t E r r o r

) ;

i f (
{

}

Log . msg (

r e q u e s t+" ‚àí> "+r e s u l t

) ;

r e s u l t . e q u a l s ( " $ F a i l e d " )

)

r e s u l t = n u l l ;

i f (
{

}

71

return r e s u l t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

@Override
public void c l o s e ( )
{

Log . msg ( ) ;
i f ( k e r n e l L i n k != n u l l
{

)

k e r n e l L i n k . evaluateToInputForm ( " CloseFrontEnd [ ] " , 0 ) ;
k e r n e l L i n k . c l o s e ( ) ;
k e r n e l L i n k = n u l l ;

}
i f ( t h i s == a c t i v e C o n n e c t i o n )
{

Log . msg ( " t h i s
a c t i v e C o n n e c t i o n = n u l l ;

i s a c t i v e c o n n e c t i o n " ) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

@Override
public
boolean p a c k e t A r r i v e d ( P a c k e t A r r i v e d E v e n t e ) throws MathLinkException
{

Expr e xp r = n u l l ;

try
{

ex pr = ( ( K e r n e l L i n k ) e . g e t S o u r c e ( ) ) . getExpr ( ) ;
S t r i n g incomingMessage = e xp r . t o S t r i n g ( ) ;

switch ( e . getPktType ( )
{

)

case K e r n e l L i n k .MESSAGEPKT:
{

w a i t E r r o r = true ;

}
break ;

case K e r n e l L i n k .TEXTPKT:
{

i f ( w a i t E r r o r
{

)

w a i t E r r o r = f a l s e ;
i f ( e r r o r M s g == n u l l
{

)

e r r o r M s g = incomingMessage ;

e r r o r M s g += " \n" + incomingMessage ;

}
e l s e
{

}

}

}
break ;

d e f a u l t :

72

break ;

}

}
catch ( MathLinkException ex )
{

Log . msg ( ex . g e t M e s s a g e ( )
throw ex ;

) ;

}
f i n a l l y
{

ex pr . d i s p o s e ( ) ;

}

return true ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void a d d L i s t e n e r s ( )
{

k e r n e l L i n k . a d d P a c k e t L i s t e n e r ( t h i s ) ;
k e r n e l L i n k . a d d P a c k e t L i s t e n e r ( new P a c k e t P r i n t e r ( )

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c c l a s s MathConnectionException extends E x c e p t i o n
{

public MathConnectionException ( S t r i n g msg ) { super ( msg ) ; }
public MathConnectionException ( Throwable e ) { super ( e ) ;
}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c void main ( S t r i n g [ ] a r g s )
{

try {
try ( MathConnection mc = new MathConnection ( )
{

)

mc . se n dR eq ue st ( " To E x pr e s s io n [ \ " \ \ \ \ s i n (2 ) +2 \ " ,TeXForm ] " ) ;
Thread . s l e e p ( 7 0 0 0 ) ;
mc . se n dR eq ue st ( " To E x pr e s s io n [ \ " \ \ \ \ s i n (2 ) +2 \ " ,TeXForm ] " ) ;

}
} catch ( MathConnectionException |
{

Log . msg ( e . g e t M e s s a g e ( )

) ;

I n t e r r u p t e d E x c e p t i o n e )

}

}

}

MathKernelFinder.java

package v3 ;

import ca . beq . u t i l . win32 . r e g i s t r y . R e g i s t r y K e y ;
import ca . beq . u t i l . win32 . r e g i s t r y . R e g i s t r y V a l u e ;
import ca . beq . u t i l . win32 . r e g i s t r y . RootKey ;
import com . wolfram . j l i n k . K e r n e l L i n k ;

73

import com . wolfram . j l i n k . MathLinkException ;
import com . wolfram . j l i n k . MathLinkFactory ;
import j a v a . i o . B u f f e r e d R e a d e r ;
import j a v a . i o . F i l e ;
import j a v a . i o . IOException ;
import j a v a . i o . InputStreamReader ;
import j a v a . u t i l . A r r a y L i s t ;
import j a v a . u t i l . r e g e x . Matcher ;
import j a v a . u t i l . r e g e x . P a t t e r n ;
import v3 . MathConnection . MathConnectionException ;

/**
*
* @author Dmitriy Krylov
*/
public c l a s s MathKernelFinder
{

private s t a t i c f i n a l
private s t a t i c f i n a l S t r i n g
private s t a t i c f i n a l S t r i n g

long

t i m e o u t
kernelName
l i b P r o p e r t y = "com . wolfram . j l i n k . l i b d i r " ;

=
= " m a t h k e r n e l . exe " ;

1 0 0 0 0 ;

private S t r i n g
private K e r n e l L i n k k e r n e l L i n k
private boolean

k e r n e l L o c a t i o n = n u l l ;
= n u l l ;
= f a l s e ;

isFound

private S e t t i n g M a n a g e r

s e t t i n g s = S e t t i n g M a n a g e r . g e t S e t t i n g M a n a g e r ( ) ;

public S t r i n g
public K e r n e l L i n k
public boolean
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

g e t L o c a t i o n ( ) { return k e r n e l L o c a t i o n ; }
}
g e t K e r n e l ( )
isFound ( )
}

{ return k e r n e l L i n k ;
{ return isFound ;

public void f i n d ( ) throws MathConnectionException
{

Log . msg ( " s t a r t

s e a r c h " ) ;

f i n d U s i n g I n i F i l e ( ) ;
i f (

isFound ) { return ; }

f i n d U s i n g R e g i s t e r 2 ( ) ;
i f (

isFound ) { return ; }

throw new MathConnectionException ( " can ‚Äô t

f i n d math module " ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void t r y C o n n e c t ( S t r i n g l o c a t i o n )
{

Log . msg (

l o c a t i o n ) ;

F i l e k e r n e l F i l e = new F i l e (

l o c a t i o n ) ;

i f ( k e r n e l F i l e . canExecute ( ) == f a l s e )
{

Log . msg ( " f i l e d o e s not e x i s t o r
return ;

i s not e x e c u t a b l e . " ) ;

}

74

i f ( System . g e t P r o p e r t y ( l i b P r o p e r t y ) == n u l l
{

)

F i l e k e r n e l D i r = k e r n e l F i l e . g e t P a r e n t F i l e ( ) ;
F i l e

j l i n k d i r = D i r F i n d e r . f i n d S u b D i r ( k e r n e l D i r , " JLink " ) ;

j l i n k d i r == n u l l

)

Log . msg ( " can ‚Äô t
return ;

f i n d l i b d i r " ) ;

i f (
{

}

S t r i n g j l i n k d i r P a t h = j l i n k d i r . getPath ( ) ;

Log . msg ( " l i b d i r : "+j l i n k d i r P a t h ) ;
System . s e t P r o p e r t y (

l i b P r o p e r t y ,

j l i n k d i r P a t h ) ;

}

try
{

S t r i n g [ ]

c r e a t i n g A r g s = {

"‚àílinkmode " , " l a u n c h " , "‚àílinkname " ,

l o c a t i o n

} ;

K e r n e l L i n k l i n k = MathLinkFactory

. c r e a t e K e r n e l L i n k ( c r e a t i n g A r g s

) ;

l i n k . c o n n e c t (
t i m e o u t
l i n k . d i s c a r d A n s w e r ( ) ;

) ;

// c o n n e c t i o n s u c c e s s .

isFound = true ;
k e r n e l L i n k = l i n k ;
k e r n e l L o c a t i o n = l o c a t i o n ;

Log . msg ( " c o n n e c t e d " ) ;

}
catch ( MathLinkException e )
{

// c o n n e c t i o n f a i l .
Log . msg ( e . g e t M e s s a g e ( )

) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void f i n d U s i n g I n i F i l e ( )
{

Log . msg ( ) ;

S t r i n g path = s e t t i n g s

. g e t S e t t i n g ( " Mathematica path " , "PathToMath" ) ;

i f ( path == n u l l
{

)

Log . msg ( " can ‚Äô t g e t

s e t t i n g PathToMath" ) ;

}
e l s e
{

t r y C o n n e c t ( path ) ;

75

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void f i n d U s i n g R e g i s t e r 1 ( )
{

Log . msg ( ) ;

try
{
S t r i n g [ ] cmdLine = { " r e g " , " query "

, "HKLM\\SOFTWARE\\ Wolfram R e s e a r c h "
, " / s "
, " / t " , "REG_SZ"
} ;

P r o c e s s
i n t retCode = r e g . w aitFor ( ) ;

r e g = Runtime . getRuntime ( ) . e x e c ( cmdLine ) ;

retCode != 0 )

Log . msg ( " f a i l
return ;

i n r e g p r o c e s s : " + retCode ) ;

B u f f e r e d R e a d e r

regOut =
new B u f f e r e d R e a d e r (

new InputStreamReader (

r e g . g e t I n p u t S t r e a m ( ) ) )

i f (
{

}

try
(

) {

P a t t e r n p a t h P a t t e r n = P a t t e r n . c o m p i l e ( " \\S + ? : \ \ \ \ ( . + \ \ \ \ ) " ) ;

f o r ( S t r i n g l i n e = regOut . r e a d L i n e ( )

;
;

l i n e != n u l l
l i n e = regOut . r e a d L i n e ( )

) {

Matcher m = p a t h P a t t e r n . matcher (

l i n e

) ;

i f ( m. f i n d ( )
{

)

S t r i n g path = m. group ( ) + kernelName ;

t r y C o n n e c t ( path ) ;

isFound )

i f (
{

s e t t i n g s . s e t S e t t i n g ( " Mathematica path "

, "PathToMath"
,
) ;

path

Log . msg ( " s u c c e s s : "+path ) ;
break ; // s u c c e s s .

}

}

76

} // f o r

} // t r y‚àíwith‚àír e s o u r c e s

}
catch (
{

I n t e r r u p t e d E x c e p t i o n |

IOException ex )

Log . msg ( ex . g e t M e s s a g e ( )

) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void f i n d U s i n g R e g i s t e r 2 ( )
{

P a t t e r n p = P a t t e r n . c o m p i l e ( " ^ ( [ c‚àízC‚àíZ ] + ) : ( \ \ \ \ .* )* \ \ . ( .* ) $ " ) ;

R e g i s t r y K e y w o l f k y e = new R e g i s t r y K e y ( RootKey .HKEY_LOCAL_MACHINE

, "SOFTWARE\\ Wolfram R e s e a r c h "
) ;

R e g i s t r y S e l e c t o r
A r r a y L i s t <R e g i s t r y V a l u e > f i n d V a l u e D a t a = r s . f i n d V a l u e D a t a ( w o l f k y e

r s = new R e g i s t r y S e l e c t o r ( p ) ;

) ;

f o r ( R e g i s t r y V a l u e v :
{

f i n d V a l u e D a t a )

S t r i n g path = v . getData ( ) . t o S t r i n g ( ) ;

path = path . s u b s t r i n g ( 0 , path . l a s t I n d e x O f ( " \\ " ) + 1 )

. c o n c a t ( kernelName ) ;

t r y C o n n e c t ( path ) ;

isFound )

i f (
{

s e t t i n g s . s e t S e t t i n g ( " Mathematica path "

, "PathToMath"
,
) ;

path

Log . msg ( " s u c c e s s : "+path ) ;
break ; // s u c c e s s .

}

}

}

}

MathPresentationBuilder.java

package v3 ;

import j a v a x . swing . BoxLayout ;
import j a v a x . swing . J L a b e l ;
import j a v a x . swing . JOptionPane ;
import j a v a x . swing . JPanel ;
import o r g . s c i l a b . f o r g e . j l a t e x m a t h . TeXConstants ;
import o r g . s c i l a b . f o r g e . j l a t e x m a t h . TeXFormula ;
import v3 . MathConnection . MathConnectionException ;

77

/**
*
* @author User
*/
public
c l a s s M a t h P r e s e n t a t i o n B u i l d e r
{

private i n t f o n t S i z e = 2 0 ;

private S t r i n g i n p u t = n u l l ;

i n t readMath = 1 ;
private f i n a l
i n t readText = 2 ;
private f i n a l
private i n t readNow = readText ;

private JPanel
private S t r i n g B u i l d e r c u r r L i n e = new S t r i n g B u i l d e r ( ) ;
private S t r i n g B u i l d e r e r r o r M s g = new S t r i n g B u i l d e r ( ) ;

t a r g e t = new JPanel ( ) ;

enum TermType { func , number , b r a c k e t s ,
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

l i s t } ;

public M a t h P r e s e n t a t i o n B u i l d e r ( )
{

t a r g e t . s e t L a y o u t ( new BoxLayout ( t a r g e t , BoxLayout . Y_AXIS)

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public JPanel b u i l d ( S t r i n g i n p u t T e x t

)

throws MathConnectionException

{

t h i s . i n p u t = i n p u t T e x t . r e p l a c e A l l ( " \ r \n" , " \n" )

. r e p l a c e A l l ( " \ r " , " \n" ) ;

i n t c u r r e n t P o s = 0 ;
while ( true )
{

Range math = findMath ( c u r r e n t P o s
i f ( math == n u l l
{

)

) ;

break ;

}

i f ( math . b e g i n > c u r r e n t P o s
{

)

S t r i n g t e x t = i n p u t . s u b s t r i n g ( c u r r e n t P o s , math . b e g i n ) ;
t r e a t T e x t (

t e x t

) ;

}

S t r i n g tMath = i n p u t . s u b s t r i n g ( math . begin , math . end ) ;
treatMath ( tMath ) ;

i f ( math . end < i n p u t . l e n g t h ( )
{

)

i n p u t . charAt ( math . end ) == ‚Äô \n ‚Äô

)

newLine ( ) ;

i f (
{

}

}

78

c u r r e n t P o s = math . end ;

}
i f ( c u r r e n t P o s < i n p u t . l e n g t h ( )
{

)

t r e a t T e x t (

i n p u t . s u b s t r i n g ( c u r r e n t P o s )

) ;

}
addLine ( ) ;
return t a r g e t ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void treatMath ( S t r i n g math ) throws MathConnectionException
{

i f ( math . c o n t a i n s ( "#" )
{

)

S t r i n g B u i l d e r workMath = new S t r i n g B u i l d e r ( math ) ;
i n t l e n = math . l e n g t h ( ) ;
i n t s t a r t = math . indexOf ( "#" ) ;
while (
{

!= ‚àí1 )

s t a r t

i n t c u r r = s t a r t ;
while ( c u r r < l e n && i s L a t i n L e t t e r ( workMath . charAt ( c u r r ) )
{

)

++c u r r ;

}
workMath . i n s e r t (
workMath . i n s e r t ( c u r r +1 ,

s t a r t ,

‚Äô \" ‚Äô

) ;

‚Äô \" ‚Äô

) ;

s t a r t = workMath . indexOf ( "#" , c u r r +2 ) ;
l e n += 2 ;

}
math = workMath . t o S t r i n g ( ) ;

}

WolfMathToLaTeXConverter c o n v e r t e r = new WolfMathToLaTeXConverter ( ) ;
S t r i n g l a t e x = c o n v e r t e r . c o n v e r t ( math ) ;
i f (
{

l a t e x != n u l l

)

c u r r L i n e . append (

l a t e x ) ;

i f ( e r r o r M s g == n u l l
{

)

e r r o r M s g = new S t r i n g B u i l d e r ( ) ;

}

e r r o r M s g . append ( " E r r o r
. append ( math )
. append ( " : \ n" )
. append ( c o n v e r t e r . getErrorMsg ( )
. append ( " \n" ) ;

i n " )

)

}
e l s e
{

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void t r e a t T e x t ( S t r i n g t e x t
{

)

79

t e x t . c o n t a i n s ( " \n" )

)

i f (
{

i n t count = 0 ;
S t r i n g [ ]
f o r ( S t r i n g s :
{

s p l i t = t e x t . s p l i t ( " \n" ) ;

s p l i t

)

t r e a t T e x t ( s ) ;
i f ( count++ < s p l i t . l e n g t h ‚àí 1 )
{

newLine ( ) ;

}

t e x t . endsWith ( " \n" )

)

}
i f (
{

newLine ( ) ;

}
return ;

}

S t r i n g l a t e x = " \\ t e x t { "+t e x t+" } " ;
c u r r L i n e . append (

l a t e x ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private boolean i s U n a r y ( char ch )
{

return "‚àí+" . indexOf ( ch ) != ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private boolean i s S p a c e ( char ch )
{

return " \ t " . indexOf ( ch ) != ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private boolean isMathOperator ( char ch )
{

return "*+‚àí/<=>^" . indexOf ( ch ) != ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private boolean i s D i g g i t ( char ch )
{

return " 0123456789 " . indexOf ( ch ) != ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private boolean i s L a t i n L e t t e r ( char ch )
{

return "qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM#"

indexOf ( ch ) != ‚àí1;

.

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

80

private void newLine ( )
{

addLine ( ) ;
c u r r L i n e = new S t r i n g B u i l d e r ( ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void addLine ( )
{

Log . msg ( ) ;

S t r i n g l a t e x = c u r r L i n e . t o S t r i n g ( ) ;

t a r g e t . add ( new J L a b e l ( new TeXFormula (

l a t e x )

s e t S t y l e ( TeXConstants . STYLE_DISPLAY )
s e t S i z e (

. new TeXIconBuilder ( )
.
.
. b u i l d ( )
)

f o n t S i z e )

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

Range findMath (
{

i n t s t a r t P o s

)

i n t s t a r t F i n d = s t a r t P o s ;
while ( true )
{

i n t beginMath = findBeginMath (
i f ( beginMath == ‚àí1 )
{

s t a r t F i n d ) ;

return n u l l ;

}

i n t endMath = readMath ( beginMath ) ;
i f ( endMath == ‚àí1 )
{

s t a r t F i n d = beginMath + 1 ;
continue ;

}

return new Range ( beginMath , endMath ) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

i n t findBeginMath (
{

i n t s t a r t P o s

)

i n t l e n g t h = i n p u t . l e n g t h ( ) ;
i n t c u r r e n t P o s = s t a r t P o s ;
f o r (
{

; c u r r e n t P o s < l e n g t h ; ++c u r r e n t P o s

)

char ch = i n p u t . charAt ( c u r r e n t P o s
i f (
{

i s F i r s t C h a r I n T e r m ( ch )

)

) ;

return c u r r e n t P o s ;

}

}
return ‚àí1;

81

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

i n t readMath (
{

i n t s t a r t P o s

)

i n t endMath = ‚àí1;
i n t beginTerm = s t a r t P o s ;
while ( true )
{

i n t endTerm = readTerm ( beginTerm ) ;
i f ( endTerm == ‚àí1 )
{

break ;

}

endMath = endTerm ;

i n t nextNonSpacePos = s k i p S p a c e s ( endTerm ) ;
i f ( nextNonSpacePos == ‚àí1 )
{

break ;

}

char nonSpace = i n p u t . charAt ( nextNonSpacePos
i f (
{

isMathOperator ( nonSpace )

)

!

) ;

break ;

}
i f ( nonSpace == ‚Äô‚àí ‚Äô
{

)

i f ( nextNonSpacePos + 1 < i n p u t . l e n g t h ( )
{

)

i n p u t . charAt ( nextNonSpacePos + 1 ) == ‚Äô> ‚Äô

)

++nextNonSpacePos ;

i f (
{

}

}

}

beginTerm = nextNonSpacePos + 1 ;

}
return endMath ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

boolean i s F i r s t C h a r I n T e r m ( char t e s t
{

)

return i s L a t i n L e t t e r ( t e s t )

| |
| |
| |
| |

i s D i g g i t ( t e s t )
i s U n a r y ( t e s t )
t e s t == ‚Äô ( ‚Äô
t e s t == ‚Äô { ‚Äô ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

i n t readTerm (

i n t s t a r t P o s

)

82

{

i n t nonSpacePos = s k i p S p a c e s (

s t a r t P o s

) ;

TermType t y pe = determineTermType ( nonSpacePos
i f (
{

)

t yp e == n u l l
return ‚àí1;

) ;

}

switch (
{

t yp e )

case l i s t :
case f u n c :
case number :
case b r a c k e t s : return readBracketsTerm ( nonSpacePos

return readListTerm ( nonSpacePos
return readFuncTerm ( nonSpacePos
return readNumberTerm ( nonSpacePos

) ;
) ;

) ;

) ;

d e f a u l t :

S t r i n g e r r o r = " u n e x p e c t e d t yp e o f
throw new I l l e g a l S t a t e E x c e p t i o n ( e r r o r

term " ;
) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

TermType determineTermType (
{

i n t s t a r t P o s

)

char f i r s t = i n p u t . charAt (

s t a r t P o s

) ;

i s L a t i n L e t t e r ( f i r s t )

)

return TermType . f u n c ;

i s D i g g i t ( f i r s t )

)

return TermType . number ;

f i r s t == ‚Äô ( ‚Äô

)

return TermType . b r a c k e t s ;

f i r s t == ‚Äô { ‚Äô

)

return TermType . l i s t ;

i s U n a r y ( f i r s t )

)

i f (
{

}

i f (
{

}

i f (
{

}

i f (
{

}

i f (
{

i n t newStart = s k i p S p a c e s (
i f ( newStart != ‚àí1 )
{

s t a r t P o s + 1 ) ;

return determineTermType ( newStart

) ;

}

}

return n u l l ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

83

i n t readFuncTerm (
{

i n t s t a r t P o s

)

i n t l e n g t h = i n p u t . l e n g t h ( ) ;
i n t endHeader = s k i p H e a d e r (
i f ( endHeader == l e n g t h )
{

return l e n g t h ;

}

skipUnary ( s t a r t P o s )

) ;

i n t nonSpacePos = s k i p S p a c e s ( endHeader
i f ( nonSpacePos == ‚àí1 )
{

) ;

return l e n g t h ;

}

char nonSpace = i n p u t . charAt ( nonSpacePos
i f ( nonSpace == ‚Äô [ ‚Äô
{

)

) ;

i n t b e g i n S e q u e n c e = nonSpacePos + 1 ;
i n t endSequence = readSequenceMath ( b e g i n S e q u e n c e ,
i f ( endSequence != ‚àí1 )
{

return s k i p S p a c e s ( endSequence ) + 1 ;

‚Äô ] ‚Äô

) ;

}
e l s e
{

}

}

return ‚àí1;

return endHeader ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private i n t readSequenceMath (
{

i n t beginMath = s t a r t P o s ;
while ( true )
{

i n t s t a r t P o s , char t e r m i n a t o r

)

i f ( beginMath >= i n p u t . l e n g t h ( )
{

return ‚àí1;

)

}

i n t endMath = readMath ( beginMath ) ;
i f ( endMath == ‚àí1 )
{

return ‚àí1;

}

i n t nextNonSpacePos = s k i p S p a c e s ( endMath ) ;
i f ( nextNonSpacePos == ‚àí1 )
{

return ‚àí1;

}

char nonSpace = i n p u t . charAt ( nextNonSpacePos
i f ( nonSpace == t e r m i n a t o r
{

)

) ;

84

return endMath ;

}
e l s e
i f ( nonSpace == ‚Äô , ‚Äô
{

)

beginMath = nextNonSpacePos + 1 ;
continue ; //Read n e x t math .

}
e l s e
{

}

}

return ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private i n t readNumberTerm (
{

i n t s t a r t P o s

)

i n t l e n g t h = i n p u t . l e n g t h ( ) ;
i n t c u r r e n t P o s = s t a r t P o s ;
f o r (
{

; c u r r e n t P o s < l e n g t h ; ++c u r r e n t P o s

)

char ch = i n p u t . charAt ( c u r r e n t P o s
i f (
{

i s D i g g i t ( ch )

!

)

) ;

return c u r r e n t P o s ;

}

}
return l e n g t h ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private i n t readListTerm (
{

i n t s t a r t P o s

)

i n t beginMathSequence = s k i p S p a c e s (
i f ( beginMathSequence == ‚àí1 )
{

return ‚àí1;

}

s t a r t P o s + 1 ) ;

i n t endSequenceMath = readSequenceMath ( beginMathSequence ,
i f ( endSequenceMath == ‚àí1 )
{

return ‚àí1;

‚Äô } ‚Äô

) ;

}

i n t e n d L i s t = s k i p S p a c e s ( endSequenceMath ) ;
i f ( e n d L i s t == ‚àí1 )
{

return ‚àí1;

}

return e n d L i s t + 1 ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private i n t readBracketsTerm (
{

i n t s t a r t P o s

)

85

i n t beginMath = s k i p S p a c e s (
i f ( beginMath == ‚àí1 )
{

return ‚àí1;

}

s t a r t P o s + 1 ) ;

i n t endMath = readMath ( beginMath ) ;
i f ( endMath == ‚àí1 )
{

return ‚àí1;

}

i n t e n d L i s t = s k i p S p a c e s ( endMath ) ;
i f ( e n d L i s t == ‚àí1 )
{

return ‚àí1;

}

return e n d L i s t + 1 ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private i n t s k i p H e a d e r (
{

i n t s t a r t P o s

)

i n t l e n g t h = i n p u t . l e n g t h ( ) ;
i n t c u r r e n t P o s = s t a r t P o s ;
f o r (
{

; c u r r e n t P o s < l e n g t h ; ++c u r r e n t P o s

)

char ch = i n p u t . charAt ( c u r r e n t P o s
i f (
{

i s L a t i n L e t t e r ( ch )

)

!

) ;

return c u r r e n t P o s ;

}

}
return l e n g t h ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

i n t skipUnary (
{

i n t s t a r t P o s

)

return i s U n a r y (

i n p u t . charAt ( s t a r t P o s )

)

? s k i p S p a c e s (
:

s t a r t P o s ;

s t a r t P o s + 1 )

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private i n t s k i p S p a c e s (
{

i n t s t a r t P o s

)

i n t l e n g t h = i n p u t . l e n g t h ( ) ;
i n t c u r r e n t P o s = s t a r t P o s ;
f o r (
{

; c u r r e n t P o s < l e n g t h ; ++c u r r e n t P o s

)

char ch = i n p u t . charAt ( c u r r e n t P o s
i f (
{

i s S p a c e ( ch )

)

!

) ;

return c u r r e n t P o s ;

}

}

86

return ‚àí1;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

c l a s s Range
{

public f i n a l
public f i n a l
public Range (
{

i n t b e g i n ;
i n t end ;

i n t begin ,

i n t end )

t h i s . b e g i n = b e g i n ;
t h i s . end = end ;

}

}

}

MathPresentationPanel.java

package v3 ;

import j a v a x . swing . J S c r o l l P a n e ;
import v3 . MathConnection . MathConnectionException ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends
{

M a t h P r e s e n t a t i o n P a n e l
J S c r o l l P a n e

public void b u i l d ( S t r i n g t e x t
{

) throws MathConnectionException

s e t V i e w p o r t V i e w ( new M a t h P r e s e n t a t i o n B u i l d e r ( ) . b u i l d ( t e x t )
r e v a l i d a t e ( ) ;

) ;

}

}

SettingManager.java

package v3 ;

import j a v a . i o . F i l e ;
import j a v a . i o . IOException ;
import o r g . i n i 4 j . I n i ;
/**
*
* @author Dmitriy Krylov
*/
public c l a s s S e t t i n g M a n a g e r
{

private S t r i n g s e t t i n g F i l e L o c a t i o n = " s e t t i n g s . i n i " ;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

87

private s t a t i c S e t t i n g M a n a g e r

s e t t i n g M a n a g e r = new S e t t i n g M a n a g e r ( ) ;

public s t a t i c S e t t i n g M a n a g e r g e t S e t t i n g M a n a g e r ( )
{

return s e t t i n g M a n a g e r ;

}

private S e t t i n g M a n a g e r ( ) {}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g g e t S e t t i n g ( S t r i n g s e c t i o n , S t r i n g s e t t i n g )
{

Log . msg ( " g e t

s e t t i n g : " + s e t t i n g + " ( "+s e c t i o n+" ) " ) ;

try
{

i n i = new I n i ( new F i l e ( s e t t i n g F i l e L o c a t i o n )

) ;

I n i
return i n i . g e t (

s e c t i o n ,

s e t t i n g ) ;

}
catch (
{

IOException ex )

Log . msg ( " e r r o r : " + ex . g e t M e s s a g e ( )

) ;

}

return n u l l ;

}

public boolean s e t S e t t i n g ( S t r i n g s e c t i o n , S t r i n g s e t t i n g , S t r i n g v a l u e )
{

boolean r e t V a l u e = f a l s e ;

Log . msg ( " s e t
try
{

s e t t i n g : " + s e c t i o n + " " + s e t t i n g + " = " + v a l u e

) ;

i n i = new I n i ( new F i l e ( s e t t i n g F i l e L o c a t i o n )

) ;

s e c t i o n ,

s e t t i n g , v a l u e

) ;

I n i
i n i . put (
i n i . s t o r e ( ) ;

r e t V a l u e = true ;

}
catch (
{

IOException ex )

Log . msg ( " e r r o r : " + ex . g e t M e s s a g e ( )

) ;

}

return r e t V a l u e ;

}

}

RegistrySelector.java

package v3 ;

import ca . beq . u t i l . win32 . r e g i s t r y . R e g i s t r y E x c e p t i o n ;
import ca . beq . u t i l . win32 . r e g i s t r y . R e g i s t r y K e y ;
import ca . beq . u t i l . win32 . r e g i s t r y . R e g i s t r y V a l u e ;
import ca . beq . u t i l . win32 . r e g i s t r y . RootKey ;

88

import j a v a . i o . F i l e ;
import j a v a . i o . FileOutputStream ;
import j a v a . i o . IOException ;
import j a v a . i o . InputStream ;
import j a v a . i o . OutputStream ;
import j a v a . n e t .URL;
import j a v a . u t i l . ArrayDeque ;
import j a v a . u t i l . A r r a y L i s t ;
import j a v a . u t i l . I t e r a t o r ;
import j a v a . u t i l . Queue ;
import j a v a . u t i l . r e g e x . Matcher ;
import j a v a . u t i l . r e g e x . P a t t e r n ;

public c l a s s R e g i s t r y S e l e c t o r
{

private f i n a l s t a t i c S t r i n g DLL_NAME = " j R e g i s t r y K e y . d l l " ;
private f i n a l P a t t e r n p a t t e r n ;

private Queue <RegistryKey> k e y s = new ArrayDeque < >();
private Queue <R e g i s t r y V a l u e > queue = new ArrayDeque < >();
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public R e g i s t r y S e l e c t o r ( P a t t e r n p )
{

t h i s . p a t t e r n = p ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public A r r a y L i s t <R e g i s t r y V a l u e > f i n d V a l u e D a t a ( R e g i s t r y K e y r o o t
{

)

f o r ( R e g i s t r y K e y currKey = r o o t

;
;
) {

try
{

currKey != n u l l
currKey = k e y s . p o l l ( )

i f ( currKey . hasSubkeys ( )
{

)

I t e r a t o r
while (
{

s u b k e y s = currKey . s u b k e y s ( ) ;

s u b k e y s . hasNext ( )

)

k e y s . add (

( R e g i s t r y K e y )

s u b k e y s . ne x t ( )

) ;

}

}

i f ( currKey . h a s V a l u e s ( )
{

)

I t e r a t o r v a l u e s = currKey . v a l u e s ( ) ;
while ( v a l u e s . hasNext ( )
{

)

R e g i s t r y V a l u e v a l u e = ( R e g i s t r y V a l u e ) v a l u e s . ne x t ( ) ;
S t r i n g s t r i n g V a l u e = v a l u e . getData ( ) . t o S t r i n g ( ) ;
Matcher m = p a t t e r n . matcher (
i f ( m. matches ( )
{

s t r i n g V a l u e

) ;

)

Log . msg ( v a l u e . g e t S t r i n g V a l u e ( )
queue . add ( v a l u e

) ;

) ;

}

89

}

}

}
catch ( R e g i s t r y E x c e p t i o n ex )
{

Log . msg ( ex . g e t M e s s a g e ( )

) ;

}

} // f o r

return new A r r a y L i s t <> ( queue ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c void i n i t ( )
{

try
{

Log . msg ( ) ;
URL d l l = R e g i s t r y S e l e c t o r . c l a s s . g e t R e s o u r c e ( DLL_NAME ) ;

i f ( d l l == n u l l
{

)

throw new RuntimeException ( " can ‚Äô t

f i n d "+DLL_NAME ) ;

}

F i l e temp = F i l e . c r e a t e T e m p F i l e ( " l i b r a r y " , " . d l l " ) ;
temp . d e l e t e O n E x i t ( ) ;

try (

) {

InputStream i s = d l l . openStream ( ) ;
OutputStream o s = new FileOutputStream ( temp ) ;
i n t r e a d B y t e s = ‚àí1;
byte [ ] b u f f e r = new byte [ 1 0 2 4 ] ;

( r e a d B y t e s = i s . r e a d ( b u f f e r ) )

!= ‚àí1 )

while (
{

o s . w r i t e ( b u f f e r , 0 ,

r e a d B y t e s ) ;

}

}
Log . msg ( " l o a d " ) ;
R e g i s t r y K e y . i n i t i a l i z e ( temp . g e t A b s o l u t e P a t h ( )

) ;

}
catch (
{

IOException ex )

Log . msg ( ex . g e t M e s s a g e ( )

) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c void main ( S t r i n g [ ] a r g s )
{

S t r i n g w o l f = "SOFTWARE\\ Wolfram R e s e a r c h " ;
R e g i s t r y K e y w o l f k y e = new R e g i s t r y K e y ( RootKey .HKLM, w o l f
P a t t e r n p = P a t t e r n . c o m p i l e ( " ^ ( [ c‚àízC‚àíZ ] + ) : ( \ \ \ \ .* )* \ \ . ( .* \ \ . exe ) $ " ) ;
// P a t t e r n p = P a t t e r n . c o m p i l e ( " .* " ) ;

) ;

90

R e g i s t r y S e l e c t o r

r s = new R e g i s t r y S e l e c t o r ( p ) ;

r s . f i n d V a l u e D a t a ( w o l f k y e

) ;

}

}

IncorrectSyntaxException.java

package v3 ;
/**
*
* @author Dmitriy Krylov
*/
public
c l a s s
extends E x c e p t i o n
{

I n c o r r e c t S y n t a x E x c e p t i o n

public I n c o r r e c t S y n t a x E x c e p t i o n ( S t r i n g msg )
{

super ( msg ) ;

}

public I n c o r r e c t S y n t a x E x c e p t i o n ( )
{

super ( ) ;

}

}

–ò—Å—Ö–æ–¥–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ–¥ Andriod

MainActivity.java

package com . example . t e s t 1 a p p ;

import j a v a . i o . B u f f e r e d R e a d e r ;
import j a v a . i o . IOException ;
import j a v a . i o . InputStream ;
import j a v a . i o . InputStreamReader ;
import j a v a . i o . S t r i n g W r i t e r ;
import j a v a . n e t . HttpCookie ;
import j a v a . u t i l . A r r a y L i s t ;
import j a v a . u t i l . HashMap ;
import j a v a . u t i l . L i s t ;
import j a v a . u t i l . r e g e x . Matcher ;
import j a v a . u t i l . r e g e x . P a t t e r n ;

import o r g . apache . h t t p . HttpResponse ;
import o r g . apache . h t t p . NameValuePair ;
import o r g . apache . h t t p . c l i e n t . H t t p C l i e n t ;
import o r g . apache . h t t p . c l i e n t . e n t i t y . UrlEncodedFormEntity ;
import o r g . apache . h t t p . c l i e n t . methods . HttpGet ;
import o r g . apache . h t t p . c l i e n t . methods . HttpPost ;
import o r g . apache . h t t p . c l i e n t . methods . HttpUriRequest ;
import o r g . apache . h t t p . c l i e n t . p r o t o c o l . C l i e n t C o n t e x t ;

91

import o r g . apache . h t t p . c o o k i e . Cookie ;
import o r g . apache . h t t p . impl . c l i e n t . B a s i c C o o k i e S t o r e ;
import o r g . apache . h t t p . impl . c l i e n t . D e f a u l t H t t p C l i e n t ;
import o r g . apache . h t t p . impl . c o o k i e . B a s i c C l i e n t C o o k i e ;
import o r g . apache . h t t p . message . BasicNameValuePair ;
import o r g . apache . h t t p . p r o t o c o l . B a s i c H t t p C o n t e x t ;
import o r g . apache . h t t p . p r o t o c o l . HttpContext ;

import a n d r o i d . o s . Bundle ;
import a n d r o i d . a n n o t a t i o n . S u p p r e s s L i n t ;
import a n d r o i d . app . A c t i v i t y ;
import a n d r o i d . c o n t e n t . r e s . AssetManager ;
import a n d r o i d . view . Menu ;
import a n d r o i d . view . View ;
import a n d r o i d . w e b k i t . WebView ;
import a n d r o i d . w i d g e t . AdapterView ;
import a n d r o i d . w i d g e t . ArrayAdapter ;
import a n d r o i d . w i d g e t . EditText ;
import a n d r o i d . w i d g e t . L i s t V i e w ;
import a n d r o i d . w i d g e t . TextView ;

public c l a s s M a i n A c t i v i t y extends A c t i v i t y {

private f i n a l S t r i n g BASE_ADDRESS = " h t t p : / / edu2 . n s c i e n c e . ru " ;
private f i n a l S t r i n g KERNEL_ADDRESS = " h t t p : / / i n t . pm . miem . edu . ru / taskpower3_war_exploded " ;

private f i n a l S t r i n g PROF_ADDRESS = BASE_ADDRESS + " / p r o f / " ;
private f i n a l S t r i n g TEST_REGISTER = BASE_ADDRESS + " / a j a x / p r o f e s s o r _ a u t h . php" ;
private f i n a l S t r i n g CHECK_ANSWER = KERNEL_ADDRESS + " / compareAnswer . do " ;
private f i n a l S t r i n g GET_TASK = KERNEL_ADDRESS + " / getTask . do " ;

private f i n a l H t t p C l i e n t h t t p C l i e n t = new D e f a u l t H t t p C l i e n t ( ) ;
private S t r i n g c o o k i e s L i n e _ = n u l l ;
private S t r i n g userLogin_ = n u l l ;

private L i s t V i e w t a s k L i s t = n u l l ;

private S t r i n g problem ;
private S t r i n g s o l u t i o n ;
private S t r i n g answer ;
private S t r i n g problemPage ;
private S t r i n g S o l u t i o n P a g e ;
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí
@Override
protected void onCreate ( Bundle s a v e d I n s t a n c e S t a t e ) {

super . onCreate ( s a v e d I n s t a n c e S t a t e ) ;
setContentView (R. l a y o u t . a c t i v i t y _ m a i n ) ;

}

@Override
public boolean onCreateOptionsMenu (Menu menu ) {

// I n f l a t e t h e menu ;
g e t M e n u I n f l a t e r ( ) . i n f l a t e (R. menu . main , menu ) ;
return true ;

t h i s adds i t e m s t o t h e a c t i o n b a r

i f

i t

i s p r e s e n t .

}

public void c l i c k H a n d l e r ( View t a r g e t ) {

switch (

t a r g e t . g e t I d ( )

) {

92

case R. i d . u s e r E n t e r B u t t o n :

u s e r E n t e r ( ) ;
break ;

case R. i d . returnHomeButton :

setContentView (R. l a y o u t . a c t i v i t y _ m a i n ) ;
break ;

case R. i d . r e t u r n T a s k L i s t B u t t o n :

readAndShowListOfTask ( userLogin_ ) ;
break ;

case R. i d . answerEnteredButton :

boolean r i g t h A n s w e r = checkAnswer ( ) ;
setContentView (R. l a y o u t . t a s t _ r e s u l t ) ;

TextView t e x t = ( TextView ) t h i s . findViewById (

R. i d . s o l u t i o n R e s u l t T e x t

) ;

i f (

r i g t h A n s w e r
t e x t . s e t T e x t ( "–í–∞—à –æ—Ç–≤–µ—Ç –≤–µ—Ä–Ω—ã–π" ) ;

) {

} e l s e {

t e x t . s e t T e x t ( "–í–∞—à –æ—Ç–≤–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π . –†–µ—à–µ–Ω–∏–µ : " ) ;
WebView web = ( WebView ) t h i s . findViewById ( R. i d . webview ) ;
web . g e t S e t t i n g s ( ) . s e t J a v a S c r i p t E n a b l e d ( true ) ;
web . loadDataWithBaseURL ( " f a k e " , S o l u t i o n P a g e ,

" t e x t / html " , " u t f ‚àí8" , " " ) ;

}

break ;

d e f a u l t :

// do n o t h i n g .
break ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private boolean checkAnswer ( ) {

EditText e t = ( EditText ) t h i s . findViewById ( R. i d . taskAnswerEditText

) ;

S t r i n g r e a l _ a n s w e r = answer ;
S t r i n g user_answer = " ( "+e t . g e t T e x t ( ) . t o S t r i n g ()+ " ) " ;

try {

S t r i n g r e s u l t =
h t t p R e q u e s t P o s t (

CHECK_ANSWER,
" user_answer " , user_answer ,
" r e a l _ a n s w e r " ,

r e a l _ a n s w e r

) ;

return r e s u l t . t r i m ( ) . e q u a l s ( " True " ) ;

} catch ( E x c e p t i o n e ) {

// TODO Auto‚àíg e n e r a t e d c a t c h b l o c k
e . p r i n t S t a c k T r a c e ( ) ;

}
return f a l s e ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public void u s e r E n t e r ( ) {

93

EditText e t = ( EditText ) t h i s . findViewById ( R. i d . u s e r L o g i n E d i t T e x t
S t r i n g u s e r L o g i n = e t . g e t T e x t ( ) . t o S t r i n g ( ) ;

) ;

try {

boolean u s e r R e g i s t e r e d = t e s t U s e r R e g i s t e r e d ( u s e r L o g i n ) ;
i f ( u s e r R e g i s t e r e d ) {

readAndShowListOfTask ( u s e r L o g i n ) ;
userLogin_ = u s e r L o g i n ;

}

} catch ( E x c e p t i o n e ) {
e . p r i n t S t a c k T r a c e ( ) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void readAndShowListOfTask ( S t r i n g u s e r L o g i n ) {

try {

c o o k i e s L i n e _ = " l o g i n=" + u s e r L o g i n ;
S t r i n g page ;
page = h t t p R e q u e s t P o s t ( PROF_ADDRESS ) ;

f i n a l S t r i n g [ ]
f i n a l S t r i n g [ ]
f i n a l S t r i n g [ ]

t a s k s = makeTaskList ( page ) ;
taskNames = new S t r i n g [ t a s k s . l e n g t h / 2 ] ;
t a s k R e f s = new S t r i n g [ t a s k s . l e n g t h / 2 ] ;

f o r (

i <taskNames . l e n g t h ; ++i

i n t i =0;
taskNames [ i ] = t a s k s [ 2* i ] ;
t a s k R e f s [ i ] = t a s k s [ 2* i + 1 ] ;

) {

}

ArrayAdapter<S t r i n g > l i s t A d a p t e r = new ArrayAdapter<S t r i n g >(

t h i s ,
R. l a y o u t . simplerow ,
taskNames

) ;
setContentView (R. l a y o u t . t a s k _ l i s t ) ;
t a s k L i s t = ( L i s t V i e w ) findViewById (R. i d . t a s k L i s t ) ;
t a s k L i s t . s e t A d a p t e r (
l i s t A d a p t e r
t a s k L i s t . s e t O n I t e m C l i c k L i s t e n e r (

) ;

new MyOnItemClickListener (

t a s k R e f s

) ) ;

} catch ( E x c e p t i o n e1 ) {

// TODO Auto‚àíg e n e r a t e d c a t c h b l o c k
e1 . p r i n t S t a c k T r a c e ( ) ;

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g [ ] makeTaskList ( S t r i n g page ) {

L i s t <S t r i n g > t a s k L i s t = new A r r a y L i s t <S t r i n g > ( ) ;

S t r i n g f i n d P a t t e r n = "<a h r e f = ‚Äô/ edu / i n d e x . php ? t a s k=" ;
S t r i n g r e f = n u l l ;
S t r i n g name = n u l l ;

i n t patLen = f i n d P a t t e r n . l e n g t h ( ) ;

94

i n t s t a r t = 0 ;
i n t end = 0 ;

do{

f i n d P a t t e r n , end ) ;

s t a r t = page . indexOf (
i f (

!= ‚àí1 ) {

s t a r t
s t a r t += patLen ;
end = page . indexOf ( "&" ,
i f ( end != ‚àí1 ) {

name = page . s u b s t r i n g (
t a s k L i s t . add ( name ) ;
t a s k L i s t . add (

r e f

) ;

}

}

}

}

} while (

s t a r t

!= ‚àí1 && end != ‚àí1 ) ;

s t a r t

) ;

s t a r t , end ) ;
‚Äô> ‚Äô , end ) ;

r e f = page . s u b s t r i n g (
s t a r t = page . indexOf (
i f (

!= ‚àí1 ) {

s t a r t
s t a r t += 1 ;
end = page . indexOf ( "</a>" ,
i f ( end != ‚àí1 ) {

s t a r t

) ;

s t a r t , end ) ;

S t r i n g [ ]
return t a s k L i s t . toArray (

t a s k L i s t A r r a y = new S t r i n g [ t a s k L i s t . s i z e ( ) ] ;

t a s k L i s t A r r a y ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private void r e q u e s t T a s k ( S t r i n g t a s k R e f

) throws E x c e p t i o n {

setContentView (R. l a y o u t . task_view ) ;
WebView web = ( WebView ) t h i s . findViewById ( R. i d . webview ) ;
web . g e t S e t t i n g s ( ) . s e t J a v a S c r i p t E n a b l e d ( true ) ;

S t r i n g t a s k D e s c r i p t i o n ;
t a s k D e s c r i p t i o n = httpRequestGet ( GET_TASK, " t a s k " ,

t a s k R e f

) ;

problem = extractXMLByTag (
s o l u t i o n = extractXMLByTag (
answer = extractXMLByTag (

t a s k D e s c r i p t i o n , " problem " ) ;

t a s k D e s c r i p t i o n , " s o l u t i o n " ) ;

t a s k D e s c r i p t i o n , " answer " ) ;

InputStream i s = g e t A s s e t s ( ) . open ( " h t m l p a t t e r n " ) ;
S t r i n g h t m l P a t t e r n = c o n v e r t S t r e a m T o S t r i n g (

i s

) ;

problem = problem . r e p l a c e ( "&#8518;" , "d" )

. r e p l a c e ( "&#8519;" , " e " ) ;

s o l u t i o n = s o l u t i o n . r e p l a c e ( "&#8518;" , "d" )

. r e p l a c e ( "&#8519;" , " e " ) ;

problemPage = h t m l P a t t e r n . r e p l a c e ( " ! ! ! " , problem ) ;
S o l u t i o n P a g e = h t m l P a t t e r n . r e p l a c e ( " ! ! ! " ,
web . loadDataWithBaseURL ( " f a k e " , problemPage , " t e x t / html " , " u t f ‚àí8" , " " ) ;
// web . l o a d U r l (" h t t p : / /www. mathjax . o r g /demos/ t e x‚àís a m p l e s / " ) ;

s o l u t i o n ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

95

private S t r i n g extractXMLByTag ( S t r i n g page , S t r i n g t a g ) {

S t r i n g p a t t e r n S t r i n g = "<" + t a g + " .*? >(.*?) </ " + t a g + ">" ;

i n t f l a g s = P a t t e r n . MULTILINE | P a t t e r n .DOTALL;
P a t t e r n p = P a t t e r n . c o m p i l e ( p a t t e r n S t r i n g ,

f l a g s

) ;

Matcher m = p . matcher ( page ) ;

i f ( m. f i n d ( )

) {

return m. group ( 1 ) ;

}
return n u l l ;

}

//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public boolean t e s t U s e r R e g i s t e r e d ( S t r i n g u s e r L o g i n )

throws E x c e p t i o n {

S t r i n g r e s u l t = httpRequestGet ( TEST_REGISTER, " l o g i n " , u s e r L o g i n ) ;
return r e s u l t . t r i m ( ) . e q u a l s ( " 1 " ) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g httpRequestGet ( S t r i n g r e q u e s t , S t r i n g . . . params )

throws E x c e p t i o n {

i f ( params . l e n g t h % 2 != 0 ) {

S t r i n g e r r o r = "number o f params
throw new I l l e g a l A r g u m e n t E x c e p t i o n ( e r r o r

i s not even " ;

) ;

}

S t r i n g r e s u l t R e q u e s t = r e q u e s t ;

i f ( params . l e n g t h != 0 ) {
r e s u l t R e q u e s t += " ? " ;
f o r (

i n t i = 0 ;

i < params . l e n g t h ;

i +=2 ) {

r e s u l t R e q u e s t += params [ i ]+ "="+params [ i + 1 ] ;

}

}

HttpGet g e t R e q u e s t = new HttpGet (
return h t t p R e q u e s t ( g e t R e q u e s t
) ;

r e s u l t R e q u e s t

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public S t r i n g h t t p R e q u e s t P o s t ( S t r i n g r e q u e s t , S t r i n g . . . params )

throws E x c e p t i o n {

i f ( params . l e n g t h % 2 != 0 ) {

S t r i n g e r r o r = "number o f params
throw new I l l e g a l A r g u m e n t E x c e p t i o n ( e r r o r

i s not even " ;

) ;

}

HttpPost p o s t R e q u e s t = new HttpPost (

r e q u e s t

) ;

i f ( params . l e n g t h != 0 ) {

96

i n t pairNum = params . l e n g t h / 2 ;
f i n a l
L i s t <NameValuePair> p o s t P a r a m e t e r s =

new A r r a y L i s t <NameValuePair >( pairNum ) ;

f o r (

i n t i = 0 ;

i <params . l e n g t h ;

i +=2 ) {

p o s t P a r a m e t e r s . add (

new BasicNameValuePair ( params [ i ] , params [ i +1]

) ) ;

}

UrlEncodedFormEntity f o r m E n t i t y =

new UrlEncodedFormEntity ( p o s t P a r a m e t e r s

) ;

p o s t R e q u e s t . s e t E n t i t y ( f o r m E n t i t y ) ;

}

return h t t p R e q u e s t ( p o s t R e q u e s t

) ;

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

private S t r i n g h t t p R e q u e s t ( HttpUriRequest

r e q u e s t

)

throws E x c e p t i o n {

i f ( c o o k i e s L i n e _ != n u l l

) {

r e q u e s t . s e t H e a d e r ( " Cookie " , c o o k i e s L i n e _ ) ;

}
HttpResponse r e s p o n s e = h t t p C l i e n t . e x e c u t e (

r e q u e s t

) ;

InputStream i s = n u l l ;
try {

i s = r e s p o n s e . g e t E n t i t y ( ) . g e t C o n t e n t ( ) ;
return c o n v e r t S t r e a m T o S t r i n g (

i s

) ;

} f i n a l l y {

!= n u l l

i s
i s . c l o s e ( ) ;

) {

i f (

}

}

}
//‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí

public s t a t i c S t r i n g c o n v e r t S t r e a m T o S t r i n g (

InputStream i s

)

throws IOException {

i f (

i s == n u l l
throw new I l l e g a l A r g u m e n t E x c e p t i o n ( " a r g i s n u l l " ) ;

) {

}

B u f f e r e d R e a d e r
i n = new B u f f e r e d R e a d e r (new InputStreamReader (

i n ;

i s

) ) ;

S t r i n g B u f f e r
S t r i n g s e p a r a t o r = System . g e t P r o p e r t y ( " l i n e . s e p a r a t o r " ) ;

sb = new S t r i n g B u f f e r ( ) ;

S t r i n g l i n e ;
while (

( l i n e = i n . r e a d L i n e ( ) )

!= n u l l

) {

sb . append (

l i n e + s e p a r a t o r

) ;

}

S t r i n g r e s u l t = sb . t o S t r i n g ( ) ;
return r e s u l t ;

97

}

//========================================================================

c l a s s MyOnItemClickListener
implements AdapterView . O n I t e m C l i c k L i s t e n e r {

f i n a l S t r i n g [ ]

t a s k R e f s ;

public MyOnItemClickListener ( S t r i n g [ ]

t a s k R e f s

) {

t h i s . t a s k R e f s = t a s k R e f s ;

}

@Override
public void o n I t e m C l i c k (

AdapterView<?> arg0 ,
View arg1 ,

i n t p o s i t i o n ,

long a r g 3 ) {

try {

} catch ( E x c e p t i o n e ) {

t a s k R e f s [ p o s i t i o n ]

r e q u e s t T a s k (
) ;
// TODO Auto‚àíg e n e r a t e d c a t c h b l o c k
e . p r i n t S t a c k T r a c e ( ) ;

}

}

}

}

activityMain.xml

<?xml version=" 1 . 0 " e n c o d i n g=" u t f ‚àí8" ?>
<L i n e a r L a y o u t

x m l n s : a n d r o i d=" h t t p : // schemas . a n d r o i d . com/ apk / r e s / a n d r o i d "
a n d r o i d : l a y o u t _ w i d t h=" match_parent "
a n d r o i d : l a y o u t _ h e i g h t=" match_parent "
a n d r o i d : o r i e n t a t i o n=" v e r t i c a l " >

<TextView

a n d r o i d : i d="@+i d / u s e r E n t e r T e x t F i e l d T i t l e "
a n d r o i d : l a y o u t _ w i d t h=" wrap_content "

a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "

a n d r o i d : t e x t=" @ s t r i n g / u s e r E n t e r T e x t F i e l d T i t l e " />

<L i n e a r L a y o u t

a n d r o i d : l a y o u t _ w i d t h=" match_parent "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "
a n d r o i d : o r i e n t a t i o n=" h o r i z o n t a l " >

<EditText

a n d r o i d : i d="@+i d / u s e r L o g i n E d i t T e x t "
a n d r o i d : i n p u t T y p e=" t e x t "
a n d r o i d : l a y o u t _ w e i g h t=" 1 . 0 "
a n d r o i d : l a y o u t _ w i d t h=" 0dp"
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content " />

<Button

a n d r o i d : i d="@+i d / u s e r E n t e r B u t t o n "
a n d r o i d : o n C l i c k=" c l i c k H a n d l e r "

98

a n d r o i d : l a y o u t _ w i d t h=" wrap_content "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "
a n d r o i d : t e x t=" @ s t r i n g / u s e r E n t e r B u t t o n T e x t " />

</ L i n e a r L a y o u t>

</ L i n e a r L a y o u t>

taskList.xml

<?xml version=" 1 . 0 " e n c o d i n g=" u t f ‚àí8" ?>
<L i n e a r L a y o u t x m l n s : a n d r o i d=" h t t p : // schemas . a n d r o i d . com/ apk / r e s / a n d r o i d "

a n d r o i d : l a y o u t _ w i d t h=" f i l l _ p a r e n t "
a n d r o i d : l a y o u t _ h e i g h t=" f i l l _ p a r e n t "
a n d r o i d : o r i e n t a t i o n=" v e r t i c a l " >

<Button

a n d r o i d : i d="@+i d / returnHomeButton "
a n d r o i d : o n C l i c k=" c l i c k H a n d l e r "
a n d r o i d : l a y o u t _ w i d t h=" wrap_content "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "
a n d r o i d : t e x t=" @ s t r i n g / returnHomeButtonText " />

<L i s t V i e w

a n d r o i d : i d="@+i d / t a s k L i s t "
a n d r o i d : l a y o u t _ w i d t h=" wrap_content "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content " />

</ L i n e a r L a y o u t>

taskView.xml

<?xml version=" 1 . 0 " e n c o d i n g=" u t f ‚àí8" ?>
<L i n e a r L a y o u t x m l n s : a n d r o i d=" h t t p : // schemas . a n d r o i d . com/ apk / r e s / a n d r o i d "

a n d r o i d : l a y o u t _ w i d t h=" match_parent "
a n d r o i d : l a y o u t _ h e i g h t=" match_parent "
a n d r o i d : o r i e n t a t i o n=" v e r t i c a l " >

<Button

a n d r o i d : i d="@+i d / r e t u r n T a s k L i s t B u t t o n "
a n d r o i d : o n C l i c k=" c l i c k H a n d l e r "
a n d r o i d : l a y o u t _ w i d t h=" wrap_content "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "
a n d r o i d : t e x t=" @ s t r i n g / r e t u r n T a s k L i s t B u t t o n T e x t " />

<WebView

a n d r o i d : i d="@+i d / webview "
a n d r o i d : l a y o u t _ w i d t h=" match_parent "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "

/>

<L i n e a r L a y o u t

a n d r o i d : l a y o u t _ w i d t h=" f i l l _ p a r e n t "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "
a n d r o i d : o r i e n t a t i o n=" h o r i z o n t a l " >

<EditText a n d r o i d : i d="@+i d / taskAnswerEditText "

99

a n d r o i d : i n p u t T y p e=" t e x t "
a n d r o i d : l a y o u t _ w e i g h t=" 1 . 0 "
a n d r o i d : l a y o u t _ w i d t h=" 0dp"
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content " />

<Button

a n d r o i d : i d="@+i d / answerEnteredButton "
a n d r o i d : o n C l i c k=" c l i c k H a n d l e r "
a n d r o i d : l a y o u t _ w i d t h=" wrap_content "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "
a n d r o i d : t e x t=" @ s t r i n g / answerEnteredText " />

</ L i n e a r L a y o u t>

</ L i n e a r L a y o u t>

tastResult.xml

<?xml version=" 1 . 0 " e n c o d i n g=" u t f ‚àí8" ?>
<L i n e a r L a y o u t x m l n s : a n d r o i d=" h t t p : // schemas . a n d r o i d . com/ apk / r e s / a n d r o i d "

a n d r o i d : l a y o u t _ w i d t h=" match_parent "
a n d r o i d : l a y o u t _ h e i g h t=" match_parent "
a n d r o i d : o r i e n t a t i o n=" v e r t i c a l " >

<Button

a n d r o i d : i d="@+i d / r e t u r n T a s k L i s t B u t t o n "
a n d r o i d : o n C l i c k=" c l i c k H a n d l e r "
a n d r o i d : l a y o u t _ w i d t h=" wrap_content "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "
a n d r o i d : t e x t=" @ s t r i n g / r e t u r n T a s k L i s t B u t t o n T e x t " />

<TextView

a n d r o i d : i d="@+i d / s o l u t i o n R e s u l t T e x t "
a n d r o i d : t e x t I s S e l e c t a b l e=" t r u e "
a n d r o i d : l a y o u t _ w i d t h=" wrap_content "

a n d r o i d : l a y o u t _ h e i g h t=" wrap_content " />

<WebView

a n d r o i d : i d="@+i d / webview "
a n d r o i d : l a y o u t _ w i d t h=" match_parent "
a n d r o i d : l a y o u t _ h e i g h t=" wrap_content "

/>

</ L i n e a r L a y o u t>

strings.xml

<?xml version=" 1 . 0 " e n c o d i n g=" u t f ‚àí8" ?>
<r e s o u r c e s>

< s t r i n g name="app_name">uI</ s t r i n g>
< s t r i n g name=" a c t i o n _ s e t t i n g s ">S e t t i n g s</ s t r i n g>
< s t r i n g name=" u s e r E n t e r T e x t F i e l d T i t l e ">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É , –≤–≤–µ–¥–∏—Ç–µ –ª –æ –≥ –∏ –Ω :</ s t r i n g>
< s t r i n g name=" u s e r E n t e r B u t t o n T e x t ">–í—Ö–æ–¥</ s t r i n g>
< s t r i n g name=" returnHomeButtonText ">–í–µ—Ä–Ω—É—Ç—å—Å—è</ s t r i n g>
< s t r i n g name=" r e t u r n T a s k L i s t B u t t o n T e x t ">–í–µ—Ä–Ω—É—Ç—å—Å—è</ s t r i n g>
< s t r i n g name=" answerEnteredText ">–í–≤–µ—Å—Ç–∏ –æ—Ç–≤–µ—Ç</ s t r i n g>

</ r e s o u r c e s>

100

–ò—Å—Ö–æ–¥–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–ª–µ—Ç–æ–≤ —è–¥—Ä–∞

ConverterServlet.java

package s e r v l e t ;

import c o n f i g u r a t i o n . C o n f i g u r a t i o n C o n t e x t H e l p e r ;
import math . MathAware ;
import math . MathException ;
import math . MathModule ;

import j a v a x . s e r v l e t . S e r v l e t E x c e p t i o n ;
import j a v a x . s e r v l e t . h t t p . H t t p S e r v l e t ;
import j a v a x . s e r v l e t . h t t p . H t t p S e r v l e t R e q u e s t ;
import j a v a x . s e r v l e t . h t t p . H t t p S e r v l e t R e s p o n s e ;
import j a v a . i o . IOException ;
import j a v a . i o . P r i n t W r i t e r ;

public c l a s s C o n v e r t e r S e r v l e t extends H t t p S e r v l e t implements MathAware {

public void doPost ( H t t p S e r v l e t R e q u e s t

req , H t t p S e r v l e t R e s p o n s e r e s

)

throws S e r v l e t E x c e p t i o n ,

IOException

{

S t r i n g r e s u l t = n u l l ;
r e s . s e t C h a r a c t e r E n c o d i n g ( "UTF8" ) ;
P r i n t W r i t e r out = r e s . g e t W r i t e r ( ) ;

math = C o n f i g u r a t i o n C o n t e x t H e l p e r

. g e t C o n f i g u r a t i o n C o n t e x t ( )
. getBean ( MathModule . c l a s s ) ;

S t r i n g inputFormat = r e q . g e t P a r a m e t e r ( " inputFormat " ) ;
S t r i n g outputFormat = r e q . g e t P a r a m e t e r ( " outputFormat " ) ;

S t r i n g t r e a t e d _ t e x t = r e q . g e t P a r a m e t e r ( " t e x t " ) ;

i f (

inputFormat == n u l l

| | outputFormat == n u l l
| |
t r e a t e d _ t e x t == n u l l

)

{

r e s u l t = " e r r o r : " ;
i f (

inputFormat == n u l l
r e s u l t += "

)

inputFormat

i f ( outputFormat == n u l l

)

r e s u l t += " , outputFormat
t r e a t e d _ t e x t == n u l l
r e s u l t += " ,

t r e a t e d _ t e x t

)

i f (

}
e l s e
{

i s not

s p e c i f i e d " ;

i s not

s p e c i f i e d " ;

i s not

s p e c i f i e d " ;

inputFormat . e q u a l s ( "LaTeX" )

i f (
&& outputFormat . e q u a l s ( "WolfMath" )
{

)

try
{

S t r i n g r e q u e s t = " T o E xp r e ss i o n [ \ " "

+ t r e a t e d _ t e x t
+ " \ " ,TeXForm , Hold ] " ;

r e s u l t = math . E v a l u a t e (

r e q u e s t

) ;

101

r e s u l t = r e s u l t . s u b s t r i n g ( 5 ,

r e s u l t . l e n g t h ( ) ‚àí 1 ) ;

}
catch ( MathException e )
{

r e s u l t = " e r r o r : " + e . g e t M e s s a g e ( ) ;
e . p r i n t S t a c k T r a c e ( ) ;

}

}
e l s e
i f (
&& outputFormat . e q u a l s ( "LaTeX" )
{

inputFormat . e q u a l s ( "WolfMath" )
)

try
{

S t r i n g r e q u e s t = "TeXForm [ HoldForm [ "+t r e a t e d _ t e x t+" ] ] " ;
r e s u l t = math . E v a l u a t e (

r e q u e s t

) ;

}
catch ( E x c e p t i o n e )
{

r e s u l t = " e r r o r : " + e . g e t M e s s a g e ( ) ;
e . p r i n t S t a c k T r a c e ( ) ;

}

r e s u l t = " e r r o r : unsupported c o n v e r s i o n " ;

}
e l s e
{

}

}

out . p r i n t l n (

r e s u l t

) ;

out . c l o s e ( ) ;

}

public void setMath ( MathModule math ) {

t h i s . math = math ;

}

protected MathModule math ;

}

CheckGrammarServlet.java

–î–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–ª–µ—Ç –±—ã–ª –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω. –í –¥–∞–Ω–Ω–æ–π –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞-
–±–æ—Ç–µ –≤ –Ω–µ–≥–æ –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å
–æ–ø–∏—Å–∞–Ω–∏–µ–º –≤–æ–∑–Ω–∏–∫—à–µ–π –æ—à–∏–±–∫–∏.
package s e r v l e t ;

import j a v a . l a n g . E x c e p t i o n ;

import j a v a x . s e r v l e t . S e r v l e t E x c e p t i o n ;
import j a v a x . s e r v l e t . h t t p . H t t p S e r v l e t ;
import j a v a x . s e r v l e t . h t t p . H t t p S e r v l e t R e q u e s t ;
import j a v a x . s e r v l e t . h t t p . H t t p S e r v l e t R e s p o n s e ;
import j a v a . i o . * ;
import grammar . CheckGrammar ;

102

/**
* Author : Zhukov Dmitry
* Date : 1 7 . 0 5 . 1 1
*/
public c l a s s CheckGrammarServlet extends H t t p S e r v l e t {

public void doPost ( H t t p S e r v l e t R e q u e s t

req , H t t p S e r v l e t R e s p o n s e r e s

)

throws S e r v l e t E x c e p t i o n ,

IOException

{

r e s . s e t C h a r a c t e r E n c o d i n g ( "UTF8" ) ;
P r i n t W r i t e r out = r e s . g e t W r i t e r ( ) ;

S t r i n g f i l e C o n t e n t = r e q . g e t P a r a m e t e r ( " f i l e c o n t e n t " ) ;

try {

CheckGrammar checkGrammar = new CheckGrammar ( ) ;
Boolean s t a t u s = checkGrammar . c h e c k V a l i d (

f i l e C o n t e n t

) ;

out . p r i n t l n (

s t a t u s . t o S t r i n g ( )

) ;

s t a t u s == f a l s e )

out . p r i n t l n ( checkGrammar . getErrorMsg ( )

) ;

i f (
{

}

}
catch ( E x c e p t i o n e ) {

out . p r i n t l n ( " e r r o r " ) ;
System . out . p r i n t l n ( e . g e t M e s s a g e ( )

) ;

}

out . c l o s e ( ) ;

}

}

103

